(function(e){function t(t){for(var n,i,r=t[0],s=t[1],c=t[2],p=0,u=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(u.length)u.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=s;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03c2":function(e,t,a){},"05f6":function(e,t,a){},"07f5":function(e,t,a){},"0b31":function(e,t,a){},"173e":function(e,t,a){"use strict";a("f0a8")},"1ccc":function(e,t,a){},2666:function(e,t,a){"use strict";a("05f6")},"380c":function(e,t,a){"use strict";a("c763")},"385b":function(e,t,a){"use strict";a("81ca")},"49e5":function(e,t,a){"use strict";a("cfff")},"4af2":function(e,t,a){},5191:function(e,t,a){"use strict";a("6c50")},5578:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("7a23");function o(e,t,a,o,l,i){const r=Object(n["L"])("Main");return Object(n["E"])(),Object(n["f"])(r,{msg:"Genie Builder No-Code Editor"})}var l=a("69d7"),i=a("1bd4"),r=a("0a46"),s=a("1fb9"),c=a("1bbd"),d=a("08ca"),p=a("054d"),u=(a("14d9"),a("d9e2"),a("b7ef"),a("88a7"),a("271a"),a("5494"),a("cee4")),b=a("9def"),m=(a("c1ea"),a("c46f"));const _=e=>(Object(n["G"])("data-v-6c90e336"),e=e(),Object(n["F"])(),e),g={style:{position:"relative"}},f={key:0},h=_(()=>Object(n["i"])("i",{class:"fa fa-chevron-right"},null,-1)),y=[h],v={key:1},O=_(()=>Object(n["i"])("i",{class:"fa fa-chevron-down"},null,-1)),j=[O];var w={__name:"PanelTitle",props:["title","expanded"],emits:["expand"],setup(e,{emit:t}){const a=e;let o=Object(n["I"])(a.expanded);function l(){t("expand",o.value)}return Object(n["W"])(a,e=>{o.value=e.expanded}),(t,a)=>(Object(n["E"])(),Object(n["h"])("div",g,[Object(n["i"])("div",{class:"title",onClick:l},Object(n["O"])(e.title),1),Object(n["i"])("div",{class:"expandBtn",onClick:l},[Object(n["Q"])(o)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("span",f,y)),Object(n["Q"])(o)?(Object(n["E"])(),Object(n["h"])("span",v,j)):Object(n["g"])("",!0)])]))}},x=(a("49e5"),a("6b0d")),C=a.n(x);const k=C()(w,[["__scopeId","data-v-6c90e336"]]);var D=k;const E={style:{height:"100%"}},S={class:"panelContent",style:{height:"calc(100% - 25px)",overflow:"auto"}};var T={__name:"Panel",props:["title","hideTitle"],emits:["update:expanded"],setup(e,{expose:t,emit:a}){const o=e;let l=Object(n["I"])(!0);function i(){l.value=!l.value,r(),a("update:expanded",l.value)}function r(){localStorage.setItem("panelExpandedState_"+o.title,l.value)}function s(){let e=localStorage.getItem("panelExpandedState_"+o.title);"false"===e&&(l.value=!1)}return s(),t({expanded:l}),(t,a)=>(Object(n["E"])(),Object(n["h"])("div",E,[e.hideTitle?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["f"])(D,{key:0,expanded:Object(n["Q"])(l),title:e.title,onExpand:i},null,8,["expanded","title"])),Object(n["Y"])(Object(n["i"])("div",S,[Object(n["K"])(t.$slots,"default")],512),[[n["V"],Object(n["Q"])(l)]])]))}};a("5191");const P=C()(T,[["__scopeId","data-v-76a521d3"]]);var I=P;const A={id:"tab-headers"},N=["onClick"],L={id:"active-tab",style:{"flex-grow":"1",display:"flex",height:"calc(100% - 120px)"}};var H={__name:"Tabs",props:["customClass"],emits:["changeTab"],setup(e,{emit:t}){let a=Object(n["I"])(null),o=Object(n["I"])(null),l=Object(n["I"])(null),i=Object(n["I"])(0);Object(n["B"])(()=>{l.value=[...a.value.querySelectorAll(".tab")];for(let e of l.value)e.classList.contains("active")&&(i=l.value.indexOf(e))});const r=e=>{i=e;for(let t of[...l.value,...o.value])t.classList.remove("active");l.value[i].classList.add("active"),o.value[i].classList.add("active"),t("changeTab",i)};return(t,s)=>(Object(n["E"])(),Object(n["h"])("div",{id:"tabs-container",class:Object(n["u"])(e.customClass),ref_key:"tabContainer",ref:a,style:{height:"100%",display:"flex","flex-direction":"column"}},[Object(n["i"])("div",A,[Object(n["i"])("ul",null,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(l),(e,t)=>(Object(n["E"])(),Object(n["h"])("li",{key:t,class:Object(n["u"])(Object(n["Q"])(i)==t?"active":""),onClick:e=>r(t),ref_for:!0,ref_key:"tabHeaders",ref:o},Object(n["O"])(e.title),11,N))),128))])]),Object(n["i"])("div",L,[Object(n["K"])(t.$slots,"default")])],2))}};a("d897");const B=H;var M=B,z={__name:"Tab",props:["active"],setup(e){return(t,a)=>(Object(n["E"])(),Object(n["h"])("div",{class:Object(n["u"])(["tab","true"==e.active?"active":""]),ref:"tabs"},[Object(n["K"])(t.$slots,"default")],2))}};a("77a2");const Q=z;var R=Q;const F={style:{position:"relative"}},U={style:{"overflow-y":"auto"}},$=["title","onMousedown","datatype","bindingname"],V=["datatype","bindingname","onMouseover","src"];var G={__name:"BindingsPanel",props:["appData"],emits:["bindingOvered"],setup(e,{expose:t,emit:a}){const o=e;let l,i,r=Object(n["I"])("type");function s(e){l=e.dragStart,i=e.dragStop}const c=Object(n["d"])(()=>{let e=[];return d.value.forEach(t=>{e.push({id:"tempplaceholder",type:"tempplaceholder",label:"Temp PlaceHolder",tagName:"TEMPPLACEHOLDER",content:`<tempplaceholder datatype="${t.type}" bindingname="${t.name}" isbinding="true"style="padding: 10px;">Binding '${t.name}' (${t.type})</tempplaceholder>`,properties:[],droppable:!1,editable:!1,draggable:!0,binding:t})}),e}),d=Object(n["d"])(()=>{let e;return o.appData.pages[0].model.fields&&("az"==r.value?e=m["a"].sortBy(o.appData.pages[0].model.fields,e=>e.name.toLowerCase()):"type"==r.value&&(e=m["a"].sortBy(o.appData.pages[0].model.fields,e=>e.type.toLowerCase()+"_"+e.name.toLowerCase()))),e}),p=function(e,t){let n=t.target;a("bindingOvered",{element:n,binding:e})},u=function(){a("bindingOvered",{element:null,binding:null})};return t({setHandleBlocks:s}),(e,t)=>(Object(n["E"])(),Object(n["h"])("div",F,[Object(n["i"])("div",U,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(c.value,e=>(Object(n["E"])(),Object(n["h"])("div",{title:e.binding.type,isbinding:"true",onMousedown:t=>Object(n["Q"])(l)(e),datatype:e.binding.type,bindingname:e.binding.name,class:"bindingItem",key:e.binding.name},[Object(n["i"])("img",{datatype:e.binding.type,bindingname:e.binding.name,onMouseover:t=>p(e.binding,t),onMouseout:u,src:"img/icons/type_"+e.binding.type+".png",class:"typeIcon"},null,40,V),Object(n["j"])(" "+Object(n["O"])(e.binding.name),1)],40,$))),128))])]))}};a("cace");const J=C()(G,[["__scopeId","data-v-e29c2338"]]);var q=J,Y=a("2ef0"),X=a.n(Y);a("98c5"),a("13d5");let W=[{id:"Area Chart",icon:"areaChart",traceTemplate:{gbtype:"Area Chart",x:["2024-01-01","2024-01-02","2024-01-03"],y:[10,15,13],type:"scatter",name:"Trace",fill:"tozeroy",mode:"none"}},{id:"Bar Chart",icon:"barChart",traceTemplate:{gbtype:"Bar Chart",x:["Category 1","Category 2","Category 3"],y:[9,10,20],type:"bar",name:"Trace"}},{id:"Box",icon:"boxChart",traceTemplate:{gbtype:"Box",y:[1,2,3,4,7,9],type:"box",name:"Trace"}},{id:"Candlestick",icon:"candlestickChart",traceTemplate:{gbtype:"Candlestick",x:["2024-01-01","2024-01-02","2024-01-03"],close:[10,12,11],high:[11,13,12],low:[9,11,10],open:[9,11,11],type:"candlestick",name:"Trace"}},{id:"Choropleth",icon:"choroplethChart",traceTemplate:{gbtype:"Choropleth",locationmode:"country names",locations:["Canada","United States","Mexico"],z:[10,20,30],type:"choropleth",name:"Trace"}},{id:"Cone",icon:"coneChart",traceTemplate:{gbtype:"Cone",x:[1,2,3],y:[1,2,3],z:[1,2,3],u:[1,0,0],v:[0,1,0],w:[0,0,1],type:"cone",name:"Trace",sizemode:"absolute"}},{id:"Contour",icon:"contourChart",traceTemplate:{gbtype:"Contour",x:[1,2,3],y:[1,2,3],z:[[10,10,10],[20,20,20],[30,30,30]],type:"contour",name:"Trace"}},{id:"Funnel",icon:"funnelChart",traceTemplate:{gbtype:"Funnel",x:[10,20,30],y:["Stage 1","Stage 2","Stage 3"],type:"funnel",name:"Trace"}},{id:"Funnel Area",icon:"funnelAreaChart",traceTemplate:{gbtype:"Funnel Area",values:[100,80,60,40,20],text:["Stage 1","Stage 2","Stage 3","Stage 4","Stage 5"],type:"funnelarea",name:"Trace"}},{id:"Heatmap",icon:"heatmapChart",traceTemplate:{gbtype:"Heatmap",x:["A","B","C"],y:["1","2","3"],z:[[1,20,30],[20,1,60],[30,60,1]],type:"heatmap",name:"Trace"}},{id:"Heatmap GL",icon:"heatmapGLChart",traceTemplate:{gbtype:"Heatmap GL",x:["A","B","C"],y:["1","2","3"],z:[[1,20,30],[20,1,60],[30,60,1]],type:"heatmapgl",name:"Trace"}},{id:"Histogram",icon:"histogramChart",traceTemplate:{gbtype:"Histogram",x:[1,2,3,2,3,2,3,7,6,8,5,8,1,1,1,9],type:"histogram",name:"Trace"}},{id:"Histogram 2D",icon:"histogram2DChart",traceTemplate:{gbtype:"Histogram 2D",x:[1,2,2,3,4],y:[6,6,7,8,8],type:"histogram2d",name:"Trace"}},{id:"Histogram 2D Contour",icon:"histogram2DContourChart",traceTemplate:{gbtype:"Histogram 2D Contour",x:[1,2,2,3,4],y:[6,6,7,8,8],type:"histogram2dcontour",name:"Trace"}},{id:"Indicator",icon:"indicatorChart",traceTemplate:{gbtype:"Indicator",mode:"number+delta",value:400,delta:{reference:350},type:"indicator",name:"Trace"}},{id:"Isosurface",icon:"isosurfaceChart",traceTemplate:{gbtype:"Isosurface",x:[0,0,0,0,1,1,1,1],y:[0,0,1,1,0,0,1,1],z:[0,1,0,1,0,1,0,1],value:[1,2,3,4,5,6,7,8],isomin:2,isomax:6,type:"isosurface",name:"Trace"}},{id:"Line Chart",icon:"lineChart",traceTemplate:{gbtype:"Line Chart",x:["2024-01-01","2024-01-02","2024-01-03"],y:[5,6,7],type:"scatter",mode:"lines",name:"Trace"}},{id:"Mash 3D",icon:"mash3DChart",traceTemplate:{gbtype:"Mash 3D",x:[0,1,2,0],y:[0,0,1,2],z:[0,2,0,1],i:[0,0,0,1],j:[1,2,3,2],k:[2,3,1,3],type:"mesh3d",name:"Trace"}},{id:"OHLC",icon:"ohlcChart",traceTemplate:{gbtype:"OHLC",x:["2024-01-01","2024-01-02","2024-01-03"],open:[100,110,120],high:[105,115,125],low:[95,105,115],close:[102,112,122],type:"ohlc",name:"Trace"}},{id:"Pie Chart",icon:"pieChart",traceTemplate:{gbtype:"Pie Chart",labels:["Slice 1","Slice 2","Slice 3"],values:[10,20,30],type:"pie",name:"Trace"}},{id:"Scatter",icon:"scatterChart",traceTemplate:{gbtype:"Scatter",x:[5,10,15],y:[10,15,5],type:"scatter",mode:"markers",name:"Trace"}},{id:"Scatter 3D",icon:"scatter3DChart",traceTemplate:{gbtype:"Scatter 3D",x:[1,2,3,4],y:[4,3,2,1],z:[1,2,3,4],mode:"markers",type:"scatter3d",name:"Trace"}},{id:"Scatter Geo",icon:"scatterGeoChart",traceTemplate:{gbtype:"Scatter Geo",lat:[40.712776,34.052235,41.878113],lon:[-74.005974,-118.243685,-87.629798],mode:"markers",type:"scattergeo",name:"Trace"}},{id:"Scatter GL",icon:"scatterGLChart",traceTemplate:{gbtype:"Scatter GL",x:[1,2,3,4],y:[10,11,12,13],mode:"markers",type:"scattergl",name:"Trace"}},{id:"Surface",icon:"surfaceChart",traceTemplate:{gbtype:"Surface",x:[1,2,3,4,5],y:[1,2,3,4,5],z:[[1,2,3,4,5],[2,4,6,8,10],[3,6,9,12,15],[4,8,12,16,20],[5,10,15,20,25]],type:"surface",name:"Trace"}},{id:"Table",icon:"tableChart",traceTemplate:{gbtype:"Table",header:{values:[["Header 1"],["Header 2"],["Header 3"]],align:"center",line:{width:1,color:"black"},fill:{color:"grey"},font:{family:"Arial",size:12,color:"white"}},cells:{values:[["Row 1","Row 2","Row 3"],["1","2","3"],["a","b","c"]],align:"center",line:{width:1,color:"black"},fill:{color:"white"},font:{family:"Arial",size:11,color:"black"}},type:"table",name:"Trace"}},{id:"Timeline",icon:"timelineChart",traceTemplate:{gbtype:"Timeline",x:["Start Date 1","Start Date 2","Start Date 3"],xend:["End Date 1","End Date 2","End Date 3"],y:["Task 1","Task 2","Task 3"],type:"scatter",mode:"lines",line:{width:4},name:"Trace"}},{id:"Violin",icon:"violinChart",traceTemplate:{gbtype:"Violin",y:[20,30,40,50,60,70,80,90,100,110],type:"violin",name:"Trace",box:{visible:!0},meanline:{visible:!0}}},{id:"Waterfall",icon:"waterfallChart",traceTemplate:{gbtype:"Waterfall",x:["Product Revenue","Services Revenue","Total Revenue","Fixed Costs","Variable Costs","Total Costs","Net Profit"],y:[60,80,0,-40,-20,0,40],type:"waterfall",name:"Trace",text:["$60","$80","","-$40","-$20","","$40"],textposition:"outside",connector:{line:{color:"rgb(63, 63, 63)"}},increasing:{marker:{color:"Green"}},decreasing:{marker:{color:"Red"}},totals:{marker:{color:"DeepSkyBlue"}}}},{id:"Scatter Mapbox",icon:"scatterMapboxChart",traceTemplate:{gbtype:"Scatter Mapbox",lat:[40.712776,34.052235],lon:[-74.005974,-118.243685],mode:"markers",type:"scattermapbox",name:"Trace"},traceLayout:{dragmode:"zoom",mapbox:{style:"open-street-map",center:{lat:38,lon:-90},zoom:3},margin:{r:0,t:0,b:0,l:0}}},{id:"Streamtube",icon:"streamtubeChart",traceTemplate:{gbtype:"Streamtube",type:"streamtube",x:[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],y:[0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2],z:[0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2],u:[1,1,1,1,1,1,1,1,1,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427],v:[1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365,1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365,1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365],w:[0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742],sizeref:.5,cmin:0,cmax:3,name:"Trace"}},{id:"Volume",icon:"volumeChart",traceTemplate:Z()}];function Z(){const e=3;let t=[],a=[],n=[],o=[];for(let r=1;r<=e;r++)for(let l=1;l<=e;l++)for(let i=1;i<=e;i++)t.push(r),a.push(l),n.push(i),o.push(0);for(let r=0;r<15;r++){const e=Math.floor(Math.random()*o.length);o[e]=1}o=o.map((t,a)=>{const n=[o[a-1]||0,o[a+1]||0,o[a-e]||0,o[a+e]||0,o[a-e*e]||0,o[a+e*e]||0],l=n.reduce((e,t)=>e+t,0);return(t+l/n.length)/2});const l=Math.max(...o);o=o.map(e=>e/l);const i={type:"volume",x:t,y:a,z:n,value:o,isomin:.1,isomax:.8,opacity:.1,surface_count:25};return i}const K=e=>(Object(n["G"])("data-v-9700a050"),e=e(),Object(n["F"])(),e),ee={class:"componentAddDialogContainer"},te={class:"componentAddDialog"},ae=K(()=>Object(n["i"])("p",{style:{"margin-bottom":"6px","font-size":"12px","font-weight":"400",opacity:"0.7"}},"Add component for binding",-1)),ne={style:{"padding-bottom":"10px","border-bottom":"1px solid #cccccc50"}},oe=["src"],le=K(()=>Object(n["i"])("div",{style:{"font-size":"14px",padding:"20px 0px 15px"}},"Suggested Components:",-1)),ie={class:"compGroupsContainer"},re=["onClick"],se={class:"compName"},ce={style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","pointer-events":"none"}},de={style:{"justify-content":"center",display:"flex","margin-bottom":"3px",filter:"brightness(1.5) saturate(1)","pointer-events":"none"}},pe=["src"];var ue={__name:"ComponentAddDialog",props:["appData","componentPlaceHolderData"],emits:["closeDialog"],setup(e,{emit:t}){const a=e;function o(e){console.log("chartTypes",W);let t=W.find(t=>t.id==e);return t?t.traceTemplate:(console.error("Could not find chart with id: "+e),"")}const l=function(e){let t;t=e.icon?e.icon:e.type.split("q-").join("")+".png";const a="img/block_icons/"+t;return a};function i(e,t){console.log("selectCompProp(comp, prop",e,t);let n=(new DOMParser).parseFromString(e.content,"text/html").body.childNodes[0],l=t,i=a.componentPlaceHolderData.bindingname;if("DataFrames.DataFrame"==a.componentPlaceHolderData.datatype){let t=s(a.componentPlaceHolderData.bindingname);i+="."+t,i="$_{"+i+"}";let r=o(e.label);null!=r.x&&(r.x=i),null!=r.y&&(r.y=i),null!=r.z&&(r.z=i),null!=r.labels&&(r.labels=i),null!=r.values&&(r.values=i),console.log("traceTemplate: ",r),i=`[${JSON.stringify(r)}]`,i=btoa(i),n.removeAttribute("gb_c__data"),console.log("finalBindingName",i),n.setAttribute("gb_c__"+l,i)}else"DataTable.DataFrames.DataFrame"==a.componentPlaceHolderData.datatype?(n.removeAttribute("gb_c__data"),i+=".data",n.setAttribute("gb_b__"+l,i),n.setAttribute("gb_b__columns",a.componentPlaceHolderData.bindingname+".columns")):n.setAttribute("gb_b__"+l,i);let c=n.outerHTML;editor.getSelected().replaceWith(c),r(!1)}function r(e){t("closeDialog",e)}function s(e){let t=a.appData.pages[0].model.fields.filter(t=>t.name==e);return 0==t.length?(console.error("Could not find dataframe with name: "+e),""):t[0].columns&&0!=t[0].columns.length?t[0].columns[0]:(console.error("Dataframe "+e+" has no columns"),"")}return(e,t)=>(Object(n["E"])(),Object(n["h"])("div",ee,[Object(n["i"])("div",te,[Object(n["i"])("div",{class:"closeButton",onClick:t[0]||(t[0]=e=>r(!0))},"X"),ae,Object(n["i"])("div",ne,[Object(n["i"])("img",{src:"img/icons/type_"+a.componentPlaceHolderData.datatype+".png",style:{height:"17px","vertical-align":"middle",display:"inline-block"}},null,8,oe),Object(n["j"])(" "+Object(n["O"])(a.componentPlaceHolderData.bindingname),1)]),le,Object(n["i"])("div",ie,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(a.componentPlaceHolderData.components,e=>(Object(n["E"])(),Object(n["h"])("div",{class:"compGroup",key:e.type,onClick:t=>i(e,e.matchingProperties[0])},[Object(n["i"])("div",se,[Object(n["i"])("div",ce,Object(n["O"])(e.label),1),Object(n["i"])("div",de,[Object(n["i"])("img",{src:l(e),class:"typeIcon",style:{filter:"var(--library-icon-filter)","max-height":"20px","margin-top":"6px","pointer-events":"none"}},null,8,pe)])])],8,re))),128))])])]))}};a("173e");const be=C()(ue,[["__scopeId","data-v-9700a050"]]);var me=be,_e=a("d6e4");let ge,fe,he,ye={supportedIcons:["search","search","home","account_circle","settings","done","info","check_circle","delete","visibility","shopping_cart","favorite","description","logout","favorite_border","lock","schedule","language","help_outline","face","manage_accounts","verified","filter_alt","thumb_up","event","fingerprint","dashboard","list","login","visibility_off","check_circle_outline","calendar_today","highlight_off","help","paid","task_alt","question_answer","date_range","article","open_in_new","shopping_bag","lightbulb","credit_card","perm_identity","history","trending_up","account_balance","delete_outline","fact_check","report_problem","verified_user","assignment","star_rate","arrow_right_alt","account_balance_wallet","autorenew","build","view_list","work","print","store","analytics","delete_forever","today","calendar_month","admin_panel_settings","lock_open","watch_later","grade","update","savings","room","code","receipt","add_shopping_cart","contact_support","power_settings_new","done_all","pets","explore","bookmark","account_box","note_add","reorder","bookmark_border","pending_actions","shopping_basket","payment","launch","drag_indicator","supervisor_account","touch_app","pending","zoom_in","assessment","leaderboard","thumb_up_off_alt","open_in_full","preview","done_outline","exit_to_app","assignment_ind","published_with_changes","card_giftcard","view_in_ar","feedback","work_outline","timeline","swap_horiz","assignment_turned_in","dns","stars","sync_alt","label","flight_takeoff","tips_and_updates","book","contact_page","alarm","space_dashboard","bug_report","cached","gavel","translate","pan_tool","edit_calendar","supervised_user_circle","minimize","extension","accessibility","android","rocket_launch","get_app","question_mark","record_voice_over","add_task","trending_flat","help_center","hourglass_empty","accessibility_new","rule","thumb_down","sticky_note_2","settings_applications","source","dashboard_customize","find_in_page","ads_click","support","flutter_dash","close_fullscreen","redeem","announcement","loyalty","swap_vert","arrow_circle_right","view_headline","restore","dangerous","euro_symbol","group_work","sensors","compare_arrows","subject","table_view","disabled_by_default","privacy_tip","nightlight_round","https","toc","track_changes","arrow_circle_up","bookmarks","copyright","grading","currency_exchange","input","api","perm_media","query_builder","view_module","build_circle","zoom_out","perm_contact_calendar","settings_phone","backup","open_with","circle_notifications","perm_phone_msg","book_online","speaker_notes","label_important","wysiwyg","card_membership","file_present","arrow_circle_down","pageview","3d_rotation","upgrade","integration_instructions","change_history","trending_down","swipe","class","percent","accessible","g_translate","settings_accessibility","expand","offline_bolt","settings_backup_restore","production_quantity_limits","arrow_circle_left","aspect_ratio","model_training","view_column","donut_large","segment","calendar_view_month","schedule_send","alarm_on","maximize","bookmark_add","thumbs_up_down","settings_ethernet","theaters","view_agenda","thumb_down_off_alt","important_devices","unpublished","invert_colors","opacity","commute","open_in_browser","system_update_alt","no_accounts","addchart","history_toggle_off","view_week","youtube_searched_for","tour","shopping_cart_checkout","hide_source","bookmark_added","mark_as_unread","settings_input_antenna","shop","plagiarism","turned_in","search_off","not_started","flight_land","assignment_late","assignment_return","donut_small","saved_search","filter_alt_off","contactless","highlight_alt","hotel_class","settings_input_component","balance","view_carousel","view_quilt","anchor","all_inbox","turned_in_not","mediation","settings_remote","edit_off","hourglass_full","fit_screen","flaky","rocket","toll","remove_shopping_cart","lock_clock","swap_horizontal_circle","settings_voice","view_sidebar","event_seat","online_prediction","vertical_split","next_plan","pregnant_woman","data_exploration","terminal","restore_from_trash","lock_reset","camera_enhance","markunread_mailbox","dynamic_form","tab","calendar_view_week","view_stream","accessible_forward","request_page","token","remove_done","settings_power","smart_button","add_to_drive","card_travel","outbox","try","offline_pin","calendar_view_day","find_replace","density_medium","rowing","compress","chrome_reader_mode","fax","outlet","assignment_returned","http","settings_brightness","add_card","alarm_add","generating_tokens","new_label","backup_table","spellcheck","restore_page","credit_card_off","wifi_protected_setup","play_for_work","free_cancellation","settings_overscan","work_history","123","gif","outbound","disabled_visible","swap_vertical_circle","settings_input_composite","cancel_schedule_send","quickreply","view_day","event_repeat","comment_bank","assured_workload","switch_access_shortcut","display_settings","view_timeline","line_weight","pan_tool_alt","horizontal_split","noise_control_off","webhook","satellite_alt","polymer","batch_prediction","send_and_archive","picture_in_picture","manage_history","code_off","bookmark_remove","settings_bluetooth","shop_two","output","html","flip_to_front","gif_box","eject","speaker_notes_off","alarm_off","perm_data_setting","settings_input_hdmi","perm_scan_wifi","hourglass_disabled","troubleshoot","switch_access_shortcut_add","sensors_off","settings_cell","work_off","app_blocking","picture_in_picture_alt","line_style","perm_device_information","join_full","subtitles_off","update_disabled","app_shortcut","javascript","abc","swipe_left","voice_over_off","private_connectivity","lightbulb_circle","settings_input_svideo","join_inner","flip_to_back","view_array","swipe_right","install_desktop","open_in_new_off","swipe_up","all_out","shop_2","label_off","density_small","tab_unselected","rounded_corner","data_thresholding","text_rotate_vertical","arrow_outward","commit","explore_off","install_mobile","text_rotation_none","view_kanban","not_accessible","css","swipe_down","lock_person","pin_invoke","join_left","extension_off","spatial_audio_off","perm_camera_mic","pinch","swipe_vertical","noise_aware","pin_end","view_cozy","join_right","swipe_right_alt","text_rotate_up","text_rotation_angleup","text_rotation_down","text_rotation_angledown","browse_gallery","php","view_comfy_alt","view_compact_alt","network_ping","swipe_down_alt","add_home","density_large","on_device_training","swipe_left_alt","spatial_tracking","swipe_up_alt","unfold_more_double","spatial_audio","width_full","unfold_less_double","repartition","width_normal","transcribe","width_wide","hls","hls_off","face_unlock","close","close","menu","expand_more","arrow_back","chevron_right","arrow_forward_ios","arrow_back_ios","cancel","arrow_drop_down","more_vert","arrow_forward","chevron_left","expand_less","check","more_horiz","refresh","apps","payments","arrow_upward","east","campaign","arrow_back_ios_new","arrow_downward","arrow_right","menu_open","fullscreen","arrow_drop_up","unfold_more","double_arrow","maps_home_work","west","expand_circle_down","south","arrow_left","north_east","north","home_work","first_page","fullscreen_exit","arrow_drop_down_circle","last_page","unfold_less","subdirectory_arrow_right","legend_toggle","south_east","app_settings_alt","assistant_direction","subdirectory_arrow_left","north_west","waterfall_chart","switch_left","south_west","pivot_table_chart","switch_right","apps_outage","offline_share","add_home_work","person","person","notifications","groups","people","share","school","person_outline","person_add","public","emoji_events","group","engineering","notifications_active","construction","people_alt","group_add","psychology","health_and_safety","thumb_up_alt","travel_explore","water_drop","notifications_none","emoji_emotions","sports_esports","sentiment_very_satisfied","location_city","ios_share","precision_manufacturing","sentiment_satisfied","workspace_premium","person_add_alt","military_tech","science","emoji_objects","history_edu","cake","sentiment_dissatisfied","sentiment_very_dissatisfied","handshake","emoji_people","coronavirus","self_improvement","person_remove","poll","whatshot","sports_soccer","domain","mood","recommend","people_outline","female","recycling","person_off","male","person_add_alt_1","connect_without_contact","sentiment_neutral","back_hand","hiking","waving_hand","architecture","masks","notifications_off","thumb_down_alt","luggage","real_estate_agent","front_hand","vaccines","mood_bad","emoji_nature","switch_account","nights_stay","king_bed","catching_pokemon","interests","compost","sports_basketball","notification_add","diversity_3","sports_kabaddi","sports","emoji_symbols","reduce_capacity","emoji_food_beverage","cruelty_free","man","sick","emoji_transportation","sports_tennis","cookie","heart_broken","transgender","elderly","add_moderator","outdoor_grill","deck","woman","add_reaction","social_distance","personal_injury","follow_the_signs","plus_one","fireplace","wallet","scale","clean_hands","piano","pix","surfing","sanitizer","sports_motorsports","diversity_1","sports_handball","sports_baseball","edit_notifications","hive","sports_volleyball","pages","groups_2","sports_football","downhill_skiing","kayaking","psychology_alt","public_off","single_bed","remove_moderator","group_remove","skateboarding","co2","notifications_paused","boy","person_remove_alt_1","safety_divider","diversity_2","domain_add","fitbit","sports_cricket","group_off","sports_mma","nordic_walking","sports_martial_arts","sports_golf","girl","thunderstorm","paragliding","6_ft_apart","party_mode","snowboarding","kitesurfing","sports_gymnastics","groups_3","face_6","snowshoeing","sports_hockey","ice_skating","south_america","sports_rugby","face_3","elderly_woman","sledding","scoreboard","person_2","face_2","face_4","sign_language","no_luggage","cyclone","person_4","face_5","person_3","piano_off","flood","scuba_diving","severe_cold","tsunami","roller_skating","tornado","landslide","assist_walker","woman_2","man_2","volcano","18_up_rating","blind","no_adult_content","man_4","man_3","add","add","add_circle_outline","content_copy","add_circle","send","clear","save","mail","link","remove","filter_list","inventory_2","inventory","insights","remove_circle_outline","sort","bolt","flag","reply","add_box","remove_circle","push_pin","block","calculate","create","undo","how_to_reg","content_paste","report","file_copy","backspace","shield","archive","save_alt","policy","tag","change_circle","redo","forward","content_cut","outlined_flag","inbox","link_off","ballot","drafts","biotech","report_gmailerrorred","delete_sweep","stacked_bar_chart","markunread","square_foot","add_link","stream","where_to_vote","dynamic_feed","copy_all","move_to_inbox","waves","unarchive","content_paste_search","reply_all","select_all","low_priority","text_format","save_as","font_download","weekend","how_to_vote","upcoming","gesture","attribution","flag_circle","content_paste_go","filter_list_off","next_week","content_paste_off","report_off","web_stories","deselect","font_download_off","edit","edit","navigate_next","photo_camera","image","tune","picture_as_pdf","receipt_long","circle","timer","auto_stories","collections","auto_awesome","navigate_before","add_a_photo","palette","remove_red_eye","music_note","add_photo_alternate","wb_sunny","brush","euro","flash_on","looks_one","auto_fix_high","control_point","style","adjust","straighten","photo_library","camera","portrait","camera_alt","audiotrack","video_camera_front","rotate_right","color_lens","grid_on","crop_free","timelapse","landscape","slideshow","currency_rupee","collections_bookmark","crop_square","lens","panorama_fish_eye","looks_two","filter_vintage","compare","looks_3","filter_drama","image_search","healing","auto_awesome_motion","rotate_left","center_focus_strong","crop","blur_on","wb_incandescent","flare","face_retouching_natural","wb_cloudy","assistant","broken_image","cases","colorize","filter_none","brightness_4","filter_center_focus","crop_original","auto_fix_normal","dehaze","nature_people","photo","flash_off","auto_awesome_mosaic","tag_faces","brightness_6","brightness_5","details","grain","flip_camera_android","brightness_1","flip","loupe","image_not_supported","flip_camera_ios","view_comfy","filter_1","movie_creation","add_to_photos","panorama","bedtime","animation","center_focus_weak","looks_4","movie_filter","crop_din","filter","control_point_duplicate","brightness_7","leak_add","currency_bitcoin","nature","incomplete_circle","texture","view_compact","timer_off","photo_size_select_actual","video_camera_back","transform","currency_yen","motion_photos_on","photo_camera_front","rotate_90_degrees_ccw","looks_5","mic_external_on","gradient","assistant_photo","wb_twilight","currency_pound","contrast","hide_image","music_off","exposure_plus_1","crop_16_9","thermostat_auto","filter_2","shutter_speed","exposure","photo_album","filter_tilt_shift","hdr_strong","looks","vrpano","linked_camera","brightness_3","looks_6","blur_circular","flash_auto","motion_photos_auto","crop_portrait","photo_filter","iso","brightness_2","tonality","photo_size_select_small","filter_hdr","crop_7_5","rotate_90_degrees_cw","crop_rotate","photo_size_select_large","filter_3","exposure_zero","hdr_weak","currency_ruble","camera_front","crop_5_4","filter_frames","burst_mode","camera_roll","logo_dev","filter_b_and_w","blur_linear","crop_3_2","crop_landscape","switch_camera","switch_video","filter_7","exposure_plus_2","filter_4","filter_9_plus","grid_off","wb_iridescent","motion_photos_paused","monochrome_photos","photo_camera_back","filter_5","auto_fix_off","face_retouching_off","exposure_neg_1","panorama_photosphere","filter_8","leak_remove","filter_9","video_stable","timer_10","filter_6","wb_shade","blur_off","motion_photos_off","raw_on","motion_photos_pause","hdr_on","vignette","panorama_horizontal","30fps_select","image_aspect_ratio","dirty_lens","deblur","camera_rear","60fps_select","timer_3","panorama_wide_angle_select","24mp","exposure_neg_2","currency_yuan","currency_lira","autofps_select","panorama_horizontal_select","panorama_photosphere_select","hdr_plus","wb_auto","panorama_wide_angle","panorama_vertical_select","mic_external_off","12mp","panorama_vertical","mp","hdr_enhanced_select","currency_franc","hevc","18mp","10mp","raw_off","23mp","bedtime_off","hdr_off","11mp","20mp","3mp","5mp","13mp","15mp","16mp","21mp","2mp","17mp","14mp","22mp","19mp","9mp","4mp","7mp","8mp","6mp","email","email","location_on","call","phone","business","chat","mail_outline","list_alt","qr_code_scanner","vpn_key","chat_bubble_outline","alternate_email","forum","chat_bubble","textsms","contact_mail","person_search","sentiment_satisfied_alt","qr_code","qr_code_2","message","contacts","comment","key","import_contacts","app_registration","contact_phone","import_export","live_help","forward_to_inbox","hourglass_bottom","hourglass_top","rss_feed","mark_email_read","hub","read_more","document_scanner","more_time","mark_email_unread","call_end","clear_all","dialpad","phone_enabled","mark_chat_unread","cancel_presentation","3p","call_made","screen_share","call_split","unsubscribe","present_to_all","domain_verification","mark_chat_read","add_ic_call","co_present","phonelink_ring","stay_current_portrait","call_received","phonelink_lock","phone_disabled","ring_volume","location_off","phonelink_setup","duo","cell_tower","stay_primary_portrait","swap_calls","voicemail","call_merge","mobile_screen_share","phonelink_erase","person_add_disabled","domain_disabled","call_missed_outgoing","speaker_phone","spoke","cell_wifi","desktop_access_disabled","stop_screen_share","print_disabled","call_missed","mark_unread_chat_alt","pause_presentation","dialer_sip","invert_colors_off","comments_disabled","contact_emergency","wifi_calling","rtt","portable_wifi_off","send_time_extension","mail_lock","stay_current_landscape","sip","nat","stay_primary_landscape","no_sim","key_off","vpn_key_off","local_shipping","local_shipping","place","menu_book","local_offer","badge","map","category","restaurant","directions_car","local_fire_department","volunteer_activism","my_location","flight","local_mall","near_me","handyman","directions_run","restaurant_menu","layers","medical_services","directions_walk","lunch_dining","local_hospital","celebration","local_library","pin_drop","park","local_atm","local_activity","person_pin","design_services","local_cafe","rate_review","delivery_dining","directions_bus","local_police","directions_bike","fastfood","directions_car_filled","home_repair_service","zoom_out_map","hotel","cleaning_services","local_phone","local_grocery_store","miscellaneous_services","navigation","local_gas_station","train","person_pin_circle","local_parking","local_florist","diamond","local_post_office","money","directions","two_wheeler","factory","add_business","traffic","electrical_services","local_bar","route","directions_boat","alt_route","agriculture","pedal_bike","beenhere","360","warehouse","liquor","emergency","moving","local_airport","sailing","add_location_alt","local_dining","maps_ugc","local_taxi","ramen_dining","trip_origin","hail","local_drink","local_laundry_service","directions_bus_filled","local_printshop","theater_comedy","local_pizza","not_listed_location","add_location","transfer_within_a_station","dinner_dining","bakery_dining","forest","wine_bar","terrain","multiple_stop","takeout_dining","store_mall_directory","icecream","museum","nightlife","local_pharmacy","hardware","add_road","departure_board","set_meal","ev_station","local_see","electric_car","festival","plumbing","layers_clear","car_rental","attractions","edit_location","local_convenience_store","zoom_in_map","pest_control","medical_information","dry_cleaning","run_circle","edit_road","edit_attributes","edit_location_alt","church","moped","wrong_location","car_repair","local_movies","satellite","directions_boat_filled","tram","soup_kitchen","taxi_alert","breakfast_dining","signpost","atm","subway","transit_enterexit","straight","merge","brunch_dining","hvac","electric_bike","directions_transit","crisis_alert","electric_scooter","connecting_airports","bus_alert","egg","local_car_wash","local_hotel","mode_of_travel","stadium","castle","streetview","safety_check","directions_subway","car_crash","mosque","compass_calibration","electric_rickshaw","turn_right","airline_stops","directions_railway","no_meals","fork_right","railway_alert","electric_moped","local_play","bike_scooter","no_crash","turn_left","airlines","pest_control_rodent","near_me_disabled","snowmobile","u_turn_left","directions_transit_filled","egg_alt","no_transfer","file_download","play_arrow","star","warning","support_agent","attach_money","keyboard_arrow_down","light_mode","storefront","manage_search","sensor_door"].sort(),supportedColors:["primary","secondary","accent","dark","positive","negative","info","warning"]};function ve(){return ge}function Oe(e){u["a"].get("data/blockDefinitions.json").then(t=>{ge=t.data,je(),we(),e(ge)}).catch(e=>{console.error("Error loading block definitions: ",e)})}function je(){ge=ge.filter(e=>e.enabled),ge.forEach(e=>{let t=e.properties.findIndex(e=>"v-model"==e.name);t>-1&&e.properties.splice(t,1);let a=e.properties.findIndex(e=>"model-value"==e.name);a>-1&&(e.properties[a].name="v-model",e.properties[a].label="Data Binding"),(e.content.indexOf("v-on:click")>-1||e.content.indexOf("v-model")>-1)&&(e.content=e.content.replace('v-on:click="-"','v-on:click=""'),e.content=e.content.replace('v-model="-"','v-model=""'));let n=e.properties;n.forEach(e=>{for(let t in e){let a=e[t];if("string"==typeof a&&0==a.indexOf("${")){let n=a.slice(2,-1),o=ye[n];e[t]=o}Array.isArray(a)&&(e[t]=a[0])}})})}function we(){ge.push({type:"tempplaceholder",label:"Temp PlaceHolder",tagName:"TEMPPLACEHOLDER",content:"<tempplaceholder>TEMP Place holder</tempplaceholder>",properties:[],droppable:!1,editable:!1,draggable:!0}),W.forEach(e=>{let t=btoa(JSON.stringify([e.traceTemplate])),a=e.traceLayout,n=a?btoa(JSON.stringify(a)):"eyJ0aXRsZSI6Ik15IENoYXJ0In0=";ge.push({type:"plotly",label:e.id,tagName:"PLOTLY",category:"Charts",content:`<plotly gb_c__data="${t}" gb_c__layout="${n}" gb_c__config="e30="></plotly>`,renderContent:'<img src="img/block_icons/areaChart.png" />',icon:e.icon+".png",properties:[{label:"Data",name:"data",type:"PlotlyBase.GenericTrace"},{label:"Layout",name:"layout",type:"PlotlyBase.Layout"},{label:"Config",name:"config",type:"Object"}]})})}function xe(){null==fe&&(fe=ve(),he={},fe.forEach(e=>{he[e.tagName]=e}))}class Ce{constructor(){throw new Error("HtmlTemplateParser is a static class and cannot be instantiated")}static replaceSpecialElements(e){return e.replace(/<%/g,"<JULIA_CODE>").replace(/%>/g,"</JULIA_CODE>")}static restoreSpecialElements(e){return e.replace(/<JULIA_CODE>/gi,"<% ").replace(/<\/JULIA_CODE>/gi," %>")}static encodeAttributesInDOM(e){if(!(e instanceof Node))throw new Error("Element is not a Node");Ce.replaceElementAttributes(e);for(let t=0;t<e.childNodes.length;t++)Ce.encodeAttributesInDOM(e.childNodes[t])}static replaceElementAttributes(e){xe();let t=window.sharedData.modelFieldsByName,a="gb_",n=a+"c__",o=a+"b__",l=["v-model","v-bind","v-on"],i=["class","style","id"],r=e.nodeName,s=he[r];if(!s)return;let c=s.properties,d=e.getAttributeNames();d.forEach(a=>{if(i.indexOf(a)>-1)return;let r=a.startsWith(":"),s=r?a.slice(1):a,d=r||l.some(e=>0===a.indexOf(e)),p=e.getAttribute(a),u=c.find(e=>e.name===s),b=null!=t[p];u&&(d?b?e.setAttribute(o+s,p):e.setAttribute(n+s,p):""==p?e.setAttribute(n+s,"true"):e.setAttribute(n+s,p),e.removeAttribute(a))})}static revertElementAttributes(e){xe();let t="gb_",a=t+"c__",n=t+"b__",o=e.nodeName,l=he[o];if(!l)return;let i=l.properties,r=e.getAttributeNames();r.forEach(t=>{let l=e.getAttribute(t);if(t.startsWith(a)){let n=t.replace(a,""),r=i.find(e=>e.name===n);if(!r)throw new Error("Attribute definition not found for: "+n);let s=r.type;"PLOTLY"==o&&["data","layout","config"].includes(n)||"String"!=s&&(n=":"+n),e.setAttribute(n,l),e.removeAttribute(t)}else if(t.startsWith(n)){let a=t.replace(n,""),o="v-model"===a?"":":";e.setAttribute(o+a,l),e.removeAttribute(t)}})}static decodeAttributesInDOM(e){let t=e.querySelectorAll("*");t.forEach(e=>{Ce.revertElementAttributes(e)})}static guessDataType(e){return"number"===typeof e||/^-?\d*\.?\d+$/.test(e)?"Number":"true"===e||"false"===e||"boolean"===typeof e?"Boolean":Array.isArray(e)||/^\[.*\]$/.test(e)?"Array":"String"}}var ke=a("ade3");class De{constructor(){throw new Error("Configuration is a static class and cannot be instantiated")}static getExternalApiBaseUrl(e){if(!e)throw new Error("getExternalApiBaseUrl() requires a protocol argument");De.GB_SOURCE!=De.GB_SOURCE_LOCAL&&(e+="s");let t=`${e}://${De.GB_HOST}`;return De.GB_SOURCE==De.GB_SOURCE_LOCAL?t+=":":t+="/proxy/",t+=De.GB_PORT+"/",console.log(e+" - getExternalApiBaseUrl: ",t),t}static getAppBaseUrl(e,t){if(!e)throw new Error("getAppBaseUrl() requires a protocol argument");De.GB_SOURCE!=De.GB_SOURCE_LOCAL&&(e+="s");let a=`${e}://${De.GB_HOST}`;return De.GB_SOURCE==De.GB_SOURCE_LOCAL?a+=":":a+="/proxy/",a+=t+"/",console.log(e+" - getAppBaseUrl: ",a),a}static getAppAssetsBaseUrl(e,t){if(!e)throw new Error("getAppAssetsBaseUrl() requires a protocol argument");De.GB_SOURCE!=De.GB_SOURCE_LOCAL&&(e+="s");let a=`${e}://${De.GB_HOST}`;return De.GB_SOURCE==De.GB_SOURCE_LOCAL&&(a+=":",a+=t+"/"),console.log(e+" - getAppAssetsBaseUrl: ",a),a}}Object(ke["a"])(De,"appid",""),Object(ke["a"])(De,"appport",""),Object(ke["a"])(De,"CHANNEL__",""),Object(ke["a"])(De,"GB_SOURCE_LOCAL","local"),Object(ke["a"])(De,"GB_SOURCE_CLOUD","cloud"),Object(ke["a"])(De,"GB_SOURCE",""),Object(ke["a"])(De,"GB_HOST",""),Object(ke["a"])(De,"GB_PORT",""),Object(ke["a"])(De,"ask_ai_url","https://apps.peregimenez.com/docsbot/api/question");const Ee=e=>(Object(n["G"])("data-v-589fdcc0"),e=e(),Object(n["F"])(),e),Se={style:{height:"100%"}},Te=Ee(()=>Object(n["i"])("div",{id:"gjs",style:{height:"300px"}},null,-1)),Pe={id:"customLibrary",style:{display:"none"}},Ie={class:"blocks"},Ae=["onMousedown"],Ne={class:"block-label"};var Le={__name:"CanvasPanel",props:["appData"],emits:["componentSelected","bindingDroppedOnComponent"],setup(e,{expose:t,emit:a}){const o=e;window.HtmlTemplateParser=Ce;let l=Object(n["I"])(o.appData.pages[0].model.fields),i={};l.value.forEach(e=>{i[e.name]=e});let r=blockDefinitions.map(e=>{let t={type:e.type,label:e.label,tagName:e.tagName,id:e.type,category:e.category,content:e.content,droppable:e.droppable,draggable:e.draggable,editable:e.editable,activate:!0};return t});window.selectedComponent=null;let s=Object(n["I"])(null),c=Object(n["I"])(null),d=Object(n["I"])({});function p(e){e&&(editor.getSelected().remove(),window.selectedComponent=null,editor.select(null)),s.value=null}function b(e){if(editor.select(e),"tempplaceholder"==e.attributes.tagName){var t;let n=e.view.$el[0].parentNode,o=null===(t=n.grapesModel)||void 0===t?void 0:t.attributes.type;"plotly"==o&&e.attributes.attributes.bindingname&&e.attributes.attributes.datatype?a("bindingDroppedOnComponent",{newComponentModel:e,targetModel:n.grapesModel,bindingInfo:e.attributes.attributes}):m(e.attributes.attributes.bindingname,e.attributes.attributes.datatype)}}function m(e,t){console.log("offerComponents",e,t);let a=blockDefinitions,n=[];a.forEach(e=>{let a=e.type,o=e.properties,l=o.filter(e=>{let a=e.type==t,n="v-model"==e.name;return a&&n}).map(e=>e.name);l.length>0&&l.includes("v-model")&&n.push({type:a,label:e.label,content:e.content,matchingProperties:l}),("DataFrames.DataFrame"==t&&"plotly"==a||"DataTable.DataFrames.DataFrame"==t&&"q-table"==a)&&n.push({type:a,label:e.label,content:e.content,icon:e.icon,matchingProperties:["data"]})}),s.value={components:n,bindingname:e,datatype:t}}window.sharedData={externalData:null,setExternalData:function(e){this.externalData=e;const t=new CustomEvent("sharedDataChanged",{detail:e});for(let a in window.canvasComponents){let e=window.canvasComponents[a];null!=e&&e.onExternalDataChanged(t)}}},window.sharedData.externalData={plotlyData:[{name:"Trace 1",type:"scatter",x:[1,2,3,4,5],y:[1,2,3,4,5]},{name:"Trace 2",type:"scatter",x:[1,2,3,4,5],y:[5,4,3,2,1]}],dataTable1:{columns:["name","age","height","city"],data:{name:["John","Mary","Sue","Harry"],age:[23,45,32,19],height:[1.73,1.65,1.82,1.77],children:[2,3,0,1],city:["London","Paris","Rome","Berlin"]}},dataFrame1:{name:["John","Mary","Sue","Harry"],age:[19,23,32,45],height:[1.73,1.65,1.82,1.77],children:[2,3,0,1],city:["London","Paris","Rome","Berlin"]},dataFrame2:{hour:[0,3,6,9,12,15,18,21],temperature:[12,11,12,14,17,21,22,18],humidity:[80,85,82,75,70,65,60,55],luminosity:[10,12,9,16,19,21,19,16]},columnA:[1,2,3,4,5],columnB:[11,12,13,14,15],columnC:[14,13,12,11,10],columnD:[21,24,23,22,21],columnE:[8,12,9,16,19]},window.sharedData.getComponentDefinitionByType=h,window.sharedData.modelFieldsByName=i;let _,g,f=De.getAppBaseUrl("ws",De.appport);function h(e){let t=blockDefinitions,a=t.find(t=>t.type.toLowerCase()==e.toLowerCase());return a}function y(e,t){d.value[e]=t,window.sharedData.setExternalData(d.value)}function v(e,t={}){let a=JSON.stringify({channel:De.CHANNEL__,message:e,payload:t});_.send(a)}function O(){let e=JSON.stringify({channel:"autoreload",message:"subscribe",payload:{}});_.send(e)}function j(){return _=new WebSocket(f),_.addEventListener("open",e=>{v("subscribe"),O()}),_.addEventListener("message",e=>{if("Subscription: OK"!=e.data){if(0==e.data.indexOf("{")){let t=JSON.parse(e.data);null!=t.key&&y(t.key,t.value)}}else v("watchers",{payload:{field:"isready",newval:!0,oldval:!1}})}),_.addEventListener("close",e=>{console.log("newSocketConnection::close",e)}),_.addEventListener("error",e=>{console.log("newSocketConnection::error",e)}),_}function w(){let e=o.appData.pages[0].deps.scripts,t=De.getAppAssetsBaseUrl("http",o.appData.port);"/"==t[t.length-1]&&(t=t.substring(0,t.length-1));let n=["assets/js/channels.js","assets/js/watchers.js","assets/js/keepalive.js","assets/js/syncplot.js","assets/js/autoreload.js","assets/js/main_app_varmain_app_reactivemodel.js"],l=[];e.forEach(e=>{let a=!1;if(n.forEach(t=>{e.indexOf(t)>-1&&(a=!0)}),!a){let a=t+e;l.push(a)}}),l.push("data/contentMain.js"),console.log("parsedSCripts",l);let s=[];s.push("https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons"),o.appData.pages[0].deps.styles.forEach(e=>{let a=t+e;s.push(a)}),s.push("data/grapesCanvas.css");const d=window.editor=grapesjs.init({container:"#gjs",fromElement:!0,storageManager:!1,canvas:{scripts:l,styles:s},blockManager:{custom:!0,blocks:r},styleManager:{appendTo:"#myStyleEditorContainerSections",sectors:[{name:"General",properties:[{extend:"float",type:"radio",default:"none",options:[{value:"none",className:"fa fa-times"},{value:"left",className:"fa fa-align-left"},{value:"right",className:"fa fa-align-right"}]},"display",{extend:"position",type:"select"},"top","right","left","bottom"]},{name:"Dimension",open:!1,properties:["width",{id:"flex-width",type:"integer",name:"Width",units:["px","%"],property:"flex-basis",toRequire:1},"height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height",{extend:"text-align",options:[{id:"left",label:"Left",className:"fa fa-align-left"},{id:"center",label:"Center",className:"fa fa-align-center"},{id:"right",label:"Right",className:"fa fa-align-right"},{id:"justify",label:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",default:"none",options:[{id:"none",label:"None",className:"fa fa-times"},{id:"underline",label:"underline",className:"fa fa-underline"},{id:"line-through",label:"Line-through",className:"fa fa-strikethrough"}]},"text-shadow"]},{name:"Decorations",open:!1,properties:["opacity","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]},{name:"Flex",open:!1,properties:[{name:"Flex Container",property:"display",type:"select",defaults:"block",list:[{value:"block",name:"Disable"},{value:"flex",name:"Enable"}]},{name:"Flex Parent",property:"label-parent-flex",type:"integer"},{name:"Direction",property:"flex-direction",type:"radio",defaults:"row",list:[{value:"row",name:"Row",className:"icons-flex icon-dir-row",title:"Row"},{value:"row-reverse",name:"Row reverse",className:"icons-flex icon-dir-row-rev",title:"Row reverse"},{value:"column",name:"Column",title:"Column",className:"icons-flex icon-dir-col"},{value:"column-reverse",name:"Column reverse",title:"Column reverse",className:"icons-flex icon-dir-col-rev"}]},{name:"Justify",property:"justify-content",type:"radio",defaults:"flex-start",list:[{value:"flex-start",className:"icons-flex icon-just-start",title:"Start"},{value:"flex-end",title:"End",className:"icons-flex icon-just-end"},{value:"space-between",title:"Space between",className:"icons-flex icon-just-sp-bet"},{value:"space-around",title:"Space around",className:"icons-flex icon-just-sp-ar"},{value:"center",title:"Center",className:"icons-flex icon-just-sp-cent"}]},{name:"Align",property:"align-items",type:"radio",defaults:"center",list:[{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]},{name:"Flex Children",property:"label-parent-flex",type:"integer"},{name:"Order",property:"order",type:"integer",defaults:0,min:0},{name:"Flex",property:"flex",type:"composite",properties:[{name:"Grow",property:"flex-grow",type:"integer",defaults:0,min:0},{name:"Shrink",property:"flex-shrink",type:"integer",defaults:0,min:0},{name:"Basis",property:"flex-basis",type:"integer",units:["px","%",""],unit:"",defaults:"auto"}]},{name:"Align",property:"align-self",type:"radio",defaults:"auto",list:[{value:"auto",name:"Auto"},{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]}]}]},selectorManager:{appendTo:"#myStyleEditorContainerClasses",componentFirst:!0},plugins:["grapesjs-plugin-ckeditor"],pluginsOpts:{"grapesjs-plugin-ckeditor":{options:{toolbar:[{name:"undo",items:["Undo","Redo"]},{name:"styles",items:["Font","FontSize"]},["Bold","Italic","Underline","Strike"],{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]}]}}}}),{Panels:p}=d;p.getButton("views","open-blocks").set("active",!1),d.runCommand("sw-visibility"),d.on("rte:enable",()=>{setTimeout(()=>{d.trigger("frame:scroll"),console.log("rte:enable")},1e3)}),d.on("component:add",e=>{m()}),d.on("component:remove",e=>{a("componentSelected",null),m()}),d.on("component:update",e=>{m()}),d.on("component:styleUpdate",e=>{m()}),d.on("property:compAdd:",e=>{m()}),d.on("property:compRemove:",e=>{m()}),d.on("property:compUpdate:",e=>{m()});let m=X.a.debounce((function(){console.log(">>>>>>>>>> autoSave"),a("autoSaveTriggered")}),1e3);d.on("component:selected",e=>{a("componentSelected",e)}),d.on("component:add",b),d.on("canvas:dragdata",(e,t,a)=>{if(e){let a=e.getData("text");a=JSON.parse(a),"binding"==a.objectType&&(t.content=`<tempplaceholder style="padding:10px;" bindingname="${a.bindingname}" datatype="${a.datatype}">{{ ${a.bindingname} }}</tempplaceholder>`)}else t.content=t.content.content}),d.DomComponents.addType("julia_code",{model:{defaults:{tagName:"julia_code",editable:!0,droppable:!1}},view:{events:{dblclick:"onActive",focusout:"onDisable"},onActive(){this.el.contentEditable=!0},onDisable(){const{el:e,model:t}=this;e.contentEditable=!1,t.set("content",e.innerHTML)}}}),Object(_e["registerPlotlyComponent"])(d),blockDefinitions.forEach(e=>{const t=["plotly","tempplaceholder"];t.includes(e.type)||d.DomComponents.addType(e.type,{isComponent:t=>{if(t.tagName==e.tagName)return{type:e.type,name:e.label}},model:{defaults:{draggable:e.draggable,droppable:e.droppable,editable:e.editable,script:function(){var e=window.parent.sharedData.externalData;let t=this.attributes.id.nodeValue;function a(e){let t={},a=Object.getOwnPropertyNames(e);return a.forEach(a=>{let n=(e[a],e[a]);t[a]=n}),t}window.parent.addCanvasComponent(t,this),this.onExternalDataChanged=t=>{e=t.detail,r=a(this.attributes),this.vueApp.updateServerData(e)};let n=this.grapesModel.attributes.tagName,o=(this.grapesModel.attributes.attributes,window.parent.sharedData.getComponentDefinitionByType),l=window.parent.sharedData.modelFieldsByName,i=o(n),r=a(this.grapesModel.attributes.attributes);Vue.config.warnHandler=(e,a,n)=>{let o=document.getElementById(t);o.innerHTML=`<div class="componentError"><b style="font-size: 1.2em;">${i.label}</b><br/>${e}</div>`},Stipple.init({theme:"stipple-blue"}),this.vueApp=new Vue({el:"#vueinternal_"+t,data:function(){return{message:"TESTING_ID",attributes:r,serverData:e}},computed:{parsedAttributes(){let e={},t=this.attributes;console.log("parsedAttributes",t);for(let a in t){let n=":"==a[0]?a.substring(1):a,o=i.properties.find(e=>e.name==n),r=t[a],s=null!=l[r];"v-model"!=n?o?s?e[":"+n]=this.serverData[r]:"String"==o.type?e[""+n]=r:e[":"+n]=r:e[""+n]=r:e["v-model"]=this.serverData[r]}return e}},methods:{updateServerData(e){this.serverData=e},updateAttributes(e){this.attributes=a(e),r=this.attributes,this.updateServerData(this.serverData),this.$forceUpdate()}},mounted(){}})}},init(){this.listenTo(this,"change:attributes",this.onAttributeChange)},handleAttrChange(){},render:function(){this.view.onRender()},removed(){window.parent.postMessage({command:"removeCanvasComponent",uid:this.ccid},"*")}},view:{onAttributeChange(){},onRender(){const{el:e,model:t}=this;let a=e.attributes.id.nodeValue;e.grapesModel=t;let n=e.grapesModel.attributes.tagName,o=e.grapesModel.attributes.attributes,l=h(n),r=`<div id="vueinternal_${a}" style="position: relative;">\n            <${n} `;for(let s in o){let e=s;0!=e.indexOf("gb_c__")&&0!=e.indexOf("gb_b__")||(e=e.substring(6));let t=l.properties.find(t=>t.name==e),a=o[s],n=null!=i[a];if(!n&&a.indexOf(".")>-1){let e=a.split("."),t=e[0],o=i[t];o&&"DataTable.DataFrames.DataFrame"==o.type&&o.props&&o.props.includes(e[1])&&(n=!0)}"v-model"!=e?t?n?r+=`:${e}="serverData.${a}" `:"String"==t.type||0==e.indexOf("v-on")?r+=`${e}="${a}" `:r+=`:${e}="${a}" `:r+=`${e}="${a}" `:r+=""==a?'v-model="serverData.none" ':`v-model="serverData.${a}" `}r+=`></${n}>\n            </div>\n          `,e.innerHTML=r}}})});let _=o.appData.pages[0].assets,g=_.find(e=>e.indexOf("autogenerated.css")>-1);if(g){let e=window.apibase+"apps/"+De.appid+"/edit?path="+encodeURIComponent(g);u["a"].get(e).then(e=>{d.setComponents(c.value),d.setStyle(e.data.content)}).catch(e=>{console.log("error loading autogenerated styles",e)})}else d.setComponents(c.value)}function x(e){d.value=e}function C(e){e=Ce.replaceSpecialElements(e);let t=`\n    <div class="container layoutMockRoot" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n      <div class="row layoutMockRow" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n        <div class="col-12 layoutMockCol" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n          <div id="gbTemplateContainer" class="container" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-type="default">\n            ${e}\n          </div>\n        </div>\n      </div>\n    </div>`;const a=new DOMParser,n=a.parseFromString(t,"text/html"),o=n.body;Ce.encodeAttributesInDOM(o);const l=o.innerHTML;c.value=l,w()}return j(),Object(n["B"])(()=>{}),t({updateReactiveModel:x,updateTemplateFile:C}),(e,t)=>(Object(n["E"])(),Object(n["h"])("div",Se,[Te,Object(n["Q"])(s)?(Object(n["E"])(),Object(n["f"])(me,{key:0,onCloseDialog:p,appData:o.appData,componentPlaceHolderData:Object(n["Q"])(s)},null,8,["appData","componentPlaceHolderData"])):Object(n["g"])("",!0),Object(n["i"])("div",Pe,[Object(n["j"])(" Custom Blocks "),Object(n["i"])("div",Ie,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(r),e=>(Object(n["E"])(),Object(n["h"])("div",{class:"block",key:e.id,onMousedown:t=>Object(n["Q"])(g)(e)},[Object(n["i"])("div",Ne,Object(n["O"])(e.label),1)],40,Ae))),128))])])]))}},He=(a("a425"),a("8405"),a("eaac")),Be=a("93dc"),Me=a.n(Be);const ze=C()(Le,[["__scopeId","data-v-589fdcc0"]]);var Qe=ze;Me()(Le,"components",{QTable:He["a"]});const Re={style:{"max-height":"100%","overflow-y":"auto","margin-top":"10px","user-select":"none","flex-grow":"1"}},Fe={style:{display:"flex","flex-wrap":"wrap",gap:"5px","flex-direction":"column"}},Ue={style:{"font-weight":"bold","margin-bottom":"5px","text-transform":"capitalize","margin-top":"10px"}},$e={class:"uiItemContainer"},Ve=["blocktype","onMousedown","on:pointerdown_BAD","on:pointerup_BAD","title"],Ge={class:"uiItemLabel"},Je={class:"uiItemIcon"},qe=["src"];var Ye={__name:"LibraryPanel",emits:["blockCustomTriggered"],setup(e,{emit:t}){const a=["tempplaceholder","partial"];let o=blockDefinitions.filter(e=>-1===a.indexOf(e.type));o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"1-Col Row",properties:[],tagName:"DIV",type:"1column",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div></div>',media:"",category:"Layout"}),o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"2-Col Row",properties:[],tagName:"DIV",type:"2columns",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n</div>',media:"",category:"Layout"}),o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"3-Col Row",properties:[],tagName:"DIV",type:"3columns",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n</div>',media:"",category:"Layout"}),o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Column",properties:[],tagName:"DIV",type:"1column",content:'<div class="st-col col-12 col-sm st-module"></div>',media:"",category:"Layout"}),o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebar Left",properties:[],tagName:"DIV",type:"sidebar_left",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-3 col-sm st-module"></div>\n<div class="st-col col-9 st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebar Right",properties:[],tagName:"DIV",type:"sidebar_right",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-9 st-module"></div>\n<div class="st-col col-3 col-sm st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),o.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebars",properties:[],tagName:"DIV",type:"sidebars",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-3 col-sm st-module"></div>\n<div class="st-col col-5 st-module"></div>\n<div class="st-col col-3 col-sm st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),o.push({label:"Header",tagName:"header",type:"header",description:"",category:"Layout",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:'<header class="st-module"><h1>Page header</h1></header>'}),o.push({label:"Footer",tagName:"footer",type:"footer",description:"",category:"Layout",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:'<footer class="st-module">Page footer</footer>'}),o.push({label:"H1",tagName:"H1",type:"H1",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H1>Header Content</H1>"}),o.push({label:"H2",tagName:"H2",type:"H2",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H2>Header Content</H2>"}),o.push({label:"H3",tagName:"H3",type:"H3",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H3>Header Content</H3>"}),o.push({label:"H4",tagName:"H4",type:"H4",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H4>Header Content</H4>"}),o.push({label:"H5",tagName:"H5",type:"H5",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H5>Header Content</H5>"}),o.push({label:"H6",tagName:"H6",type:"H6",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H6>Header Content</H6>"}),o.push({label:"Paragraph",tagName:"P",type:"paragraph",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<p>Paragraph Content</p>"});let l,i,r,s=["Layout","Text","Content","Forms","Widgets","Lists","Tables","Charts","Multimedia","Timeline","Other"],c=Object(n["I"])(null),d=Object(n["I"])(""),p=!1,u=null,b=null,m=blockDefinitions.map(e=>{let t={type:e.type,label:e.label,tagName:e.tagName,id:e.type,category:e.category,content:e.content,droppable:e.droppable,draggable:e.draggable,editable:e.editable,activate:!0};return t});function _(e){m=e.blocks,l=e.dragStart,i=e.dragStop,t("blockCustomTriggered",e)}function g(e){void 0!=e&&(d.value=e.target.value);let t=[],a={};return h.value.forEach(e=>{if(1==e.hideFromLibrary)return;let n=e.category||"other";a[n]||(a[n]={category:n,blocks:[]},t.push(a[n])),a[n].blocks.push(e)}),t.sort((e,t)=>{let a=s.indexOf(e.category),n=s.indexOf(t.category);return a>n?1:a<n?-1:0}),t.forEach(e=>{e.blocks.sort((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)}),c.value=t,f(),t}function f(){let e="Block Categories:\n--------------------\n";c.value.forEach(t=>{e+=t.category+"\n",t.blocks.forEach(t=>{e+="  "+t.label+"\n"})}),console.log(e)}Object(n["B"])(()=>{r=setInterval(()=>{if(window.editor){clearInterval(r),window.editor.on("block:custom",_);const{Panels:e}=window.editor;e.getButton("views","open-blocks").set("active",!0),console.log("[debug] LibraryPanel :: onMounted :: window.editor Ready: ",window.editor)}else console.log("[debug] LibraryPanel :: onMounted :: window.editor NOT ready")},1e3)});const h=Object(n["d"])(()=>{if(!d.value)return o;let e=o.filter(e=>e.label.toLowerCase().indexOf(d.value.toLowerCase())>-1);return e});g();const y=function(e){let t;t=e.icon?e.icon:e.type.split("q-").join("")+".png";const a="img/block_icons/"+t;return a};function v(e,t){b=document.querySelector(".gjs-frame"),sorter=editor.BlockManager.blocksView.getSorter(),sorter.__currentBlock=e,sorter.setDragHelper(t.target,t),sorter.setDropContent(e.content),sorter.startSort(t.target);let a=t.target;while(a&&!a.classList.contains("uiItem"))a=a.parentElement;a&&(p=!0,u=a,a.setPointerCapture(t.pointerId))}function O(e){if(!p||!sorter)return;const t=b.getBoundingClientRect();e.clientX,t.left,e.clientY,t.top}function j(e,t){sorter&&(sorter.endMove(),sorter=null),p=!1;const a=b.getBoundingClientRect();if(t.clientX>=a.left&&t.clientX<=a.right&&t.clientY>=a.top&&t.clientY<=a.bottom){u.style.pointerEvents="none";const n=b.contentDocument,o=t.clientX-a.left,l=t.clientY-a.top,i=n.elementFromPoint(o,l);let r=i.getAttribute("id");u.style.pointerEvents="",u.style.position="static";let s=editor.DomComponents.getWrapper().find("#"+r)[0];s&&(s.components().add(e.content),editor.refresh())}else u.style.position="static";u=null}return(e,t)=>{const a=Object(n["L"])("vscode-text-field");return Object(n["E"])(),Object(n["h"])(n["a"],null,[Object(n["i"])("div",null,[Object(n["k"])(a,{value:Object(n["Q"])(d),onInput:t[0]||(t[0]=e=>g(e)),placeholder:"Search UI Components",style:{padding:"5px 10px",width:"90%"}},null,8,["value"])]),Object(n["i"])("div",Re,[Object(n["i"])("div",Fe,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(c),e=>(Object(n["E"])(),Object(n["h"])("div",{key:e.category,style:{display:"flex","flex-direction":"column",width:"100%"}},[Object(n["i"])("div",Ue,Object(n["O"])(e.category),1),Object(n["i"])("div",$e,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(e.blocks,e=>(Object(n["E"])(),Object(n["h"])("div",{key:e.id,blocktype:e.type,class:"uiItem",onMousedown:t=>Object(n["Q"])(l)(e),"on:pointerdown_BAD":t=>v(e,t),"on:pointermove_BAD":O,"on:pointerup_BAD":t=>j(e,t),title:e.label},[Object(n["i"])("div",Ge,Object(n["O"])(e.label),1),Object(n["i"])("div",Je,[Object(n["i"])("img",{src:y(e),class:"libraryIcon",style:{}},null,8,qe)])],40,Ve))),128))])]))),128))])])],64)}}};a("5f60");const Xe=C()(Ye,[["__scopeId","data-v-3da05314"]]);var We=Xe;const Ze=e=>(Object(n["G"])("data-v-ac17f3aa"),e=e(),Object(n["F"])(),e),Ke={class:"blocker"},et={class:"addPropsPanel"},tt=Ze(()=>Object(n["i"])("div",{style:{"text-align":"center","font-size":"0.8em","font-weight":"bold","margin-bottom":"10px"}},"Add Property",-1)),at={class:"addPropsList"},nt=["onClick","title"],ot={style:{width:"70%"}},lt={style:{"text-transform":"capitalize",width:"30%","font-size":"0.8em",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex","justify-content":"right","align-items":"center",opacity:"0.6"}};var it={__name:"AddPropertyDialog",props:["propslist","defObject","destination"],emits:["propAdded","close"],setup(e,{emit:t}){const a=e;function o(e){t("propAdded",e,a.defObject,a.destination)}function l(){return m["a"].sortBy(a.propslist,e=>e.label.toLowerCase())}function i(){t("close")}return(e,t)=>(Object(n["E"])(),Object(n["h"])("div",Ke,[Object(n["i"])("div",et,[tt,Object(n["i"])("div",{class:"closeAddProp",onClick:i},"X"),Object(n["i"])("div",at,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(l(),e=>(Object(n["E"])(),Object(n["h"])("div",{class:"addPropRow",onClick:t=>o(e),title:e.desc||"Property description not available"},[Object(n["i"])("div",ot,Object(n["O"])(e.label),1),Object(n["i"])("div",lt,Object(n["O"])(e.type),1)],8,nt))),256))])])]))}};a("380c");const rt=C()(it,[["__scopeId","data-v-ac17f3aa"]]);var st=rt;const ct={class:"foldableGroupHeader"},dt={class:"groupHeaderContent"},pt=["src"],ut=Object(n["i"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1),bt=[ut],mt={class:"col-4",style:{"text-align":"right","padding-right":"10px"}},_t={class:"col-1 removeBtnCnt",style:{width:"20px",position:"absolute"}},gt=["onClick"],ft=Object(n["i"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1),ht=[ft],yt={key:0,class:"col-7"},vt=["onUpdate:modelValue","attrname"],Ot=["value"],jt={key:1,class:"col-7"},wt={key:0,class:"chartTypeContainer",style:{position:"relative"}},xt=["attrname"],Ct=["value"],kt={key:2,class:"col-7"},Dt={key:3,class:"col-7"},Et=["onUpdate:modelValue","attrname"],St=["value"],Tt={key:4,class:"col-7",style:{"align-items":"center",position:"relative",display:"flex"}},Pt=["onUpdate:modelValue"],It=["type","onUpdate:modelValue"],At=["onClick"],Nt={key:0,src:"img/icons/binding_on.png",style:{height:"16px"},draggable:"false"},Lt={key:1,src:"img/icons/binding_off.png",style:{height:"16px"},draggable:"false"};var Ht={__name:"ChartPropertiesSection",props:["dataSourceColumns","treeObject","propertiesDefinition","appData","modelFields","sectionIndex"],emits:["change"],setup(e,{emit:t}){const a=e;let o=n["I"][null];console.log("ChartSection.modelFields: ",a.modelFields);const l=Object(n["d"])(()=>{let e=W.find(e=>e.id==o);return console.log("chartTypeDeffffff",e),e?e.icon:(console.error("Could not find chart type definition for: "+o),"scatterChart")});function i(){let e=a.sectionIndex;t("removeTrace",e)}function r(e){let t=e.id;console.log("removeTraceProperty before: ",e,a.treeObject),s(a.treeObject,t),console.log("removeTraceProperty after: ",e,a.treeObject),u()}function s(e,t){const a=t.split(".");function n(e,t){const o=a[t];if(t===a.length-1)return delete e[o],0===Object.keys(e).length;if(void 0!==e[o]){const a=n(e[o],t+1);if(a)return delete e[o],0===Object.keys(e).length}return!1}n(e,0)}function c(e){console.log("toggleDynamicAttribute",e);let t,a=e.valueHolderParent[e.propName];0==a.indexOf("$_{")?(t=a.replace("$_{",""),t=t.substring(0,t.length-1)):t="$_{"+a+"}",e.valueHolderParent[e.propName]=t,u()}function d(e){console.log("isPropValueBinding",e.propName,e);let t=e.valueHolderParent[e.propName];return"string"==typeof t&&0==t.indexOf("$_{")}function p(e){console.log("changeChartType",o,a.treeObject),console.log("chartTypes",W);let t=W.find(e=>e.id==o);console.log("chartTypeDef",t);let n={};for(let o in a.treeObject)n[o]=a.treeObject[o];for(let o in a.treeObject)delete a.treeObject[o];for(let o in t.traceTemplate)void 0!=n[o]&&"type"!=o&&"gbtype"!=o?a.treeObject[o]=n[o]:a.treeObject[o]=t.traceTemplate[o];console.log("props.treeObject FINAL:",a.treeObject),a.treeObject.gbtype=o,u()}function u(){t("change",a.treeObject)}function b(e,t){const a=t.split(".");if(1==a.length)return e;for(let n=0;n<a.length-1;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}function m(e,t){const a=t.split(".");for(let n=0;n<a.length;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}const _=Object(n["d"])(()=>{let e=[];for(let t=0;t<a.propertiesDefinition.length;t++){let n={...a.propertiesDefinition[t]},o=m(a.treeObject,n.id);void 0!==o&&(n.valueHolderParent=b(a.treeObject,n.id),n.propName=n.id.split(".").pop(),e.push(n))}return console.log("definitionsListWithValues",e),e});return(t,a)=>{const s=Object(n["L"])("vscode-text-field");return Object(n["E"])(),Object(n["h"])(n["a"],null,[Object(n["i"])("div",ct,[Object(n["i"])("div",dt,[Object(n["i"])("img",{src:"img/block_icons/"+l.value+".png",class:"chartTypeIcon",style:{opacity:1}},null,8,pt),Object(n["j"])(" "+Object(n["O"])(e.treeObject.name),1)]),Object(n["i"])("div",{class:"removeBtnCnt",style:{width:"20px"}},[Object(n["i"])("span",{onClick:i,title:"Remove Trace",class:"codicon codicon-settings"},bt)])]),(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(_.value,t=>(Object(n["E"])(),Object(n["h"])("div",{class:"row propRow",style:{position:"relative"},key:t.id},[Object(n["i"])("div",mt,[Object(n["i"])("div",_t,[Object(n["i"])("span",{onClick:e=>r(t),title:"Remove Property",class:"codicon codicon-settings"},ht,8,gt)]),Object(n["j"])(" "+Object(n["O"])(t.label),1)]),d(t)?(Object(n["E"])(),Object(n["h"])("div",yt,[Object(n["Y"])(Object(n["i"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:u,attrname:t.propertyName},[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(e.modelFields,e=>(Object(n["E"])(),Object(n["h"])("option",{key:"binding_"+e.name,value:"$_{"+e.name+"}"},Object(n["O"])(e.name),9,Ot))),128))],40,vt),[[n["T"],t.valueHolderParent[t.propName]]])])):"type"==t.id?(Object(n["E"])(),Object(n["h"])("div",jt,["type"==t.id?(Object(n["E"])(),Object(n["h"])("div",wt,[Object(n["Y"])(Object(n["i"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},onChange:p,"onUpdate:modelValue":a[0]||(a[0]=e=>Object(n["q"])(o)?o.value=e:o=e),attrname:t.propertyName},[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(W),e=>(Object(n["E"])(),Object(n["h"])("option",{key:"chartType_"+e.id,value:e.id},Object(n["O"])(e.id),9,Ct))),128))],40,xt),[[n["T"],Object(n["Q"])(o)]])])):Object(n["g"])("",!0)])):"array"==t.type?(Object(n["E"])(),Object(n["h"])("div",kt,[Object(n["k"])(s,{type:t.type,name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:u},null,8,["type","value","onInput"])])):"enum"==t.type?(Object(n["E"])(),Object(n["h"])("div",Dt,[Object(n["Y"])(Object(n["i"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:u,attrname:t.propertyName},[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(t.options,e=>(Object(n["E"])(),Object(n["h"])("option",{key:"field_"+e,value:e},Object(n["O"])(e),9,St))),128))],40,Et),[[n["T"],t.valueHolderParent[t.propName]]])])):(Object(n["E"])(),Object(n["h"])("div",Tt,["boolean"==t.type?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:0,type:"checkbox",name:"",id:"","onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:u},null,40,Pt)),[[n["R"],t.valueHolderParent[t.propName]]]):Object(n["g"])("",!0),"color"==t.type?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:1,type:t.type,"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:u,style:{height:"23px",width:"23px","margin-right":"5px","background-color":"#ffffff00"}},null,40,It)),[[n["S"],t.valueHolderParent[t.propName]]]):Object(n["g"])("",!0),"color"==t.type?(Object(n["E"])(),Object(n["f"])(s,{key:2,type:"text",name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:u,style:{width:"80px"}},null,8,["value","onInput"])):Object(n["g"])("",!0),"string"==t.type||"number"==t.type?(Object(n["E"])(),Object(n["f"])(s,{key:3,type:t.type,name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:u},null,8,["type","value","onInput"])):Object(n["g"])("",!0)])),"type"!=t.propName&&"name"!=t.propName?(Object(n["E"])(),Object(n["h"])("div",{key:5,class:"propRowDynamicSwitch",onClick:e=>c(t)},[d(t)?(Object(n["E"])(),Object(n["h"])("img",Nt)):Object(n["g"])("",!0),d(t)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("img",Lt))],8,At)):Object(n["g"])("",!0)]))),128))],64)}}},Bt=(a("a766"),a("0016"));const Mt=Ht;var zt=Mt;Me()(Ht,"components",{QIcon:Bt["a"]});const Qt={key:0,class:"chartConfigContainer"},Rt={class:"tabSelector"},Ft=["onClick"],Ut={key:0,class:"tabSectionContainer"},$t={class:"tracesContainer"},Vt={class:"foldableGroupContent"},Gt={class:"subgroup"},Jt={class:"subgroupContent"},qt={class:"addPropertyButtonRow"},Yt=["onClick"],Xt={style:{"border-top":"solid 1px var(--badge-background)",padding:"20px","text-align":"center"}},Wt={key:1,class:"tabSectionContainer"},Zt={class:"subgroup"},Kt={class:"subgroupContent"},ea={class:"addPropertyButtonRow"},ta={key:2,class:"tabSectionContainer"},aa={class:"subgroup"},na={class:"subgroupContent"},oa={class:"addPropertyButtonRow"};var la={__name:"ChartProperties",props:["appData","selectedComponent"],setup(e,{expose:t}){const a=e;let o=Object(n["I"])(0),l=Object(n["I"])([{name:"Data",id:0},{name:"Layout",id:1},{name:"Config",id:2}]),i=Object(n["I"])(null),r=(Object(n["I"])(!1),Object(n["I"])(null)),s=Object(n["I"])([]),c=Object(n["I"])([]),d=Object(n["I"])([]),p=Object(n["I"])(a.appData.pages[0].model.fields),u={};p.value.forEach(e=>{u[e.name]=e});let b=Object(n["I"])([{id:"name",label:"Name",type:"string",default:""},{id:"type",label:"Type",type:"enum",default:"scatter",options:["scatter","bar","histogram","pie","box","histogram2d","histogram2dcontour","parcats","heatmap","heatmapgl","contour","funnel","funnelarea","indicator","isosurface","mesh3d","ohlc","candlestick","scatter3d","scattergeo","scattergl","surface","table","timeline","violin","waterfall"]},{id:"mode",label:"Mode",type:"enum",default:"markers",options:["markers","lines","lines+markers","none","gauge","number","gauge+number","text"]},{id:"x",label:"X",type:"array",default:[0,1,2,3,4,5]},{id:"y",label:"Y",type:"array",default:[2,4,8,16,32]},{id:"z",label:"Z",type:"array",default:[3,5,7,9,11]},{id:"u",label:"U",type:"array",default:[]},{id:"v",label:"V",type:"array",default:[]},{id:"w",label:"W",type:"array",default:[]},{id:"i",label:"I",type:"array",default:[]},{id:"j",label:"J",type:"array",default:[]},{id:"k",label:"K",type:"array",default:[]},{id:"open",label:"Open",type:"array",default:[]},{id:"high",label:"High",type:"array",default:[]},{id:"low",label:"Low",type:"array",default:[]},{id:"close",label:"Close",type:"array",default:[]},{id:"dimensions",label:"Dimensions",type:"array",default:[]},{id:"counts",label:"Counts",type:"array",default:[]},{id:"values",label:"Values",type:"array",default:[1,3,5]},{id:"labels",label:"Labels",type:"array",default:["a","b","c"]},{id:"fill",label:"Fill",type:"enum",default:"tozeroy",options:["tozeroy","tonexty","toself","tonext"]},{id:"orientation",label:"Orientation",type:"enum",default:"v",options:["v","h"]},{id:"marker.size",label:"Marker Size",type:"number",default:5},{id:"marker.color",label:"Marker Color",type:"color",default:"#2578B4"},{id:"locationmode",label:"Locationmode",type:"string",default:"country names"},{id:"locations",label:"Locations",type:"array",default:[]},{id:"text",label:"Text",type:"array",default:[]},{id:"value",label:"Value",type:"number",default:0},{id:"delta.reference",label:"Delta Reference",type:"number",default:0},{id:"title.text",label:"Title Text",type:"string",default:"Title"},{id:"gauge.axis.range",label:"Gauge Axis Range",type:"array",default:[0,1]},{id:"error_y.type",label:"ErrorY Type",type:"string",default:"data"},{id:"error_y.array",label:"ErrorY Array",type:"array",default:[1,2,3,4,5]},{id:"error_y.visible",label:"ErrorY Visible",type:"boolean",default:!0},{id:"sizemode",label:"SizeMode",type:"string",default:"diameter"},{id:"sizeref",label:"SizeRef",type:"number",default:2},{id:"autobinx",label:"AutoBinX",type:"boolean",default:!0},{id:"nbinsx",label:"NBinsX",type:"number",default:10},{id:"autobiny",label:"AutoBinY",type:"boolean",default:!0},{id:"nbinsy",label:"NBinsY",type:"number",default:10},{id:"hoverinfo",label:"HoverInfo",type:"string",default:"all"},{id:"hovertemplate",label:"HoverTemplate",type:"string",default:""},{id:"boxpoints",label:"BoxPoints",type:"string",default:"all"},{id:"notched",label:"Notched",type:"boolean",default:!1},{id:"whiskerwidth",label:"WhiskerWidth",type:"number",default:.5},{id:"fillcolor",label:"FillColor",type:"color",default:"#888"},{id:"line.color",label:"Line Color",type:"color",default:"#888"},{id:"line.width",label:"Line Width",type:"number",default:2},{id:"line.shape",label:"Line Shape",type:"string",default:"linear"},{id:"line.smoothing",label:"Line Smoothing",type:"number",default:1.3},{id:"colorscale",label:"ColorScale",type:"string",default:"Viridis"},{id:"showscale",label:"ShowScale",type:"boolean",default:!0},{id:"reversescale",label:"ReverseScale",type:"boolean",default:!1},{id:"contours.coloring",label:"Contours Coloring",type:"string",default:"fill"},{id:"contours.start",label:"Contours Start",type:"number",default:0},{id:"contours.end",label:"Contours End",type:"number",default:10},{id:"contours.size",label:"Contours Size",type:"number",default:1},{id:"opacity",label:"Opacity",type:"number",default:.8},{id:"cmin",label:"Cmin",type:"number",default:0},{id:"cmax",label:"Cmax",type:"number",default:10},{id:"colorbar.title",label:"ColorBar Title",type:"string",default:"ColorBar"},{id:"colorbar.tickvals",label:"ColorBar TickVals",type:"array",default:[]},{id:"colorbar.ticktext",label:"ColorBar TickText",type:"array",default:[]},{id:"autocolorscale",label:"AutoColorScale",type:"boolean",default:!0},{id:"showlegend",label:"ShowLegend",type:"boolean",default:!0},{id:"legendgroup",label:"LegendGroup",type:"string",default:""},{id:"lat",label:"Lat",type:"array",default:[38]},{id:"lon",label:"Lon",type:"array",default:[-90]}]),m=Object(n["I"])([{id:"autosizable",label:"Autosizable",type:"boolean",default:!1},{id:"displaylogo",label:"Display Logo",type:"boolean",default:!0},{id:"scrollZoom",label:"Scroll Zoom",type:"boolean",default:!0},{id:"editable",label:"Editable",type:"boolean",default:!0},{id:"displayModeBar",label:"Mode Bar",type:"boolean",default:!0}]),_=Object(n["I"])([{id:"title",label:"Title",type:"string",default:"Hello Def"},{id:"showlegend",label:"Show Legend",type:"boolean",default:!0},{id:"paper_bgcolor",label:"Paper",type:"color",default:"#ffffff"},{id:"plot_bgcolor",label:"Background",type:"color",default:"#ffffff"},{id:"font.color",label:"Font Color",type:"color",default:"#000000"},{id:"font.size",label:"Font Size",type:"number",default:10},{id:"dragmode",label:"Dragmode",type:"enum",default:"zoom",options:["zoom"]},{id:"mapbox.style",label:"Mabox Style",type:"enum",default:"open-street-map",options:["open-street-map"]},{id:"mapbox.center.lat",label:"Mapbox Center Lat",type:"number",default:38},{id:"mapbox.center.lon",label:"Mapbox Center Lon",type:"number",default:-90},{id:"mapbox.zoom",label:"Mapbox Zoom",type:"number",default:3},{id:"margin.l",label:"Margin L",type:"number",default:0},{id:"margin.t",label:"Margin T",type:"number",default:0},{id:"margin.r",label:"Margin R",type:"number",default:0},{id:"margin.b",label:"Margin B",type:"number",default:0}]);function g(){let e=a.appData.pages[0].model.fields.filter(e=>"DataFrames.DataFrame"==e.type||"PlotlyData"==e.type||"DataTable.DataFrames.DataFrame"==e.type);i.value=e}const f=Object(n["d"])(()=>{let e=a.appData.pages[0].model.fields,t=[];return e.forEach(e=>{if("DataTable.DataFrames.DataFrame"==e.type){let a=e.props;a&&a.forEach(a=>{t.push({name:e.name+"."+a,type:e.type})})}else if("DataFrames.DataFrame"==e.type){let a=e.columns;a&&a.forEach(a=>{t.push({name:e.name+"."+a,type:e.type})})}t.push({name:e.name,type:e.type})}),t.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),t}),h=Object(n["d"])(()=>{let e=[];return console.log("dataSourceFields",i),i.value.forEach(t=>{if(0==t.type.indexOf("DataFrames.DataFrame")){let a=t.columns;a&&a.forEach(a=>{e.push(t.name+"."+a)})}let a=t.props;a&&a.forEach(a=>{e.push(t.name+"."+a)})}),a.appData.pages[0].model.fields.forEach(t=>{"Array"==t.type&&e.push(t.name)}),e});function y(e,t){let a=e.filter(e=>{let a=!1,n=D(t,e.id);return null!=n&&(a=!0),!a});return a}Object(n["d"])(()=>{let e=m.value.filter(e=>{let t=!1,a=D(r.value,e.id);return null!=a&&(t=!0),!t});return e});function v(e){S()}function O(e){S()}function j(e){S()}function w(e){console.log("removeTrace",e),console.log("traces.value before: ",s.value),s.value.splice(e,1),console.log("traces.value after: ",s.value),S()}function x(e){r.value=e}function C(){r.value=null}function k(e,t,a){let n=e.id,o=t.find(e=>e.id==n);E(a,n,o.default),S()}function D(e,t){const a=t.split(".");for(let n=0;n<a.length;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}function E(e,t,a){const n=t.split(".");for(let o=0;o<n.length-1;o++)e.hasOwnProperty(n[o])&&"object"===typeof e[n[o]]||(e[n[o]]={}),e=e[n[o]];e[n[n.length-1]]=a}function S(){let e=btoa(JSON.stringify(s.value)),t=btoa(JSON.stringify(c.value)),n=btoa(JSON.stringify(d.value));a.selectedComponent.setAttributes({gb_c__data:e,gb_c__config:t,gb_c__layout:n}),a.selectedComponent.view.$el[0].vueApp.updateAttributes({data:e,config:t,layout:n})}function T(e){if(!e||"plotly"!=e.attributes.type)return s.value=null,c.value=null,void(d.value=null);let t=e.getAttributes();t.gb_c__data&&(t.gb_c__data=atob(t.gb_c__data)),t.gb_c__config&&(t.gb_c__config=atob(t.gb_c__config)),t.gb_c__layout&&(t.gb_c__layout=atob(t.gb_c__layout));let a=t.gb_c__data||"[]";a=JSON.parse(a),s.value=a;let n=t.gb_c__config||"{}";n=JSON.parse(n),c.value=n;let o=t.gb_c__layout||"{}";o=JSON.parse(o),d.value=o}function P(){s.value.push({x:"",y:"",type:"scatter",name:"Trace"})}function I(e,t){s.value.push({x:e,y:t,type:"scatter",name:"Trace"}),S()}return Object(n["x"])(()=>{T(a.selectedComponent),g()}),t({setSelectedComponent:T,addNewTraceFromBinding:I}),(t,a)=>{const i=Object(n["L"])("vscode-button");return e.selectedComponent&&"plotly"==e.selectedComponent.attributes.type?(Object(n["E"])(),Object(n["h"])("div",Qt,[Object(n["i"])("div",Rt,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(l),e=>(Object(n["E"])(),Object(n["h"])("div",{onClick:t=>Object(n["q"])(o)?o.value=e.id:o=e.id,class:Object(n["u"])({tabItem:!0,tabItemSelected:e.id==Object(n["Q"])(o)}),key:e},Object(n["O"])(e.name),11,Ft))),128))]),0==Object(n["Q"])(o)?(Object(n["E"])(),Object(n["h"])("div",Ut,[Object(n["i"])("div",$t,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(s),(e,t)=>(Object(n["E"])(),Object(n["h"])("div",{class:"foldableGroup",key:e},[Object(n["i"])("div",Vt,[Object(n["i"])("div",Gt,[Object(n["i"])("div",Jt,[Object(n["k"])(zt,{sectionIndex:t,treeObject:e,dataSourceColumns:h.value,propertiesDefinition:Object(n["Q"])(b),modelFields:f.value,onRemoveTrace:w,onChange:j},null,8,["sectionIndex","treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(n["i"])("div",qt,[Object(n["Q"])(r)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("button",{key:0,class:"addPropertyButton",onClick:t=>x(e)},"+",8,Yt))]),Object(n["Q"])(r)==e?(Object(n["E"])(),Object(n["f"])(st,{key:0,defObject:Object(n["Q"])(b),destination:Object(n["Q"])(r),propslist:y(Object(n["Q"])(b),e),onPropAdded:k,onClose:C},null,8,["defObject","destination","propslist"])):Object(n["g"])("",!0)])]))),128))]),Object(n["i"])("div",Xt,[Object(n["k"])(i,{class:"addTraceButton",onClick:P},{default:Object(n["X"])(()=>[Object(n["j"])("+ Trace")]),_:1})])])):Object(n["g"])("",!0),1==Object(n["Q"])(o)?(Object(n["E"])(),Object(n["h"])("div",Wt,[Object(n["i"])("div",Zt,[Object(n["i"])("div",Kt,[Object(n["k"])(zt,{treeObject:Object(n["Q"])(d),dataSourceColumns:h.value,propertiesDefinition:Object(n["Q"])(_),modelFields:f.value,onChange:v},null,8,["treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(n["i"])("div",ea,[Object(n["Q"])(r)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("button",{key:0,class:"addPropertyButton",onClick:a[0]||(a[0]=e=>x(Object(n["Q"])(d)))},"+"))]),Object(n["Q"])(r)==Object(n["Q"])(d)?(Object(n["E"])(),Object(n["f"])(st,{key:0,defObject:Object(n["Q"])(_),destination:Object(n["Q"])(d),propslist:y(Object(n["Q"])(_),Object(n["Q"])(d)),onPropAdded:k,onClose:C},null,8,["defObject","destination","propslist"])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),2==Object(n["Q"])(o)?(Object(n["E"])(),Object(n["h"])("div",ta,[Object(n["i"])("div",aa,[Object(n["i"])("div",na,[Object(n["k"])(zt,{treeObject:Object(n["Q"])(c),dataSourceColumns:h.value,propertiesDefinition:Object(n["Q"])(m),modelFields:f.value,onChange:O},null,8,["treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(n["i"])("div",oa,[Object(n["Q"])(r)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("button",{key:0,class:"addPropertyButton",onClick:a[1]||(a[1]=e=>x(Object(n["Q"])(c)))},"+"))]),Object(n["Q"])(r)==Object(n["Q"])(c)?(Object(n["E"])(),Object(n["f"])(st,{key:0,defObject:Object(n["Q"])(m),destination:Object(n["Q"])(c),propslist:y(Object(n["Q"])(m),Object(n["Q"])(c)),onPropAdded:k,onClose:C},null,8,["defObject","destination","propslist"])):Object(n["g"])("",!0)])):Object(n["g"])("",!0)])):Object(n["g"])("",!0)}}};a("62cd");const ia=C()(la,[["__scopeId","data-v-0007e978"]]);var ra=ia;const sa=e=>(Object(n["G"])("data-v-11063657"),e=e(),Object(n["F"])(),e),ca={key:0,class:"nothingSelected"},da=sa(()=>Object(n["i"])("i",null,"Nothing selected",-1)),pa=[da],ua={key:1},ba={style:{"user-select":"none"}},ma={class:"removeBtnCnt",style:{width:"20px"}},_a=["onClick"],ga=sa(()=>Object(n["i"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),fa=[ga],ha={class:"propRowLabel"},ya={key:0,class:"propRowControl"},va={slot:"selected-value",class:"codicon codicon-settings"},Oa={"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px",padding:"5px"}},ja={"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px"}},wa={slot:"selected-value"},xa=["attrname","onDrop","onUpdate:modelValue"],Ca=["attrname","onDrop","onUpdate:modelValue"],ka=["attrname","onDrop","onUpdate:modelValue"],Da=["attrname","onDrop","onUpdate:modelValue"],Ea=["attrname","onDrop","onUpdate:modelValue"],Sa={key:1,class:"propRowControl"},Ta=["onUpdate:modelValue","onDrop","attrname"],Pa=["value"],Ia=["onClick"],Aa={key:0,src:"img/icons/binding_on.png",style:{height:"16px"},draggable:"false"},Na={key:1,src:"img/icons/binding_off.png",style:{height:"16px"},draggable:"false"},La={key:3,class:"propRowDynamicSwitch",draggable:"false"},Ha={key:0,class:"suggestedPropertiesContainer",style:{margin:"20px 0px 0px 0px"}},Ba=sa(()=>Object(n["i"])("div",{class:"suggestedPropertiesTitle",style:{opacity:"0.7","margin-bottom":"10px","font-weight":"bold","font-size":"0.9em"}},"Suggested Properties:",-1)),Ma={class:"propRowLabel",style:{opacity:"0.5","font-weight":"bold","text-align":"left:"}},za={class:"propRowControl",style:{opacity:"0.5","text-align":"left","font-size":"0.8em","user-select":"none"}},Qa=["onClick"],Ra=sa(()=>Object(n["i"])("i",{class:"fa fa-plus"},null,-1)),Fa=[Ra],Ua=sa(()=>Object(n["i"])("br",null,null,-1)),$a={key:1,style:{"font-size":"0.8em"}},Va=sa(()=>Object(n["i"])("i",null,"Nothing selected",-1)),Ga=[Va];var Ja={__name:"PropertiesPanel",props:["title","appData","selectedComponent"],setup(e,{expose:t}){const a=e,o=Object(n["I"])(null);let l=Object(n["I"])(null),i=Object(n["I"])(!1),r=Object(n["I"])(a.appData.pages[0].model.fields),s={};r.value.forEach(e=>{s[e.name]=e});const c=blockDefinitions.reduce((e,t)=>(e[t.type]=t,e),{});function d(e){try{return 0==e.indexOf("gb_c__")||0==e.indexOf("gb_b__")?e.substring(6):e}catch(t){console.error("Error in getAttributeCleanRealName: ",e,t)}}function p(e){l.value.removeAttributes([e.name]),w()}function u(){let e=O(l.value.attributes.type);if(!e)return[];let t=m().map(e=>e.cleanName),a=e.properties.filter(e=>1==e.suggested),n=a.filter(e=>-1==t.indexOf(e.name));return n}function b(e){let t=[];return r.value.forEach(a=>{if(a.type==e.def.type)t.push(a);else if("DataTable.DataFrames.DataFrame"==a.type){let e=a.props;e&&e.forEach(e=>{t.push({name:a.name+"."+e})})}}),t}function m(){const e=l.value.attributes.attributes;let t=[],n={};for(let a in e)if(a.startsWith("gb_c__")||a.startsWith("gb_b__")){let o=d(a).toLowerCase();if("id"!=o&&"charttype"!=o&&"class"!=o){let l=_(o);l||console.error("Definition not found for: ",a,o,e[a]),t.push({name:a,cleanName:o,value:e[a],def:l}),n[a]=e[a]}}return a.selectedComponent.view.el.vueApp&&a.selectedComponent.view.el.vueApp.updateAttributes(n),t=X.a.sortBy(t,"cleanName"),t}function _(e){let t=O(l.value.attributes.type);if(!t)return null;let a=t.properties.find(t=>t.name==e);return a}function g(e){let t=0==e.indexOf("gb_b_");return t}function f(e){let t=JSON.parse(e.dataTransfer.getData("text")),a=e.target.getAttribute("attrname");if(0==a.indexOf("gb_c__"))x(a,t.bindingname);else{let e={};e[a]=t.bindingname,l.value.addAttributes(e)}}function h(){i.value=!0}function y(){i.value=!1}function v(e){console.log("PropertiesPanel::addProperty",e);let t={Boolean:!0,String:"",Number:0,Array:[]},a={},n="gb_c__"+e.name,o=null!==t[e.type]?t[e.type]:"Not Set";a[n]=o,l.value.addAttributes(a),w()}function O(e){let t=c[e];return t}const j=Object(n["d"])(()=>{let e=O(l.value.attributes.type);if(!e)return[];let t=e.properties,a=l.value.getAttributes(),n=[];for(let l in a){let e=d(l);n.push(e)}let o=[];return t.forEach(e=>{let t=d(e.name);-1==n.indexOf(t)&&o.push(e)}),o});function w(){let e=l.value.attributes.attributes;for(let a in e)!0===e[a]&&(e[a]="true"),!1===e[a]&&(e[a]="false");let t=selectedComponent.toHTML();editor.getSelected().replaceWith(t);let n={},o=Object.getOwnPropertyNames(e);o.forEach(t=>{let a;a=void 0!=e[t]&&void 0!=e[t].nodeValue?e[t].nodeValue:e[t],n[t]=a}),a.selectedComponent.setAttributes(n);let i=a.selectedComponent.view.$el[0].vueApp;i.updateAttributes(n)}function x(e,t){let a=0==e.indexOf("gb_b__")?e.replace("gb_b__","gb_c__"):e.replace("gb_c__","gb_b__");l.value.removeAttributes([e]);let n={};if(0==a.indexOf("gb_b__"))if(null!=s[t])n[a]=t;else{let e=d(a).toLowerCase(),t=_(e),o={def:t},l=b(o);l.length>0?n[a]=l[0].name:n[a]="Not Set"}else n[a]=t;l.value.addAttributes(n),w()}function C(e){l.value=e,e&&"plotly"==e.attributes.type&&o.value.setSelectedComponent(e)}return Object(n["B"])(()=>{C(window.selectedComponent)}),t({setSelectedComponent:C,chartPropertiesPanel:o}),(t,a)=>{const r=Object(n["L"])("vscode-option"),s=Object(n["L"])("vscode-dropdown"),c=Object(n["L"])("q-icon"),d=Object(n["L"])("vscode-button");return Object(n["E"])(),Object(n["h"])(n["a"],null,[Object(n["Q"])(l)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("div",ca,pa)),Object(n["Q"])(l)&&"tempplaceholder"!=Object(n["Q"])(l).attributes.type&&"plotly"!=Object(n["Q"])(l).attributes.type?(Object(n["E"])(),Object(n["h"])("div",ua,[Object(n["i"])("div",ba,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(m(),e=>{var t;return Object(n["E"])(),Object(n["h"])("div",{key:e.name,class:"propRow"},[Object(n["i"])("div",ma,[1!=(null===(t=e.def)||void 0===t?void 0:t.mandatory)&&"gb_b__v-model"!=e.name?(Object(n["E"])(),Object(n["h"])("span",{key:0,onClick:t=>p(e),title:"Remove Property",class:"codicon codicon-settings"},fa,8,_a)):Object(n["g"])("",!0)]),Object(n["i"])("div",ha,Object(n["O"])(e.def.label)+": ",1),g(e.name)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("div",ya,["enum_icons"==e.def.uitype?(Object(n["E"])(),Object(n["f"])(s,{key:0,style:{width:"100%","min-width":"unset"},value:Object(n["Q"])(l).attributes.attributes[e.name],onInput:t=>Object(n["Q"])(l).attributes.attributes[e.name]=t.target.value,onChange:w},{default:Object(n["X"])(()=>[Object(n["i"])("span",va,[Object(n["i"])("i",Oa,Object(n["O"])(Object(n["Q"])(l).attributes.attributes[e.name]),1),Object(n["j"])(" "+Object(n["O"])(Object(n["Q"])(l).attributes.attributes[e.name]),1)]),(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(e.def.options,e=>(Object(n["E"])(),Object(n["f"])(r,{value:e,style:{padding:"5px"}},{default:Object(n["X"])(()=>[Object(n["i"])("i",ja,Object(n["O"])(e),1),Object(n["j"])(" "+Object(n["O"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"enum_colors"==e.def.uitype?(Object(n["E"])(),Object(n["f"])(s,{key:1,style:{width:"100%","min-width":"unset"},value:Object(n["Q"])(l).attributes.attributes[e.name],onInput:t=>Object(n["Q"])(l).attributes.attributes[e.name]=t.target.value,onChange:w},{default:Object(n["X"])(()=>[Object(n["i"])("span",wa,[Object(n["k"])(c,{name:"circle",color:Object(n["Q"])(l).attributes.attributes[e.name],style:{"margin-right":"5px"}},null,8,["color"]),Object(n["j"])(" "+Object(n["O"])(Object(n["Q"])(l).attributes.attributes[e.name]),1)]),(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(e.def.options,e=>(Object(n["E"])(),Object(n["f"])(r,{value:e,style:{padding:"5px"}},{default:Object(n["X"])(()=>[Object(n["k"])(c,{name:"circle",color:e,style:{"margin-right":"5px"}},null,8,["color"]),Object(n["j"])(" "+Object(n["O"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"String"==e.def.type&&-1==e.cleanName.indexOf("color")?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:2,attrname:e.name,type:"text",onDrop:Object(n["Z"])(f,["prevent"]),onDragenter:a[0]||(a[0]=Object(n["Z"])(()=>{},["prevent"])),onDragover:a[1]||(a[1]=Object(n["Z"])(()=>{},["prevent"])),class:"propInput",onChange:w,"onUpdate:modelValue":t=>Object(n["Q"])(l).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,xa)),[[n["U"],Object(n["Q"])(l).attributes.attributes[e.name]]]):"Array"==e.def.type?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:3,attrname:e.name,type:"text",onDrop:Object(n["Z"])(f,["prevent"]),onDragenter:a[2]||(a[2]=Object(n["Z"])(()=>{},["prevent"])),onDragover:a[3]||(a[3]=Object(n["Z"])(()=>{},["prevent"])),class:"propInput",onChange:w,"onUpdate:modelValue":t=>Object(n["Q"])(l).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,Ca)),[[n["U"],Object(n["Q"])(l).attributes.attributes[e.name]]]):"String"==e.def.type&&e.name.indexOf("color")>-1?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:4,attrname:e.name,type:"color",onDrop:Object(n["Z"])(f,["prevent"]),onDragenter:a[4]||(a[4]=Object(n["Z"])(()=>{},["prevent"])),onDragover:a[5]||(a[5]=Object(n["Z"])(()=>{},["prevent"])),class:"propInput",onChange:w,"onUpdate:modelValue":t=>Object(n["Q"])(l).attributes.attributes[e.name]=t,style:{padding:"0px 2px",height:"21px"}},null,40,ka)),[[n["U"],Object(n["Q"])(l).attributes.attributes[e.name]]]):"Number"==e.def.type?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:5,attrname:e.name,type:"number",onDrop:Object(n["Z"])(f,["prevent"]),onDragenter:a[6]||(a[6]=Object(n["Z"])(()=>{},["prevent"])),onDragover:a[7]||(a[7]=Object(n["Z"])(()=>{},["prevent"])),class:"propInput",onChange:w,"onUpdate:modelValue":t=>Object(n["Q"])(l).attributes.attributes[e.name]=t},null,40,Da)),[[n["U"],Object(n["Q"])(l).attributes.attributes[e.name]]]):"Boolean"==e.def.type?Object(n["Y"])((Object(n["E"])(),Object(n["h"])("input",{key:6,attrname:e.name,type:"checkbox",onDrop:Object(n["Z"])(f,["prevent"]),onDragenter:a[8]||(a[8]=Object(n["Z"])(()=>{},["prevent"])),onDragover:a[9]||(a[9]=Object(n["Z"])(()=>{},["prevent"])),class:"propInput",onChange:w,"onUpdate:modelValue":t=>Object(n["Q"])(l).attributes.attributes[e.name]=t,style:{width:"auto"}},null,40,Ea)),[[n["R"],Object(n["Q"])(l).attributes.attributes[e.name]]]):Object(n["g"])("",!0)])),g(e.name)?(Object(n["E"])(),Object(n["h"])("div",Sa,[Object(n["Y"])(Object(n["i"])("select",{class:"propInput propInputDynamic","onUpdate:modelValue":t=>Object(n["Q"])(l).attributes.attributes[e.name]=t,name:"cars",id:"cars",onChange:w,onDrop:Object(n["Z"])(f,["prevent"]),onDragenter:a[10]||(a[10]=Object(n["Z"])(()=>{},["prevent"])),onDragover:a[11]||(a[11]=Object(n["Z"])(()=>{},["prevent"])),attrname:e.name},[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(b(e),e=>(Object(n["E"])(),Object(n["h"])("option",{key:"binding_"+e.name,value:e.name},Object(n["O"])(e.name),9,Pa))),128))],40,Ta),[[n["T"],Object(n["Q"])(l).attributes.attributes[e.name]]])])):Object(n["g"])("",!0),"gb_b__v-model"!=e.name&&-1==e.name.indexOf("gb_b__v-on:")?(Object(n["E"])(),Object(n["h"])("div",{key:2,onClick:t=>x(e.name,e.value),class:"propRowDynamicSwitch"},[g(e.name)?(Object(n["E"])(),Object(n["h"])("img",Aa)):Object(n["g"])("",!0),g(e.name)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("img",Na))],8,Ia)):(Object(n["E"])(),Object(n["h"])("div",La))])}),128)),u().length>0?(Object(n["E"])(),Object(n["h"])("div",Ha,[Ba,(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(u(),e=>(Object(n["E"])(),Object(n["h"])("div",{key:e.name,class:"propRow"},[Object(n["i"])("div",Ma,Object(n["O"])(e.label)+": ",1),Object(n["i"])("div",za,Object(n["O"])(e.desc),1),Object(n["i"])("div",{class:"propRowDynamicSwitch",draggable:"false",title:"Add property",onClick:t=>v(e)},Fa,8,Qa)]))),128))])):Object(n["g"])("",!0)]),Ua,!Object(n["Q"])(i)&&Object(n["Q"])(l)?(Object(n["E"])(),Object(n["f"])(d,{key:0,onClick:h},{default:Object(n["X"])(()=>[Object(n["j"])("Add Property")]),_:1})):Object(n["g"])("",!0),Object(n["Q"])(l)?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("div",$a,Ga)),Object(n["Q"])(i)?(Object(n["E"])(),Object(n["f"])(st,{key:2,propslist:j.value,onPropAdded:v,onClose:y},null,8,["propslist"])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Object(n["k"])(ra,{ref_key:"chartPropertiesPanel",ref:o,appData:e.appData,selectedComponent:e.selectedComponent,style:{height:"100%"}},null,8,["appData","selectedComponent"])],64)}}};a("b1b6");const qa=C()(Ja,[["__scopeId","data-v-11063657"]]);var Ya=qa;Me()(Ja,"components",{QIcon:Bt["a"]});var Xa=a("1020"),Wa=a.n(Xa),Za=a("4dd1"),Ka=a.n(Za),en=a("de09"),tn=a.n(en);a("9f21");const an=e=>(Object(n["G"])("data-v-34d0adbe"),e=e(),Object(n["F"])(),e),nn={class:"logsPanel",style:{position:"relative"}},on={class:"toolBar"},ln=an(()=>Object(n["i"])("option",{value:"0"},"Debug",-1)),rn=an(()=>Object(n["i"])("option",{value:"1"},"Info",-1)),sn=an(()=>Object(n["i"])("option",{value:"2"},"Warning",-1)),cn=an(()=>Object(n["i"])("option",{value:"3"},"Error",-1)),dn=[ln,rn,sn,cn],pn=["value"],un=an(()=>Object(n["i"])("span",{class:"codicon codicon-settings"},[Object(n["i"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px",padding:"5px"}},"delete")],-1)),bn=[un],mn={class:"timeStamp"},_n={class:"appSource"},gn={class:"logLevel"},fn=["onClick"];var hn={__name:"LogsPanel",props:["appData"],setup(e,{expose:t}){const a=Object(n["I"])(!0),o=Object(n["I"])(!0),l=Object(n["I"])(0),i=Object(n["I"])("all"),r=Object(n["I"])(""),s=Object(n["I"])(null);Wa.a.registerLanguage("javascript",Ka.a),Wa.a.registerLanguage("sql",tn.a);const c={mounted(e,t){const a=t.value||"",n=Wa.a.highlight("sql",a).value;e.innerHTML=`<pre style="white-space: pre-wrap; word-wrap: break-word;"><code style="display: block; width: 100%;">${n}</code></pre>`},updated(e,t){const a=t.value||"",n=Wa.a.highlight("sql",a).value;e.innerHTML=`<pre style="white-space: pre-wrap; word-wrap: break-word;"><code style="display: block; width: 100%;">${n}</code></pre>`}},d=c,p=Object(n["I"])([{id:"all",label:"All"},{id:0,label:"GB"}]),u={debug:0,info:1,warning:2,error:3},b=Object(n["I"])([]);window.logs=b;const m=Object(n["d"])(()=>{let e=b.value.filter(e=>{let t="server"==e.source&&a.value||"client"==e.source&&o.value,n=u[e.level]>=l.value,s="all"==i.value||e.appid==i.value,c=""==r.value||e.message.toLowerCase().indexOf(r.value.toLowerCase())>=0;return t&&n&&c&&s});return e});function _(){b.value=[]}function g(e){let t="log:message";if(0==e.message.indexOf(t)){p.value.find(t=>t.id==e.appid)||p.value.push({id:e.appid,label:e.appid});let a=e.message.slice(t.length);a=a.split(" ").join(""),e.message=a,e.appSource="0"==e.appid?"GB":"app "+e.appid,e.timestamp=e.timestamp.replace("T"," ").replace("Z","").split(".")[0],e.expanded=!1,b.value.push(e),s.value.scrollTop=s.value.scrollHeight}}return t({addLog:g}),(e,t)=>(Object(n["E"])(),Object(n["h"])("div",nn,[Object(n["i"])("div",on,[Object(n["i"])("div",null,[Object(n["Y"])(Object(n["i"])("input",{type:"checkbox",id:"showServerLogs",name:"showServerLogs","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e)},null,512),[[n["R"],a.value]]),Object(n["j"])(" GB Server ")]),Object(n["i"])("div",null,[Object(n["Y"])(Object(n["i"])("input",{type:"checkbox",id:"showClientLogs",name:"showClientLogs","onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e)},null,512),[[n["R"],o.value]]),Object(n["j"])(" Client ")]),Object(n["i"])("div",null,[Object(n["Y"])(Object(n["i"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e)},dn,512),[[n["T"],l.value]])]),Object(n["i"])("div",null,[Object(n["Y"])(Object(n["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e)},[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(p.value,e=>(Object(n["E"])(),Object(n["h"])("option",{value:e.id},Object(n["O"])(e.label),9,pn))),256))],512),[[n["T"],i.value]])]),Object(n["i"])("div",null,[Object(n["j"])(" Search: "),Object(n["Y"])(Object(n["i"])("input",{type:"text",id:"searchString",name:"searchString","onUpdate:modelValue":t[4]||(t[4]=e=>r.value=e),style:{width:"200px"}},null,512),[[n["U"],r.value]])]),Object(n["i"])("div",{style:{"text-align":"right","flex-grow":"1","flex-basis":"0"}},[Object(n["i"])("button",{class:"clearLogsButton",onClick:_,title:"Clear Logs"},bn)])]),Object(n["i"])("div",{ref_key:"logsContainer",ref:s,class:"logsContainer"},[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(m.value,(e,t)=>(Object(n["E"])(),Object(n["h"])("div",{class:Object(n["u"])({logItem:!0,levelInfo:"info"==e.level,levelWarning:"warning"==e.level,levelError:"error"==e.level}),key:"logItem_"+t},[Object(n["i"])("div",mn,Object(n["O"])(e.timestamp),1),Object(n["i"])("div",_n,Object(n["O"])(e.appSource),1),Object(n["i"])("div",gn,Object(n["O"])(e.level),1),Object(n["Y"])(Object(n["i"])("div",{class:Object(n["u"])({logMessage:!0,logMessageExpanded:e.expanded}),onClick:t=>e.expanded=!e.expanded},null,10,fn),[[Object(n["Q"])(d),e.message]])],2))),128))],512)]))}};a("f20f");const yn=C()(hn,[["__scopeId","data-v-34d0adbe"]]);var vn=yn;Me()(hn,"components",{QIcon:Bt["a"]});const On={class:"bindingsConnectorsContainer"},jn={width:"100%",height:"100%",style:{position:"absolute","z-index":"11","pointer-events":"none"}},wn=["x","y","width","height"],xn=["d"];var Cn={__name:"BindingsConnector",setup(e,{expose:t}){const a=Object(n["I"])([]),o=Object(n["I"])([]),l=Object(n["I"])(null),i=Object(n["I"])(null);function r(e){let t=e,a=s(),n=Math.abs(t.x+t.width-a.x),o=.5*n,l=`M ${t.x+t.width} ${t.y+.5*t.height} C ${t.x+t.width+o} ${t.y+.5*t.height}, ${a.x-o} ${a.y+7}, ${a.x} ${a.y+7}`;return l}function s(){let e=c(i.value.element);return e}function c(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top}}function d(e){a.value=e,p()}function p(){null==l.value&&u();let e=l.value,t=a.value.map(t=>({x:t.x+e.x,y:t.y+e.y,width:t.width,height:t.height}));o.value=t}function u(){let e=document.querySelector(".gjs-frame");l.value=c(e),p()}function b(e){i.value=e}return t({updateElementsPositions:d,updateIframePosition:u,onBindingOvered:b}),(e,t)=>(Object(n["E"])(),Object(n["h"])("div",On,[(Object(n["E"])(),Object(n["h"])("svg",jn,[(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(o.value,e=>(Object(n["E"])(),Object(n["h"])("rect",{key:e.id,x:e.x,y:e.y,width:e.width,height:e.height,style:{fill:"transparent","stroke-width":"3",stroke:"#0099ff"}},null,8,wn))),128)),(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(o.value,e=>(Object(n["E"])(),Object(n["h"])("path",{key:e.id,d:r(e),stroke:"#0099ff","stroke-width":"2",fill:"transparent"},null,8,xn))),128))]))]))}};a("c0b1");const kn=C()(Cn,[["__scopeId","data-v-571588a7"]]);var Dn=kn;const En=e=>(Object(n["G"])("data-v-a0ac1b10"),e=e(),Object(n["F"])(),e),Sn={style:{position:"relative"}},Tn={class:"flex flex-col items-center justify-center p-6",style:{padding:"0px"}},Pn={class:"mb-4 w-full max-w-xl"},In=["disabled"],An={key:0,class:"mr-2"},Nn={key:1},Ln={key:0,class:"mt-6 p-4",style:{width:"100%",padding:"0px"}},Hn=En(()=>Object(n["i"])("h2",{class:"text-xl font-semibold"},"Answer",-1)),Bn={key:0,class:"mt-6 flex justify-center items-center"},Mn=En(()=>Object(n["i"])("span",{class:"mr-2"},"Was this helpful?",-1)),zn={key:1,class:"mt-6 text-center text-green-500"},Qn={key:1,class:"mt-6 p-4 border rounded"},Rn=En(()=>Object(n["i"])("h4",{class:"text-xl font-semibold"},"Context",-1)),Fn={class:"mt-2"},Un={key:2,class:"mt-6 p-4 border rounded bg-red-100"},$n=En(()=>Object(n["i"])("h2",{class:"text-xl font-semibold"},"Error",-1)),Vn={class:"text-red-600"};var Gn={__name:"AiHelpPanel",props:["appData"],setup(e){let t=Object(n["I"])("<b>hello there</b>"),a="",o="";const l=Object(n["I"])(!1),i=Object(n["I"])(""),r=Object(n["I"])(null),s=Object(n["I"])(null),c=Object(n["I"])(!1);const d=async()=>{if(""!==i.value.trim()){c.value=!0,l.value=!1,console.log("Asking question:",i.value);try{let e=await u["a"].post(De.ask_ai_url,{query:i.value});e=e.data,console.log("Response received:",e),r.value=e.answer,t=e.answer,a=e.context,o=e.doc_id,s.value=null,console.log("Answer set:",r.value)}catch(n){var e;console.error("Error occurred:",n),s.value=(null===(e=n.data)||void 0===e?void 0:e.message)||n.message,r.value=null,console.log("Error set:",s.value)}finally{c.value=!1}}else s.value="Please enter a question."},p=async e=>{try{await u["a"].get(`https://docsbot.peregimenez.com/api/feedback/${o}/${e}`),console.log("Feedback sent: "+e),l.value=!0}catch(t){console.error("Error sending feedback:",t)}};return(e,o)=>{const u=Object(n["L"])("md-block");return Object(n["E"])(),Object(n["h"])("div",Sn,[Object(n["i"])("div",Tn,[Object(n["i"])("div",Pn,[Object(n["Y"])(Object(n["i"])("textarea",{rows:"2","onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),placeholder:"Enter your question",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[n["U"],i.value]])]),Object(n["i"])("button",{onClick:d,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:c.value},[c.value?(Object(n["E"])(),Object(n["h"])("span",An,"Thinking...")):Object(n["g"])("",!0),c.value?Object(n["g"])("",!0):(Object(n["E"])(),Object(n["h"])("span",Nn,"Submit "))],8,In),r.value?(Object(n["E"])(),Object(n["h"])("div",Ln,[Hn,Object(n["k"])(u,{class:"answer_block",innerHTML:Object(n["Q"])(t),style:{}},null,8,["innerHTML"]),r.value?(Object(n["E"])(),Object(n["h"])("div",Bn,[Mn,Object(n["i"])("button",{onClick:o[1]||(o[1]=e=>p(1)),class:"mr-4"},""),Object(n["i"])("button",{onClick:o[2]||(o[2]=e=>p(0))},"")])):Object(n["g"])("",!0),l.value?(Object(n["E"])(),Object(n["h"])("div",zn," Thanks for your feedback! ")):Object(n["g"])("",!0)])):Object(n["g"])("",!0),r.value?(Object(n["E"])(),Object(n["h"])("div",Qn,[Rn,(Object(n["E"])(!0),Object(n["h"])(n["a"],null,Object(n["J"])(Object(n["Q"])(a),e=>(Object(n["E"])(),Object(n["h"])("div",Fn,Object(n["O"])(e),1))),256))])):Object(n["g"])("",!0),s.value?(Object(n["E"])(),Object(n["h"])("div",Un,[$n,Object(n["i"])("p",Vn,Object(n["O"])(s.value),1)])):Object(n["g"])("",!0)])])}}};a("385b");const Jn=C()(Gn,[["__scopeId","data-v-a0ac1b10"]]);var qn=Jn;class Yn{constructor(e,t,a){this.wsEndpoint=De.getExternalApiBaseUrl("ws"),this.ws=null,this.onOpenHandler=e,this.onCloseHandler=t,this.onMessageHandler=a}connect(){console.log("StatusMonitor::connect"),this.ws=new WebSocket(this.wsEndpoint),this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onclose=this.onClose.bind(this)}restart(e){e=e||1,console.log("StatusMonitor::restart",e),setTimeout(()=>{this.connect()},1e3*e)}onOpen(){console.log("StatusMonitor::onOpen"),this.ws.send(JSON.stringify({channel:"geniebuilder",message:"subscribe",payload:{}})),this.onOpenHandler()}onMessage(e){this.onMessageHandler(e)}onClose(){console.log("StatusMonitor::onClose"),this.onCloseHandler()}}a("04d1");var Xn=a("8833");a("d7d5"),a("d5e0"),a("0109"),a("bbca");const Wn=e=>(Object(n["G"])("data-v-56344004"),e=e(),Object(n["F"])(),e),Zn={key:0,class:"mainContainer"},Kn={class:"topBar"},eo=Wn(()=>Object(n["i"])("div",{style:{width:"100%"}},null,-1)),to={class:"topToolBar"},ao={style:{"margin-right":"10px",color:"#cccccc"}},no={class:"rowStack"},oo={class:"centralBar"},lo={class:"panel canvasPanel",style:{}},io={class:"panel logsPanel"},ro={class:"panel bindingsPanel",style:{height:"100%"}},so=Wn(()=>Object(n["i"])("div",{id:"myStyleEditorContainer"},[Object(n["i"])("div",{id:"myStyleEditorContainerClasses"}),Object(n["i"])("div",{id:"myStyleEditorContainerSections"})],-1)),co={class:"nothingSelected"},po=Wn(()=>Object(n["i"])("i",null,"Nothing selected",-1)),uo=[po],bo={id:"customCodeEditor"},mo={class:"panel propertiesPanel",style:{height:"100%"}},_o={class:"panel aiHelpPanel",style:{height:"100%"}};var go={__name:"Main",setup(e){let t=Object(n["I"])(null),a=Object(n["I"])("test <p>para</p>"),o=Object(n["I"])({mode:"text/xml",theme:"neat",lineWrapping:!0}),l="";function i(e){3==e&&setTimeout(()=>{console.log("onMainTabChanged",e,t.value),ne()},200)}function r(){console.log("codeChanged")}const s=()=>{console.log("Main.switchCodeEditorTheme: ",window.currentThemeType),"light"==window.currentThemeType?o.value.theme="neat":o.value.theme="dracula",Q=window.currentThemeType,t.value&&t.value.refresh()};function c(){console.log("applyCodeChanges");let e=a.value;const t=new DOMParser,n=t.parseFromString(e,"text/html"),o=n.body;Ce.encodeAttributesInDOM(o);const l=o.innerHTML;console.log("applyCodeChanges firstDivContent",l),editor.getSelected().replaceWith(l)}window.switchCodeEditorTheme=s;let d=Object(n["I"])(null),p=localStorage.getItem("panelStates");p?(console.log("storedStates",p),d.value=JSON.parse(p)):(d.value={bindingsPanelContainer:{expanded:!0,size:10},propertiesPanelContainer:{expanded:!0,size:10},aiHelpPanelContainer:{expanded:!0,size:10}},g());const _=Object(n["I"])([d.value.bindingsPanelContainer.size,d.value.propertiesPanelContainer.size,d.value.aiHelpPanelContainer.size]);function g(){try{d.value.bindingsPanelContainer.size=Math.round(document.getElementById("bindingsPanelContainer_Pane").style.height.split("%").join("")),d.value.propertiesPanelContainer.size=Math.round(document.getElementById("propertiesPanelContainer_Pane").style.height.split("%").join("")),d.value.aiHelpPanelContainer.size=Math.round(document.getElementById("aiHelpPanelContainer_Pane").style.height.split("%").join(""))}catch(e){console.error("savePanelStates error",e)}localStorage.setItem("panelStates",JSON.stringify(d.value))}function f(){console.log("panesResized"),g()}console.log("panelSizes",_);function h(e,t){console.log("updatePaneState",e,t),d.value[e].expanded=t,g()}const y=Object(n["I"])(null),v=Object(n["I"])(null),O=Object(n["I"])(null),j=Object(n["I"])(null),w=Object(n["I"])(null),x=Object(n["I"])(null),C=Object(n["I"])(null),k=Object(n["I"])(null),D=Object(n["I"])(null),E=Object(n["I"])(null),S=Object(n["I"])(null);let T=null,P=!1,A=Object(n["I"])(null);window.appData=A;const N="0.1.28";let L=["appid","appport","CHANNEL__","GB_SOURCE","GB_HOST","GB_PORT"],H=[];const B=K();let z="NCD. URL Params\n------------------------";if(L.forEach(e=>{z+=`\n  - ${e}: ${B[e]}`,void 0==B[e]?H.push(e):De[e]=B[e]}),console.log(z),H.length>0){let e="Missing URL params: "+H.join(", ");throw alert(e),new Error(e)}window.apibase=De.getExternalApiBaseUrl("http")+"api/v1/";let Q="dark";function F(e){}function U(e){let t=JSON.parse(e.data);if(t.message&&0==t.message.indexOf("base64:")&&(t.message=atob(t.message.replace("base64:",""))),t.message&&0==t.message.indexOf("filechanged:")){let e=t.message.replace("filechanged:",""),a=T.config.app_path+"/"+T.view,n=e==a,o=e.indexOf("autogenerated.css")>-1;o||P||(n||setStoredUnsavedChanges(),window.location.reload())}else j&&j.value&&j.value.addLog({appid:t.appid,timestamp:t.timestamp,source:"server",level:t.type,message:t.message+": "+t.status})}"light"==B.theme&&(Q="light"),setTheme(Q),window.clearStoredUnsavedChanges=function(){console.log("clearStoredUnsavedChanges()");let e=T.config.app_path+"/"+T.view;localStorage.removeItem("unsavedChanges__"+e)},window.getStoredUnsavedChanges=function(){console.log("getStoredUnsavedChanges()");let e=T.config.app_path+"/"+T.view,t=localStorage.getItem("unsavedChanges__"+e);return t&&(t=JSON.parse(t)),t},window.setStoredUnsavedChanges=function(){console.log("setStoredUnsavedChanges()");let e=T.config.app_path+"/"+T.view,t=W();t=JSON.stringify(t),localStorage.setItem("unsavedChanges__"+e,t)};const $=Object(n["d"])(()=>{let e="Properties";return S&&S.value?S.value.attributes.name&&(e+=" - "+S.value.attributes.name):e+=" (nothing selected)",e});function V(e){console.log("onSocketClose",e),G.restart(5)}const G=window.statusMonitor=new Yn(F,V,U);let J={indent_size:4,indent_char:" ",max_preserve_newlines:5,preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:0,indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1,inline_custom_elements:!1};function Y(e){x.value.setHandleBlocks(e)}function X(){window.location.reload()}function W(){const e=editor.getCss(),t=editor.getHtml({cleanId:!0}),a=new DOMParser,n=a.parseFromString(t,"text/html"),o=n.body.querySelector("#gbTemplateContainer")||null;Ce.decodeAttributesInDOM(o);const l=o.innerHTML;let i=html_beautify(l,J);return i=Ce.restoreSpecialElements(i),{beautifiedHtml:i,editedHtmlCss:e}}function Z(){let{beautifiedHtml:e,editedHtmlCss:t}=W(),a=e.indexOf("<tempplaceholder")>-1,n=l!=e;if(a)return void console.log("saveTemplate() cancelled: it contains placeholders");if(!n)return void console.log("saveTemplate() cancelled: content didn't change");console.log("saveTemplate() will proceed"),l=e;let o=T.view,i=encodeURIComponent(o),r=`${apibase}apps/${De.appid}/save?path=${i}`;P=!0,u["a"].post(r,{payload:e}).then(e=>{let a=`${apibase}apps/${De.appid}/save?path=public/css/autogenerated.css`;u["a"].post(a,{payload:t}).then(e=>{P=!1}).catch(e=>{console.log("ERROR saving css file response: ",e)})}).catch(e=>{console.log("ERROR saving template file response: ",e)})}function K(){const e=new URLSearchParams(window.location.search),t={};for(const[a,n]of e.entries())t[a]=n;return t}function ee(e){E.value.onBindingOvered(e);let t=document.querySelector(".gjs-frame");if(e.binding){let a={target:"main-controller",payload:{command:"reportElementsUsingBinding",bindingName:e.binding.name}};t.contentWindow.postMessage(a,"*")}else E.value.updateElementsPositions([])}function te(){console.log("onAutoSaveTriggered()"),Z()}function ae(e){console.log("Main::onComponentSelected",e),window.selectedComponent=S.value=e,k.value&&k.value.setSelectedComponent(e),ne()}function ne(){let e=S.value;if(!e)return;console.log("updateCodeEditorContent",e);let n=e.toHTML();console.log("selectedComponentCode",n);const o=n,l=new DOMParser,i=l.parseFromString(o,"text/html");console.log("beautifiedHtml doc",i);const r=i;Ce.decodeAttributesInDOM(r),n=r.querySelector("body").innerHTML,console.log("beautifiedHtml 0",n);let s=html_beautify(n,J);console.log("beautifiedHtml 1",s),console.log("beautifiedHtml 2",s),a.value=s,t.value.refresh()}function oe(e){var t;let a=e.bindingInfo.bindingname,n=null===(t=sharedData.modelFieldsByName[a])||void 0===t?void 0:t.columns;if(n&&n.length>0){let t,o;t=o=`$_{${a}.${n[0]}}`,n.length>1&&(o=`$_{${a}.${n[1]}}`);let l=e.newComponentModel;editor.select(e.targetModel),setTimeout(()=>{var a;let n=null===(a=k.value)||void 0===a?void 0:a.chartPropertiesPanel;console.log("onBindingDroppedOnComponent",e,n.value),n&&n.addNewTraceFromBinding(t,o),editor.select(l);let i=l.collection;i.remove(l),editor.select(e.targetModel)},100)}}function le(e){A.value=e}function ie(e){if(null==T)return!1;let t=T.model.fields,a=t.map(e=>e.name);return a.indexOf(e)>-1||""==e}function re(e){const t={"{Function}":"Function","{Bool}":"Boolean","{String}":"String","{Char}":"String","{Date}":"Date","{Number}":"Number","{Int64}":"Number","{Int32}":"Number","{Int16}":"Number","{Int8}":"Number","{Float64}":"Number","{Float32}":"Number","{Float16}":"Number","{Float8}":"Number","{Vector}":"Array","{Vector{Bool}}":"Array","{Vector{String}}":"Array","{Vector{Char}}":"Array","{Vector{Number}}":"Array","{Vector{Float64}}":"Array","{Vector{Int64}}":"Array","{Vector{Int32}}":"Array","{Vector{Int16}}":"Array","{Vector{Int8}}":"Array","Vector{Dict}":"Array","{Object}":"Object","{NamedTuple{(:min, :max), Tuple{Int64, Int64}}}":"Object","{Dict}":"Object","{RangeData{Int64}}":"Number","{Vector{PlotlyBase.GenericTrace{Dict{Symbol, Any}}}}":"PlotlyBase.GenericTrace","{PlotlyBase.Layout{Dict{Symbol, Any}}}":"PlotlyBase.Layout","{DataTable{DataFrames.DataFrame}}":"DataTable.DataFrames.DataFrame","{DataFrames.DataFrame}":"DataFrames.DataFrame","{DataFrame}":"DataFrames.DataFrame","{PlotlyData}":"PlotlyData","{DataTablePagination}":"DataTablePagination"};e.forEach(e=>{e.model.fields=e.model.fields.filter(e=>e.isreactive),e.model.fields.forEach(e=>{let a=e.type,n=a.replace("Reactive",""),o=t[n];void 0!=o||0!=n.indexOf("{Vector{Dict{")&&0!=n.indexOf("{Vector{Vector{")||(o="Array"),e.type=o||"UnknownType"}),e.model.fields=m["a"].sortBy(e.model.fields,e=>e.name.toLowerCase())})}function se(){window.canvasPanel=w,document.addEventListener("scroll",e=>{let t=E.value;null!=t&&t.updateIframePosition()}),document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"s":e.preventDefault(),Z();break;case"z":e.preventDefault(),e.shiftKey?document.execCommand("redo"):document.execCommand("undo");break;case"c":e.preventDefault(),document.execCommand("copy");break;case"v":e.preventDefault(),document.execCommand("paste");break;case"x":e.preventDefault(),document.execCommand("cut");case"a":e.preventDefault(),document.execCommand("selectAll")}}),window.addEventListener("message",e=>{if("nocode-builder"!==e.data.target)return;let t=E.value;null!=t&&t.updateElementsPositions(e.data.payload)},!1),apibase&&De.appid&&(u["a"].get(apibase+"apps").then(e=>{let t=e.data.applications.find(e=>e.id.value.toString()==De.appid),a=t;null!=t&&u["a"].get(apibase+"apps/"+De.appid+"/pages").then(e=>{re(e.data.pages),a.pages=e.data.pages,le(a),setTimeout(()=>{T=e.data.pages[0];let t,a=getStoredUnsavedChanges();if(console.log("unsavedChanges on init: ",a),a)clearStoredUnsavedChanges(),t=a.beautifiedHtml,l=t,w.value.updateTemplateFile(t),console.log("updateTemplateFile 0 (unsaved changes)");else{let e=apibase+"apps/"+De.appid+"/edit?path="+encodeURIComponent(T.view);u["a"].get(e).then(e=>{t=e.data.content,l=t,console.log("updateTemplateFile 1 (normal)"),w.value.updateTemplateFile(t)}).catch(t=>{console.error("error loading template file: ",e,t)})}},3e3)}).catch(e=>{console.log("error",e)})}).catch(e=>{console.log("error",e)}),G.connect())}return window.valueIsModelField=ie,Object(n["B"])(()=>{se()}),(e,l)=>{const s=Object(n["L"])("vscode-button");return Object(n["Q"])(A)?(Object(n["E"])(),Object(n["h"])("div",Zn,[Object(n["i"])("div",Kn,[eo,Object(n["i"])("div",to,[Object(n["i"])("div",ao," v "+Object(n["O"])(Object(n["Q"])(N)),1),Object(n["i"])("div",null,[Object(n["k"])(s,{onClick:X,style:{"margin-right":"10px"}},{default:Object(n["X"])(()=>[Object(n["j"])("Refresh")]),_:1}),Object(n["k"])(s,{onClick:Z},{default:Object(n["X"])(()=>[Object(n["j"])("Save")]),_:1})])])]),Object(n["i"])("div",no,[Object(n["i"])("div",oo,[Object(n["i"])("div",lo,[Object(n["k"])(Qe,{ref_key:"canvasPanel",ref:w,onAutoSaveTriggered:te,onComponentSelected:ae,onBindingDroppedOnComponent:oe,appData:Object(n["Q"])(A)},null,8,["appData"])]),Object(n["i"])("div",io,[Object(n["k"])(I,{title:"Logs"},{default:Object(n["X"])(()=>[Object(n["k"])(vn,{ref_key:"logsPanel",ref:j,appData:Object(n["Q"])(A)},null,8,["appData"])]),_:1})])]),Object(n["k"])(Object(n["Q"])(b["b"]),{horizontal:"",class:"rightBar",onResized:f},{default:Object(n["X"])(()=>[Object(n["k"])(Object(n["Q"])(b["a"]),{id:"bindingsPanelContainer_Pane",size:Object(n["Q"])(d).bindingsPanelContainer.size,style:Object(n["v"])({minHeight:Object(n["Q"])(d).bindingsPanelContainer.expanded?"200px":"25px",maxHeight:Object(n["Q"])(d).bindingsPanelContainer.expanded?"100%":"25px"})},{default:Object(n["X"])(()=>[Object(n["i"])("div",ro,[Object(n["k"])(I,{title:"Library & Bindings",ref_key:"bindingsPanelContainer",ref:y,"onUpdate:expanded":l[1]||(l[1]=e=>h("bindingsPanelContainer",e)),style:{height:"100%"}},{default:Object(n["X"])(()=>[Object(n["k"])(M,{mode:"light",onChangeTab:i,style:{height:"100%",display:"flex","flex-direction":"column"}},{default:Object(n["X"])(()=>[Object(n["k"])(R,{title:"UI Library",active:"true",style:{}},{default:Object(n["X"])(()=>[Object(n["k"])(We,{ref_key:"libraryPanel",ref:C,onBlockCustomTriggered:Y},null,512)]),_:1}),Object(n["k"])(R,{title:"Styles"},{default:Object(n["X"])(()=>[so]),_:1}),Object(n["k"])(R,{title:"Bindings"},{default:Object(n["X"])(()=>[Object(n["k"])(q,{ref_key:"bindingsPanel",ref:x,appData:Object(n["Q"])(A),onBindingOvered:ee},null,8,["appData"])]),_:1}),Object(n["k"])(R,{title:"Code",style:{width:"100%"}},{default:Object(n["X"])(()=>[Object(n["Y"])(Object(n["i"])("div",co,uo,512),[[n["V"],!S.value]]),Object(n["Y"])(Object(n["i"])("div",bo,[Object(n["k"])(Object(n["Q"])(Xn["a"]),{ref_key:"codeEditor",ref:t,value:Object(n["Q"])(a),"onUpdate:value":l[0]||(l[0]=e=>Object(n["q"])(a)?a.value=e:a=e),options:Object(n["Q"])(o),border:"",placeholder:"test placeholder",height:200,onChange:r},null,8,["value","options"]),Object(n["k"])(s,{onClick:c},{default:Object(n["X"])(()=>[Object(n["j"])("Apply")]),_:1})],512),[[n["V"],S.value]])]),_:1})]),_:1})]),_:1},512)])]),_:1},8,["size","style"]),Object(n["k"])(Object(n["Q"])(b["a"]),{id:"propertiesPanelContainer_Pane",size:Object(n["Q"])(d).propertiesPanelContainer.size,style:Object(n["v"])({minHeight:Object(n["Q"])(d).propertiesPanelContainer.expanded?"100px":"25px",maxHeight:Object(n["Q"])(d).propertiesPanelContainer.expanded?"100%":"25px"})},{default:Object(n["X"])(()=>[Object(n["i"])("div",mo,[Object(n["k"])(I,{title:$.value,ref_key:"propertiesPanelContainer",ref:v,"onUpdate:expanded":l[2]||(l[2]=e=>h("propertiesPanelContainer",e)),style:{height:"100%"}},{default:Object(n["X"])(()=>[Object(n["k"])(Ya,{ref_key:"propertiesPanel",ref:k,appData:Object(n["Q"])(A),selectedComponent:S.value,style:{height:"100%"}},null,8,["appData","selectedComponent"])]),_:1},8,["title"])])]),_:1},8,["size","style"]),Object(n["k"])(Object(n["Q"])(b["a"]),{id:"aiHelpPanelContainer_Pane",size:Object(n["Q"])(d).aiHelpPanelContainer.size,style:Object(n["v"])({minHeight:Object(n["Q"])(d).aiHelpPanelContainer.expanded?"150px":"25px",maxHeight:Object(n["Q"])(d).aiHelpPanelContainer.expanded?"100%":"25px"})},{default:Object(n["X"])(()=>[Object(n["i"])("div",_o,[Object(n["k"])(I,{title:"Ask AI",ref_key:"aiHelpPanelContainer",ref:O,"onUpdate:expanded":l[3]||(l[3]=e=>h("aiHelpPanelContainer",e)),style:{height:"100%"}},{default:Object(n["X"])(()=>[Object(n["k"])(qn,{ref_key:"aiHelpPanel",ref:D,appData:Object(n["Q"])(A),selectedComponent:S.value,style:{height:"100%"}},null,8,["appData","selectedComponent"])]),_:1},512)])]),_:1},8,["size","style"])]),_:1})]),Object(n["k"])(Dn,{ref_key:"bindingConnectorsManager",ref:E,appData:Object(n["Q"])(A)},null,8,["appData"])])):Object(n["g"])("",!0)}}};a("2666");const fo=C()(go,[["__scopeId","data-v-56344004"]]);var ho=fo;window.uikit=l,window.provideVSCodeDesignSystem=i["a"],Object(i["a"])().register(Object(r["c"])(),Object(s["c"])(),Object(c["b"])(),Object(d["b"])(),Object(p["b"])());var yo={name:"App",components:{Main:ho}};a("7dda");const vo=C()(yo,[["render",o]]);var Oo=vo,jo=a("5502"),wo=Object(jo["a"])({state:{},mutations:{},actions:{},modules:{}}),xo=a("b05d"),Co=(a("0ca9"),a("7d6e"),a("e54f"),a("a4b7"),a("05bc"),a("0d0e"),a("573e"),{config:{},plugins:{}});window.canvasComponents={},window.currentThemeType="light",window.addCanvasComponent=function(e,t){window.canvasComponents[e]=t},window.removeCanvasComponent=function(e){delete window.canvasComponents[e]},window.setTheme=function(e){document.querySelector("body").setAttribute("style",""),"dark"===e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light"),window.currentThemeType=e,window.switchCodeEditorTheme&&window.switchCodeEditorTheme(e)},window.addEventListener("message",e=>{"removeCanvasComponent"===e.data.command?window.removeCanvasComponent(e.data.uid):"updateTheme"===e.data.command&&window.setTheme(e.data.themeType)},!1),Oe(e=>{window.blockDefinitions=e,Object(n["e"])(Oo).use(xo["a"],Co).use(wo).mount("#app")})},"5f60":function(e,t,a){"use strict";a("a409")},"62cd":function(e,t,a){"use strict";a("a98d")},"6c50":function(e,t,a){},"73bc":function(e,t,a){},"763e":function(e,t,a){},"77a2":function(e,t,a){"use strict";a("03c2")},"7dda":function(e,t,a){"use strict";a("9688")},"81ca":function(e,t,a){},8405:function(e,t,a){"use strict";a("5578")},9688:function(e,t,a){},a409:function(e,t,a){},a425:function(e,t,a){"use strict";a("4af2")},a766:function(e,t,a){"use strict";a("07f5")},a98d:function(e,t,a){},b1b6:function(e,t,a){"use strict";a("0b31")},c0b1:function(e,t,a){"use strict";a("763e")},c763:function(e,t,a){},cace:function(e,t,a){"use strict";a("1ccc")},cfff:function(e,t,a){},d6e4:function(e,t,a){function n(e){e.DomComponents.addType("plotly",{isComponent:function(e){if("PLOTLY"===e.tagName)return{type:"plotly",name:"Plotly"}},model:{defaults:{removable:!0,draggable:!0,droppable:"tempplaceholder",badgable:!0,stylable:!0,highlightable:!0,copyable:!1,resizable:!1,editable:!1,hoverable:!0,traits:[],script:function(){var e=window.parent.sharedData.externalData;let t=this.attributes.id.nodeValue;function a(t){let a={},n=Object.getOwnPropertyNames(t);return n.forEach(n=>{let o=n.replace("gb_c__",""),l=void 0!==t[n].nodeValue?t[n].nodeValue:t[n];["data","layout","config"].includes(o)&&(l=atob(l),void 0!==e[l]?a[":"+o]=e[l]:a[":"+o]=JSON.parse(l))}),a}function n(t){for(let a in t)if("object"===typeof t[a]&&null!==t[a])n(t[a]);else if("string"===typeof t[a]){const n=t[a].match(/\$_{(.+?)}/);if(n&&n[1]){const l=n[1];t[a]=o(e,l)}}}function o(e,t){const a=t.split(".");for(let n=0;n<a.length;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}this.onExternalDataChanged=t=>{e=t.detail,l=a(this.attributes),this.vueApp.updateServerData(e)},window.parent.addCanvasComponent(t,this);let l=a(this.attributes);this.vueApp=new Vue({el:"#vueinternal_"+t,data:function(){let t=l[":data"];n(t);let a=l[":layout"]||{};n(a);let o=l[":config"]||{};return n(o),{message:"TESTING_ID",attributes:l,serverData:e,parsedData:t,parsedLayout:a,parsedConfig:o}},methods:{updateServerData(e){this.serverData=e;let t=l[":data"];n(t),this.parsedData=t;let a=l[":layout"]||{};n(a),this.parsedLayout=a;let o=l[":config"]||{};n(o),this.parsedConfig=o},updateAttributes(e){this.attributes=a(e),l=this.attributes,this.updateServerData(this.serverData)}},mounted(){}})}},handleAttrChange(){},render:function(){this.view.onRender()},init(){this.listenTo(this,"change:attributes",this.onAttributeChange)},removed(){window.parent.postMessage({command:"removeCanvasComponent",uid:this.ccid},"*")}},view:{onAttributeChange(){},onRender(){const{el:e,model:t}=this;let a=e.attributes.id.nodeValue;e.grapesModel=t;const n=`<div id="vueinternal_${a}" style="position: relative;">\n                    <Plotly ref="childVueInstance" :data="parsedData" :layout="parsedLayout" :config="parsedConfig"></Plotly>\n                    <div style="position: absolute; background-color: #ff000000; top: 0px; left: 0px; width: 100%; height: 100%;"></div>\n                `;e.innerHTML=n}}})}a("b7ef"),e.exports={registerPlotlyComponent:n}},d897:function(e,t,a){"use strict";a("73bc")},da02:function(e,t,a){},f0a8:function(e,t,a){},f20f:function(e,t,a){"use strict";a("da02")}});
//# sourceMappingURL=app.a9de97d7.js.map