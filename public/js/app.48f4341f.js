(function(e){function t(t){for(var o,i,r=t[0],s=t[1],c=t[2],p=0,u=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(u.length)u.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],o=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(o=!1)}o&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},n={app:0},l=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=s;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03c2":function(e,t,a){},"04f4":function(e,t,a){},"0d99":function(e,t,a){},"1b90":function(e,t,a){"use strict";a("04f4")},3028:function(e,t,a){},"380c":function(e,t,a){"use strict";a("c763")},"3b83":function(e,t,a){"use strict";a("de78")},"3f7b":function(e,t,a){},"49e5":function(e,t,a){"use strict";a("cfff")},"4c8c":function(e,t,a){"use strict";a("858e")},"54d2":function(e,t,a){"use strict";a("3028")},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("7a23");function n(e,t,a,n,l,i){const r=Object(o["N"])("Main");return Object(o["F"])(),Object(o["g"])(r,{msg:"Genie Builder No-Code Editor"})}var l=a("69d7"),i=a("1bd4"),r=a("0a46"),s=a("1fb9"),c=a("1bbd"),d=a("08ca"),p=a("054d"),u=(a("14d9"),a("d9e2"),a("b7ef"),a("88a7"),a("271a"),a("5494"),a("cee4")),b=a("0180"),m=a("ade3");class g{constructor(){throw new Error("Configuration is a static class and cannot be instantiated")}static getExternalApiBaseUrl(e){if(!e)throw new Error("getExternalApiBaseUrl() requires a protocol argument");g.GB_SOURCE!=g.GB_SOURCE_LOCAL&&(e+="s");let t=`${e}://${g.GB_HOST}`;return g.GB_SOURCE==g.GB_SOURCE_LOCAL?t+=":":t+="/proxy/",t+=g.GB_PORT+"/",console.log(e+" - getExternalApiBaseUrl: ",t),t}static getAppBaseUrl(e,t){if(!e)throw new Error("getAppBaseUrl() requires a protocol argument");g.GB_SOURCE!=g.GB_SOURCE_LOCAL&&(e+="s");let a=`${e}://${g.GB_HOST}`;return g.GB_SOURCE==g.GB_SOURCE_LOCAL?a+=":":a+="/proxy/",a+=t+"/",console.log(e+" - getAppBaseUrl: ",a),a}static getAppAssetsBaseUrl(e,t){if(!e)throw new Error("getAppAssetsBaseUrl() requires a protocol argument");g.GB_SOURCE!=g.GB_SOURCE_LOCAL&&(e+="s");let a=`${e}://${g.GB_HOST}`;return g.GB_SOURCE==g.GB_SOURCE_LOCAL&&(a+=":",a+=t+"/"),console.log(e+" - getAppAssetsBaseUrl: ",a),a}}Object(m["a"])(g,"appid",""),Object(m["a"])(g,"appport",""),Object(m["a"])(g,"CHANNEL__",""),Object(m["a"])(g,"GB_SOURCE_LOCAL","local"),Object(m["a"])(g,"GB_SOURCE_CLOUD","cloud"),Object(m["a"])(g,"GB_SOURCE",""),Object(m["a"])(g,"GB_HOST",""),Object(m["a"])(g,"GB_PORT",""),Object(m["a"])(g,"ask_ai_url","https://aiapis.hosting.genieframework.com/api/"),Object(m["a"])(g,"TERMS_OF_USE_URL","https://genielicensing.hosting.genieframework.com/documents/terms.pdf"),Object(m["a"])(g,"IS_PRO",!1),Object(m["a"])(g,"LICENSE_TYPE","Unknown");const _=Object(b["b"])();function f(){console.log("activateInterceptors()"),u["a"].interceptors.request.use((function(e){return e.url.startsWith(g.ask_ai_url)&&delete e.headers["gb-sessionid"],e}),(function(e){return console.error("Axios interceptor REQUEST ERROR: ",e),Promise.reject(e)})),u["a"].interceptors.response.use((function(e){return e}),(function(e){return console.error("Axios interceptor RESPONSE ERROR: ",e),429!=e.response.status&&402!=e.response.status||_(e.response.message||"There was a problem with your subscription. Please try again later or contact support."),Promise.reject(e)}))}var h=a("9def"),y=(a("c1ea"),a("c46f"));const j=e=>(Object(o["I"])("data-v-6c90e336"),e=e(),Object(o["G"])(),e),v={style:{position:"relative"}},O={key:0},w=j(()=>Object(o["j"])("i",{class:"fa fa-chevron-right"},null,-1)),C=[w],x={key:1},k=j(()=>Object(o["j"])("i",{class:"fa fa-chevron-down"},null,-1)),T=[k];var S={__name:"PanelTitle",props:["title","expanded"],emits:["expand"],setup(e,{emit:t}){const a=e;let n=Object(o["K"])(a.expanded);function l(){t("expand",n.value)}return Object(o["Z"])(a,e=>{n.value=e.expanded}),(t,a)=>(Object(o["F"])(),Object(o["i"])("div",v,[Object(o["j"])("div",{class:"title",onClick:l},Object(o["Q"])(e.title),1),Object(o["j"])("div",{class:"expandBtn",onClick:l},[Object(o["T"])(n)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("span",O,C)),Object(o["T"])(n)?(Object(o["F"])(),Object(o["i"])("span",x,T)):Object(o["h"])("",!0)])]))}},D=(a("49e5"),a("6b0d")),P=a.n(D);const F=P()(S,[["__scopeId","data-v-6c90e336"]]);var A=F;const I={style:{height:"100%"}},L={class:"panelContent",style:{height:"calc(100% - 25px)",overflow:"auto"}};var E={__name:"Panel",props:["title","hideTitle"],emits:["update:expanded"],setup(e,{expose:t,emit:a}){const n=e;let l=Object(o["K"])(!0);function i(){r(!l.value)}function r(e){l.value=e,s(),a("update:expanded",e)}function s(){localStorage.setItem("panelExpandedState_"+n.title,l.value)}function c(){let e=localStorage.getItem("panelExpandedState_"+n.title);"false"===e&&(l.value=!1)}return c(),t({expanded:l,expand:r}),(t,a)=>(Object(o["F"])(),Object(o["i"])("div",I,[e.hideTitle?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["g"])(A,{key:0,expanded:Object(o["T"])(l),title:e.title,onExpand:i},null,8,["expanded","title"])),Object(o["bb"])(Object(o["j"])("div",L,[Object(o["M"])(t.$slots,"default")],512),[[o["Y"],Object(o["T"])(l)]])]))}};a("b9b0");const N=P()(E,[["__scopeId","data-v-5a3f81bc"]]);var R=N;const H={id:"tab-headers"},M=["onClick"],B={id:"active-tab",style:{"flex-grow":"1",display:"flex",height:"calc(100% - 120px)"}};var q={__name:"Tabs",props:["customClass"],emits:["changeTab"],setup(e,{emit:t}){let a=Object(o["K"])(null),n=Object(o["K"])(null),l=Object(o["K"])(null),i=Object(o["K"])(0);Object(o["C"])(()=>{l.value=[...a.value.querySelectorAll(".tab")];for(let e of l.value)e.classList.contains("active")&&(i=l.value.indexOf(e))});const r=e=>{i=e;for(let t of[...l.value,...n.value])t.classList.remove("active");l.value[i].classList.add("active"),n.value[i].classList.add("active"),t("changeTab",i)};return(t,s)=>(Object(o["F"])(),Object(o["i"])("div",{id:"tabs-container",class:Object(o["v"])(e.customClass),ref_key:"tabContainer",ref:a,style:{height:"100%",display:"flex","flex-direction":"column"}},[Object(o["j"])("div",H,[Object(o["j"])("ul",null,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(Object(o["T"])(l),(e,t)=>(Object(o["F"])(),Object(o["i"])("li",{key:t,class:Object(o["v"])(Object(o["T"])(i)==t?"active":""),onClick:e=>r(t),ref_for:!0,ref_key:"tabHeaders",ref:n},Object(o["Q"])(e.title),11,M))),128))])]),Object(o["j"])("div",B,[Object(o["M"])(t.$slots,"default")])],2))}};a("e9ee");const U=q;var z=U,V={__name:"Tab",props:["active"],setup(e){return(t,a)=>(Object(o["F"])(),Object(o["i"])("div",{class:Object(o["v"])(["tab","true"==e.active?"active":""]),ref:"tabs"},[Object(o["M"])(t.$slots,"default")],2))}};a("77a2");const $=V;var G=$;const K={style:{position:"relative"}},Q={style:{"overflow-y":"auto"}},W=["title","onMouseover","onMousedown","datatype","bindingname"],J=["datatype","bindingname","src"];var X={__name:"BindingsPanel",props:["appData"],emits:["bindingOvered"],setup(e,{expose:t,emit:a}){const n=e;let l,i,r=Object(o["K"])("type");function s(e){l=e.dragStart,i=e.dragStop}const c=Object(o["e"])(()=>{let e=[];return d.value.forEach(t=>{e.push({id:"tempplaceholder",type:"tempplaceholder",label:"Temp PlaceHolder",tagName:"TEMPPLACEHOLDER",content:`<tempplaceholder datatype="${t.type}" bindingname="${t.name}" isbinding="true"style="padding: 10px;">Binding '${t.name}' (${t.type})</tempplaceholder>`,properties:[],droppable:!1,editable:!1,draggable:!0,binding:t})}),e}),d=Object(o["e"])(()=>{let e;return n.appData.pages[0].model.fields&&("az"==r.value?e=y["a"].sortBy(n.appData.pages[0].model.fields,e=>e.name.toLowerCase()):"type"==r.value&&(e=y["a"].sortBy(n.appData.pages[0].model.fields,e=>e.type.toLowerCase()+"_"+e.name.toLowerCase()))),e}),p=function(e,t){let o=t.target;a("bindingOvered",{element:o,binding:e})},u=function(){a("bindingOvered",{element:null,binding:null})};return t({setHandleBlocks:s}),(e,t)=>(Object(o["F"])(),Object(o["i"])("div",K,[Object(o["j"])("div",Q,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(c.value,e=>(Object(o["F"])(),Object(o["i"])("div",{title:e.binding.type,isbinding:"true",onMouseover:t=>p(e.binding,t),onMouseout:u,onMousedown:t=>Object(o["T"])(l)(e),datatype:e.binding.type,bindingname:e.binding.name,class:"bindingItem",key:e.binding.name},[Object(o["j"])("img",{datatype:e.binding.type,bindingname:e.binding.name,src:"img/icons/type_"+e.binding.type+".png",class:"typeIcon"},null,8,J),Object(o["k"])(" "+Object(o["Q"])(e.binding.name),1)],40,W))),128))])]))}};a("3b83");const Y=P()(X,[["__scopeId","data-v-68f8bfa5"]]);var Z=Y,ee=a("2ef0"),te=a.n(ee);a("98c5"),a("13d5");let ae=[{id:"Area Chart",icon:"areaChart",proRequired:!1,traceTemplate:{gbtype:"Area Chart",x:["2024-01-01","2024-01-02","2024-01-03"],y:[10,15,13],type:"scatter",name:"Trace",fill:"tozeroy",mode:"none"}},{id:"Bar Chart",icon:"barChart",proRequired:!1,traceTemplate:{gbtype:"Bar Chart",x:["Category 1","Category 2","Category 3"],y:[9,10,20],type:"bar",name:"Trace"}},{id:"Box",icon:"boxChart",proRequired:!0,traceTemplate:{gbtype:"Box",y:[1,2,3,4,7,9],type:"box",name:"Trace"}},{id:"Candlestick",icon:"candlestickChart",proRequired:!0,traceTemplate:{gbtype:"Candlestick",x:["2024-01-01","2024-01-02","2024-01-03"],close:[10,12,11],high:[11,13,12],low:[9,11,10],open:[9,11,11],type:"candlestick",name:"Trace"}},{id:"Choropleth",icon:"choroplethChart",proRequired:!0,traceTemplate:{gbtype:"Choropleth",locationmode:"country names",locations:["Canada","United States","Mexico"],z:[10,20,30],type:"choropleth",name:"Trace"}},{id:"Cone",icon:"coneChart",proRequired:!0,traceTemplate:{gbtype:"Cone",x:[1,2,3],y:[1,2,3],z:[1,2,3],u:[1,0,0],v:[0,1,0],w:[0,0,1],type:"cone",name:"Trace",sizemode:"absolute"}},{id:"Contour",icon:"contourChart",proRequired:!0,traceTemplate:{gbtype:"Contour",x:[1,2,3],y:[1,2,3],z:[[10,10,10],[20,20,20],[30,30,30]],type:"contour",name:"Trace"}},{id:"Funnel",icon:"funnelChart",proRequired:!0,traceTemplate:{gbtype:"Funnel",x:[10,20,30],y:["Stage 1","Stage 2","Stage 3"],type:"funnel",name:"Trace"}},{id:"Funnel Area",icon:"funnelAreaChart",proRequired:!0,traceTemplate:{gbtype:"Funnel Area",values:[100,80,60,40,20],text:["Stage 1","Stage 2","Stage 3","Stage 4","Stage 5"],type:"funnelarea",name:"Trace"}},{id:"Heatmap",icon:"heatmapChart",proRequired:!1,traceTemplate:{gbtype:"Heatmap",x:["A","B","C"],y:["1","2","3"],z:[[1,20,30],[20,1,60],[30,60,1]],type:"heatmap",name:"Trace"}},{id:"Heatmap GL",icon:"heatmapGLChart",proRequired:!0,traceTemplate:{gbtype:"Heatmap GL",x:["A","B","C"],y:["1","2","3"],z:[[1,20,30],[20,1,60],[30,60,1]],type:"heatmapgl",name:"Trace"}},{id:"Histogram",icon:"histogramChart",proRequired:!1,traceTemplate:{gbtype:"Histogram",x:[1,2,3,2,3,2,3,7,6,8,5,8,1,1,1,9],type:"histogram",name:"Trace"}},{id:"Histogram 2D",icon:"histogram2DChart",proRequired:!0,traceTemplate:{gbtype:"Histogram 2D",x:[1,2,2,3,4],y:[6,6,7,8,8],type:"histogram2d",name:"Trace"}},{id:"Histogram 2D Contour",icon:"histogram2DContourChart",proRequired:!0,traceTemplate:{gbtype:"Histogram 2D Contour",x:[1,2,2,3,4],y:[6,6,7,8,8],type:"histogram2dcontour",name:"Trace"}},{id:"Indicator",icon:"indicatorChart",proRequired:!0,traceTemplate:{gbtype:"Indicator",mode:"number+delta",value:400,delta:{reference:350},type:"indicator",name:"Trace"}},{id:"Isosurface",icon:"isosurfaceChart",proRequired:!0,traceTemplate:{gbtype:"Isosurface",x:[0,0,0,0,1,1,1,1],y:[0,0,1,1,0,0,1,1],z:[0,1,0,1,0,1,0,1],value:[1,2,3,4,5,6,7,8],isomin:2,isomax:6,type:"isosurface",name:"Trace"}},{id:"Line Chart",icon:"lineChart",proRequired:!1,traceTemplate:{gbtype:"Line Chart",x:["2024-01-01","2024-01-02","2024-01-03"],y:[5,6,7],type:"scatter",mode:"lines",name:"Trace"}},{id:"Mash 3D",icon:"mash3DChart",proRequired:!0,traceTemplate:{gbtype:"Mash 3D",x:[0,1,2,0],y:[0,0,1,2],z:[0,2,0,1],i:[0,0,0,1],j:[1,2,3,2],k:[2,3,1,3],type:"mesh3d",name:"Trace"}},{id:"OHLC",icon:"ohlcChart",proRequired:!0,traceTemplate:{gbtype:"OHLC",x:["2024-01-01","2024-01-02","2024-01-03"],open:[100,110,120],high:[105,115,125],low:[95,105,115],close:[102,112,122],type:"ohlc",name:"Trace"}},{id:"Pie Chart",icon:"pieChart",proRequired:!1,traceTemplate:{gbtype:"Pie Chart",labels:["Slice 1","Slice 2","Slice 3"],values:[10,20,30],type:"pie",name:"Trace"}},{id:"Scatter",icon:"scatterChart",proRequired:!1,traceTemplate:{gbtype:"Scatter",x:[5,10,15],y:[10,15,5],type:"scatter",mode:"markers",name:"Trace"}},{id:"Scatter 3D",icon:"scatter3DChart",proRequired:!0,traceTemplate:{gbtype:"Scatter 3D",x:[1,2,3,4],y:[4,3,2,1],z:[1,2,3,4],mode:"markers",type:"scatter3d",name:"Trace"}},{id:"Scatter Geo",icon:"scatterGeoChart",proRequired:!0,traceTemplate:{gbtype:"Scatter Geo",lat:[40.712776,34.052235,41.878113],lon:[-74.005974,-118.243685,-87.629798],mode:"markers",type:"scattergeo",name:"Trace"}},{id:"Scatter GL",icon:"scatterGLChart",proRequired:!0,traceTemplate:{gbtype:"Scatter GL",x:[1,2,3,4],y:[10,11,12,13],mode:"markers",type:"scattergl",name:"Trace"}},{id:"Surface",icon:"surfaceChart",proRequired:!0,traceTemplate:{gbtype:"Surface",x:[1,2,3,4,5],y:[1,2,3,4,5],z:[[1,2,3,4,5],[2,4,6,8,10],[3,6,9,12,15],[4,8,12,16,20],[5,10,15,20,25]],type:"surface",name:"Trace"}},{id:"Table",icon:"tableChart",proRequired:!0,traceTemplate:{gbtype:"Table",header:{values:[["Header 1"],["Header 2"],["Header 3"]],align:"center",line:{width:1,color:"black"},fill:{color:"grey"},font:{family:"Arial",size:12,color:"white"}},cells:{values:[["Row 1","Row 2","Row 3"],["1","2","3"],["a","b","c"]],align:"center",line:{width:1,color:"black"},fill:{color:"white"},font:{family:"Arial",size:11,color:"black"}},type:"table",name:"Trace"}},{id:"Timeline",icon:"timelineChart",proRequired:!0,traceTemplate:{gbtype:"Timeline",x:["Start Date 1","Start Date 2","Start Date 3"],xend:["End Date 1","End Date 2","End Date 3"],y:["Task 1","Task 2","Task 3"],type:"scatter",mode:"lines",line:{width:4},name:"Trace"}},{id:"Violin",icon:"violinChart",proRequired:!0,traceTemplate:{gbtype:"Violin",y:[20,30,40,50,60,70,80,90,100,110],type:"violin",name:"Trace",box:{visible:!0},meanline:{visible:!0}}},{id:"Waterfall",icon:"waterfallChart",proRequired:!0,traceTemplate:{gbtype:"Waterfall",x:["Product Revenue","Services Revenue","Total Revenue","Fixed Costs","Variable Costs","Total Costs","Net Profit"],y:[60,80,0,-40,-20,0,40],type:"waterfall",name:"Trace",text:["$60","$80","","-$40","-$20","","$40"],textposition:"outside",connector:{line:{color:"rgb(63, 63, 63)"}},increasing:{marker:{color:"Green"}},decreasing:{marker:{color:"Red"}},totals:{marker:{color:"DeepSkyBlue"}}}},{id:"Scatter Mapbox",icon:"scatterMapboxChart",proRequired:!0,traceTemplate:{gbtype:"Scatter Mapbox",lat:[40.712776,34.052235],lon:[-74.005974,-118.243685],mode:"markers",type:"scattermapbox",name:"Trace"},traceLayout:{dragmode:"zoom",mapbox:{style:"open-street-map",center:{lat:38,lon:-90},zoom:3},margin:{r:0,t:0,b:0,l:0}}},{id:"Streamtube",icon:"streamtubeChart",proRequired:!0,traceTemplate:{gbtype:"Streamtube",type:"streamtube",x:[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],y:[0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2],z:[0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2],u:[1,1,1,1,1,1,1,1,1,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427],v:[1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365,1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365,1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365],w:[0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742],sizeref:.5,cmin:0,cmax:3,name:"Trace"}},{id:"Volume",icon:"volumeChart",proRequired:!0,traceTemplate:oe()}];function oe(){const e=3;let t=[],a=[],o=[],n=[];for(let r=1;r<=e;r++)for(let l=1;l<=e;l++)for(let i=1;i<=e;i++)t.push(r),a.push(l),o.push(i),n.push(0);for(let r=0;r<15;r++){const e=Math.floor(Math.random()*n.length);n[e]=1}n=n.map((t,a)=>{const o=[n[a-1]||0,n[a+1]||0,n[a-e]||0,n[a+e]||0,n[a-e*e]||0,n[a+e*e]||0],l=o.reduce((e,t)=>e+t,0);return(t+l/o.length)/2});const l=Math.max(...n);n=n.map(e=>e/l);const i={type:"volume",x:t,y:a,z:o,value:n,isomin:.1,isomax:.8,opacity:.1,surface_count:25};return i}const ne=e=>(Object(o["I"])("data-v-6ac1eb1e"),e=e(),Object(o["G"])(),e),le={class:"componentAddDialogContainer"},ie={class:"componentAddDialog"},re=ne(()=>Object(o["j"])("p",{style:{"margin-bottom":"6px","font-size":"12px","font-weight":"400",opacity:"0.7"}},"Add component for binding",-1)),se={style:{"padding-bottom":"10px","border-bottom":"1px solid #cccccc50"}},ce=["src"],de=ne(()=>Object(o["j"])("div",{style:{"font-size":"14px",padding:"20px 0px 15px"}},"Suggested Components:",-1)),pe={class:"compGroupsContainer"},ue=["onClick","title"],be={class:"compName"},me=["src"],ge={key:0,src:"img/icons/pro_badge.png",class:"proBadge",style:{}};var _e={__name:"ComponentAddDialog",props:["appData","componentPlaceHolderData"],emits:["closeDialog"],setup(e,{emit:t}){const a=e;console.log("props.componentPlaceHolderData: ",a.componentPlaceHolderData);const n=g.IS_PRO;function l(e=!0){window.showUpgradeLicenseDialog(e)}function i(e){console.log("chartTypes",ae);let t=ae.find(t=>t.id==e);return t?t.traceTemplate:(console.error("Could not find chart with id: "+e),"")}const r=function(e){let t;t=e.icon?e.icon:e.type.split("q-").join("")+".png";const a="img/block_icons/"+t;return a};function s(e,t){console.log("selectCompProp(comp, prop",e,t);let o=(new DOMParser).parseFromString(e.content,"text/html").body.childNodes[0],n=t,l=a.componentPlaceHolderData.bindingname;if("DataFrames.DataFrame"==a.componentPlaceHolderData.datatype){let t=d(a.componentPlaceHolderData.bindingname);l+="."+t,l="$_{"+l+"}";let r=i(e.label);null!=r.x&&(r.x=l),null!=r.y&&(r.y=l),null!=r.z&&(r.z=l),null!=r.labels&&(r.labels=l),null!=r.values&&(r.values=l),console.log("traceTemplate: ",r),l=`[${JSON.stringify(r)}]`,l=btoa(l),o.removeAttribute("gb_c__data"),console.log("finalBindingName",l),o.setAttribute("gb_c__"+n,l)}else"DataTable.DataFrames.DataFrame"==a.componentPlaceHolderData.datatype?(o.removeAttribute("gb_c__data"),l+=".data",o.setAttribute("gb_b__"+n,l),o.setAttribute("gb_b__columns",a.componentPlaceHolderData.bindingname+".columns")):o.setAttribute("gb_b__"+n,l);let r=o.outerHTML;editor.getSelected().replaceWith(r),c(!1)}function c(e){t("closeDialog",e)}function d(e){let t=a.appData.pages[0].model.fields.filter(t=>t.name==e);return 0==t.length?(console.error("Could not find dataframe with name: "+e),""):t[0].columns&&0!=t[0].columns.length?t[0].columns[0]:(console.error("Dataframe "+e+" has no columns"),"")}return(e,t)=>(Object(o["F"])(),Object(o["i"])("div",le,[Object(o["j"])("div",ie,[Object(o["j"])("div",{class:"closeButton",onClick:t[0]||(t[0]=e=>c(!0))},"X"),re,Object(o["j"])("div",se,[Object(o["j"])("img",{src:"img/icons/type_"+a.componentPlaceHolderData.datatype+".png",style:{height:"17px","vertical-align":"middle",display:"inline-block"}},null,8,ce),Object(o["k"])(" "+Object(o["Q"])(a.componentPlaceHolderData.bindingname),1)]),de,Object(o["j"])("div",pe,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(a.componentPlaceHolderData.components,e=>(Object(o["F"])(),Object(o["i"])("div",{class:Object(o["v"])({compGroup:!0,compGroupDisabled:e.proRequired&&!Object(o["T"])(n)}),key:e.type,onClick:t=>!e.proRequired||e.proRequired&&Object(o["T"])(n)?s(e,e.matchingProperties[0]):l(!0),title:e.proRequired&&!Object(o["T"])(n)?"Upgrade to PRO plan to use this component and many more!":e.label},[Object(o["j"])("div",be,[Object(o["j"])("div",{class:Object(o["v"])({compNameLabel:!0,compNameLabelProRequired:e.proRequired&&!Object(o["T"])(n)})},Object(o["Q"])(e.label),3),Object(o["j"])("div",{class:Object(o["v"])({compNameIconContainer:!0,compNameIconContainerProRequired:e.proRequired&&!Object(o["T"])(n)})},[Object(o["j"])("img",{src:r(e),class:Object(o["v"])({typeIcon:!0,typeIconProRequired:e.proRequired&&!Object(o["T"])(n)}),style:{filter:"var(--library-icon-filter)","max-height":"20px","margin-top":"6px","pointer-events":"none"}},null,10,me)],2),e.proRequired&&!Object(o["T"])(n)?(Object(o["F"])(),Object(o["i"])("img",ge)):Object(o["h"])("",!0)])],10,ue))),128))])])]))}};a("d0d4");const fe=P()(_e,[["__scopeId","data-v-6ac1eb1e"]]);var he=fe,ye=a("d6e4");let je,ve,Oe,we={supportedIcons:["search","search","home","account_circle","settings","done","info","check_circle","delete","visibility","shopping_cart","favorite","description","logout","favorite_border","lock","schedule","language","help_outline","face","manage_accounts","verified","filter_alt","thumb_up","event","fingerprint","dashboard","list","login","visibility_off","check_circle_outline","calendar_today","highlight_off","help","paid","task_alt","question_answer","date_range","article","open_in_new","shopping_bag","lightbulb","credit_card","perm_identity","history","trending_up","account_balance","delete_outline","fact_check","report_problem","verified_user","assignment","star_rate","arrow_right_alt","account_balance_wallet","autorenew","build","view_list","work","print","store","analytics","delete_forever","today","calendar_month","admin_panel_settings","lock_open","watch_later","grade","update","savings","room","code","receipt","add_shopping_cart","contact_support","power_settings_new","done_all","pets","explore","bookmark","account_box","note_add","reorder","bookmark_border","pending_actions","shopping_basket","payment","launch","drag_indicator","supervisor_account","touch_app","pending","zoom_in","assessment","leaderboard","thumb_up_off_alt","open_in_full","preview","done_outline","exit_to_app","assignment_ind","published_with_changes","card_giftcard","view_in_ar","feedback","work_outline","timeline","swap_horiz","assignment_turned_in","dns","stars","sync_alt","label","flight_takeoff","tips_and_updates","book","contact_page","alarm","space_dashboard","bug_report","cached","gavel","translate","pan_tool","edit_calendar","supervised_user_circle","minimize","extension","accessibility","android","rocket_launch","get_app","question_mark","record_voice_over","add_task","trending_flat","help_center","hourglass_empty","accessibility_new","rule","thumb_down","sticky_note_2","settings_applications","source","dashboard_customize","find_in_page","ads_click","support","flutter_dash","close_fullscreen","redeem","announcement","loyalty","swap_vert","arrow_circle_right","view_headline","restore","dangerous","euro_symbol","group_work","sensors","compare_arrows","subject","table_view","disabled_by_default","privacy_tip","nightlight_round","https","toc","track_changes","arrow_circle_up","bookmarks","copyright","grading","currency_exchange","input","api","perm_media","query_builder","view_module","build_circle","zoom_out","perm_contact_calendar","settings_phone","backup","open_with","circle_notifications","perm_phone_msg","book_online","speaker_notes","label_important","wysiwyg","card_membership","file_present","arrow_circle_down","pageview","3d_rotation","upgrade","integration_instructions","change_history","trending_down","swipe","class","percent","accessible","g_translate","settings_accessibility","expand","offline_bolt","settings_backup_restore","production_quantity_limits","arrow_circle_left","aspect_ratio","model_training","view_column","donut_large","segment","calendar_view_month","schedule_send","alarm_on","maximize","bookmark_add","thumbs_up_down","settings_ethernet","theaters","view_agenda","thumb_down_off_alt","important_devices","unpublished","invert_colors","opacity","commute","open_in_browser","system_update_alt","no_accounts","addchart","history_toggle_off","view_week","youtube_searched_for","tour","shopping_cart_checkout","hide_source","bookmark_added","mark_as_unread","settings_input_antenna","shop","plagiarism","turned_in","search_off","not_started","flight_land","assignment_late","assignment_return","donut_small","saved_search","filter_alt_off","contactless","highlight_alt","hotel_class","settings_input_component","balance","view_carousel","view_quilt","anchor","all_inbox","turned_in_not","mediation","settings_remote","edit_off","hourglass_full","fit_screen","flaky","rocket","toll","remove_shopping_cart","lock_clock","swap_horizontal_circle","settings_voice","view_sidebar","event_seat","online_prediction","vertical_split","next_plan","pregnant_woman","data_exploration","terminal","restore_from_trash","lock_reset","camera_enhance","markunread_mailbox","dynamic_form","tab","calendar_view_week","view_stream","accessible_forward","request_page","token","remove_done","settings_power","smart_button","add_to_drive","card_travel","outbox","try","offline_pin","calendar_view_day","find_replace","density_medium","rowing","compress","chrome_reader_mode","fax","outlet","assignment_returned","http","settings_brightness","add_card","alarm_add","generating_tokens","new_label","backup_table","spellcheck","restore_page","credit_card_off","wifi_protected_setup","play_for_work","free_cancellation","settings_overscan","work_history","123","gif","outbound","disabled_visible","swap_vertical_circle","settings_input_composite","cancel_schedule_send","quickreply","view_day","event_repeat","comment_bank","assured_workload","switch_access_shortcut","display_settings","view_timeline","line_weight","pan_tool_alt","horizontal_split","noise_control_off","webhook","satellite_alt","polymer","batch_prediction","send_and_archive","picture_in_picture","manage_history","code_off","bookmark_remove","settings_bluetooth","shop_two","output","html","flip_to_front","gif_box","eject","speaker_notes_off","alarm_off","perm_data_setting","settings_input_hdmi","perm_scan_wifi","hourglass_disabled","troubleshoot","switch_access_shortcut_add","sensors_off","settings_cell","work_off","app_blocking","picture_in_picture_alt","line_style","perm_device_information","join_full","subtitles_off","update_disabled","app_shortcut","javascript","abc","swipe_left","voice_over_off","private_connectivity","lightbulb_circle","settings_input_svideo","join_inner","flip_to_back","view_array","swipe_right","install_desktop","open_in_new_off","swipe_up","all_out","shop_2","label_off","density_small","tab_unselected","rounded_corner","data_thresholding","text_rotate_vertical","arrow_outward","commit","explore_off","install_mobile","text_rotation_none","view_kanban","not_accessible","css","swipe_down","lock_person","pin_invoke","join_left","extension_off","spatial_audio_off","perm_camera_mic","pinch","swipe_vertical","noise_aware","pin_end","view_cozy","join_right","swipe_right_alt","text_rotate_up","text_rotation_angleup","text_rotation_down","text_rotation_angledown","browse_gallery","php","view_comfy_alt","view_compact_alt","network_ping","swipe_down_alt","add_home","density_large","on_device_training","swipe_left_alt","spatial_tracking","swipe_up_alt","unfold_more_double","spatial_audio","width_full","unfold_less_double","repartition","width_normal","transcribe","width_wide","hls","hls_off","face_unlock","close","close","menu","expand_more","arrow_back","chevron_right","arrow_forward_ios","arrow_back_ios","cancel","arrow_drop_down","more_vert","arrow_forward","chevron_left","expand_less","check","more_horiz","refresh","apps","payments","arrow_upward","east","campaign","arrow_back_ios_new","arrow_downward","arrow_right","menu_open","fullscreen","arrow_drop_up","unfold_more","double_arrow","maps_home_work","west","expand_circle_down","south","arrow_left","north_east","north","home_work","first_page","fullscreen_exit","arrow_drop_down_circle","last_page","unfold_less","subdirectory_arrow_right","legend_toggle","south_east","app_settings_alt","assistant_direction","subdirectory_arrow_left","north_west","waterfall_chart","switch_left","south_west","pivot_table_chart","switch_right","apps_outage","offline_share","add_home_work","person","person","notifications","groups","people","share","school","person_outline","person_add","public","emoji_events","group","engineering","notifications_active","construction","people_alt","group_add","psychology","health_and_safety","thumb_up_alt","travel_explore","water_drop","notifications_none","emoji_emotions","sports_esports","sentiment_very_satisfied","location_city","ios_share","precision_manufacturing","sentiment_satisfied","workspace_premium","person_add_alt","military_tech","science","emoji_objects","history_edu","cake","sentiment_dissatisfied","sentiment_very_dissatisfied","handshake","emoji_people","coronavirus","self_improvement","person_remove","poll","whatshot","sports_soccer","domain","mood","recommend","people_outline","female","recycling","person_off","male","person_add_alt_1","connect_without_contact","sentiment_neutral","back_hand","hiking","waving_hand","architecture","masks","notifications_off","thumb_down_alt","luggage","real_estate_agent","front_hand","vaccines","mood_bad","emoji_nature","switch_account","nights_stay","king_bed","catching_pokemon","interests","compost","sports_basketball","notification_add","diversity_3","sports_kabaddi","sports","emoji_symbols","reduce_capacity","emoji_food_beverage","cruelty_free","man","sick","emoji_transportation","sports_tennis","cookie","heart_broken","transgender","elderly","add_moderator","outdoor_grill","deck","woman","add_reaction","social_distance","personal_injury","follow_the_signs","plus_one","fireplace","wallet","scale","clean_hands","piano","pix","surfing","sanitizer","sports_motorsports","diversity_1","sports_handball","sports_baseball","edit_notifications","hive","sports_volleyball","pages","groups_2","sports_football","downhill_skiing","kayaking","psychology_alt","public_off","single_bed","remove_moderator","group_remove","skateboarding","co2","notifications_paused","boy","person_remove_alt_1","safety_divider","diversity_2","domain_add","fitbit","sports_cricket","group_off","sports_mma","nordic_walking","sports_martial_arts","sports_golf","girl","thunderstorm","paragliding","6_ft_apart","party_mode","snowboarding","kitesurfing","sports_gymnastics","groups_3","face_6","snowshoeing","sports_hockey","ice_skating","south_america","sports_rugby","face_3","elderly_woman","sledding","scoreboard","person_2","face_2","face_4","sign_language","no_luggage","cyclone","person_4","face_5","person_3","piano_off","flood","scuba_diving","severe_cold","tsunami","roller_skating","tornado","landslide","assist_walker","woman_2","man_2","volcano","18_up_rating","blind","no_adult_content","man_4","man_3","add","add","add_circle_outline","content_copy","add_circle","send","clear","save","mail","link","remove","filter_list","inventory_2","inventory","insights","remove_circle_outline","sort","bolt","flag","reply","add_box","remove_circle","push_pin","block","calculate","create","undo","how_to_reg","content_paste","report","file_copy","backspace","shield","archive","save_alt","policy","tag","change_circle","redo","forward","content_cut","outlined_flag","inbox","link_off","ballot","drafts","biotech","report_gmailerrorred","delete_sweep","stacked_bar_chart","markunread","square_foot","add_link","stream","where_to_vote","dynamic_feed","copy_all","move_to_inbox","waves","unarchive","content_paste_search","reply_all","select_all","low_priority","text_format","save_as","font_download","weekend","how_to_vote","upcoming","gesture","attribution","flag_circle","content_paste_go","filter_list_off","next_week","content_paste_off","report_off","web_stories","deselect","font_download_off","edit","edit","navigate_next","photo_camera","image","tune","picture_as_pdf","receipt_long","circle","timer","auto_stories","collections","auto_awesome","navigate_before","add_a_photo","palette","remove_red_eye","music_note","add_photo_alternate","wb_sunny","brush","euro","flash_on","looks_one","auto_fix_high","control_point","style","adjust","straighten","photo_library","camera","portrait","camera_alt","audiotrack","video_camera_front","rotate_right","color_lens","grid_on","crop_free","timelapse","landscape","slideshow","currency_rupee","collections_bookmark","crop_square","lens","panorama_fish_eye","looks_two","filter_vintage","compare","looks_3","filter_drama","image_search","healing","auto_awesome_motion","rotate_left","center_focus_strong","crop","blur_on","wb_incandescent","flare","face_retouching_natural","wb_cloudy","assistant","broken_image","cases","colorize","filter_none","brightness_4","filter_center_focus","crop_original","auto_fix_normal","dehaze","nature_people","photo","flash_off","auto_awesome_mosaic","tag_faces","brightness_6","brightness_5","details","grain","flip_camera_android","brightness_1","flip","loupe","image_not_supported","flip_camera_ios","view_comfy","filter_1","movie_creation","add_to_photos","panorama","bedtime","animation","center_focus_weak","looks_4","movie_filter","crop_din","filter","control_point_duplicate","brightness_7","leak_add","currency_bitcoin","nature","incomplete_circle","texture","view_compact","timer_off","photo_size_select_actual","video_camera_back","transform","currency_yen","motion_photos_on","photo_camera_front","rotate_90_degrees_ccw","looks_5","mic_external_on","gradient","assistant_photo","wb_twilight","currency_pound","contrast","hide_image","music_off","exposure_plus_1","crop_16_9","thermostat_auto","filter_2","shutter_speed","exposure","photo_album","filter_tilt_shift","hdr_strong","looks","vrpano","linked_camera","brightness_3","looks_6","blur_circular","flash_auto","motion_photos_auto","crop_portrait","photo_filter","iso","brightness_2","tonality","photo_size_select_small","filter_hdr","crop_7_5","rotate_90_degrees_cw","crop_rotate","photo_size_select_large","filter_3","exposure_zero","hdr_weak","currency_ruble","camera_front","crop_5_4","filter_frames","burst_mode","camera_roll","logo_dev","filter_b_and_w","blur_linear","crop_3_2","crop_landscape","switch_camera","switch_video","filter_7","exposure_plus_2","filter_4","filter_9_plus","grid_off","wb_iridescent","motion_photos_paused","monochrome_photos","photo_camera_back","filter_5","auto_fix_off","face_retouching_off","exposure_neg_1","panorama_photosphere","filter_8","leak_remove","filter_9","video_stable","timer_10","filter_6","wb_shade","blur_off","motion_photos_off","raw_on","motion_photos_pause","hdr_on","vignette","panorama_horizontal","30fps_select","image_aspect_ratio","dirty_lens","deblur","camera_rear","60fps_select","timer_3","panorama_wide_angle_select","24mp","exposure_neg_2","currency_yuan","currency_lira","autofps_select","panorama_horizontal_select","panorama_photosphere_select","hdr_plus","wb_auto","panorama_wide_angle","panorama_vertical_select","mic_external_off","12mp","panorama_vertical","mp","hdr_enhanced_select","currency_franc","hevc","18mp","10mp","raw_off","23mp","bedtime_off","hdr_off","11mp","20mp","3mp","5mp","13mp","15mp","16mp","21mp","2mp","17mp","14mp","22mp","19mp","9mp","4mp","7mp","8mp","6mp","email","email","location_on","call","phone","business","chat","mail_outline","list_alt","qr_code_scanner","vpn_key","chat_bubble_outline","alternate_email","forum","chat_bubble","textsms","contact_mail","person_search","sentiment_satisfied_alt","qr_code","qr_code_2","message","contacts","comment","key","import_contacts","app_registration","contact_phone","import_export","live_help","forward_to_inbox","hourglass_bottom","hourglass_top","rss_feed","mark_email_read","hub","read_more","document_scanner","more_time","mark_email_unread","call_end","clear_all","dialpad","phone_enabled","mark_chat_unread","cancel_presentation","3p","call_made","screen_share","call_split","unsubscribe","present_to_all","domain_verification","mark_chat_read","add_ic_call","co_present","phonelink_ring","stay_current_portrait","call_received","phonelink_lock","phone_disabled","ring_volume","location_off","phonelink_setup","duo","cell_tower","stay_primary_portrait","swap_calls","voicemail","call_merge","mobile_screen_share","phonelink_erase","person_add_disabled","domain_disabled","call_missed_outgoing","speaker_phone","spoke","cell_wifi","desktop_access_disabled","stop_screen_share","print_disabled","call_missed","mark_unread_chat_alt","pause_presentation","dialer_sip","invert_colors_off","comments_disabled","contact_emergency","wifi_calling","rtt","portable_wifi_off","send_time_extension","mail_lock","stay_current_landscape","sip","nat","stay_primary_landscape","no_sim","key_off","vpn_key_off","local_shipping","local_shipping","place","menu_book","local_offer","badge","map","category","restaurant","directions_car","local_fire_department","volunteer_activism","my_location","flight","local_mall","near_me","handyman","directions_run","restaurant_menu","layers","medical_services","directions_walk","lunch_dining","local_hospital","celebration","local_library","pin_drop","park","local_atm","local_activity","person_pin","design_services","local_cafe","rate_review","delivery_dining","directions_bus","local_police","directions_bike","fastfood","directions_car_filled","home_repair_service","zoom_out_map","hotel","cleaning_services","local_phone","local_grocery_store","miscellaneous_services","navigation","local_gas_station","train","person_pin_circle","local_parking","local_florist","diamond","local_post_office","money","directions","two_wheeler","factory","add_business","traffic","electrical_services","local_bar","route","directions_boat","alt_route","agriculture","pedal_bike","beenhere","360","warehouse","liquor","emergency","moving","local_airport","sailing","add_location_alt","local_dining","maps_ugc","local_taxi","ramen_dining","trip_origin","hail","local_drink","local_laundry_service","directions_bus_filled","local_printshop","theater_comedy","local_pizza","not_listed_location","add_location","transfer_within_a_station","dinner_dining","bakery_dining","forest","wine_bar","terrain","multiple_stop","takeout_dining","store_mall_directory","icecream","museum","nightlife","local_pharmacy","hardware","add_road","departure_board","set_meal","ev_station","local_see","electric_car","festival","plumbing","layers_clear","car_rental","attractions","edit_location","local_convenience_store","zoom_in_map","pest_control","medical_information","dry_cleaning","run_circle","edit_road","edit_attributes","edit_location_alt","church","moped","wrong_location","car_repair","local_movies","satellite","directions_boat_filled","tram","soup_kitchen","taxi_alert","breakfast_dining","signpost","atm","subway","transit_enterexit","straight","merge","brunch_dining","hvac","electric_bike","directions_transit","crisis_alert","electric_scooter","connecting_airports","bus_alert","egg","local_car_wash","local_hotel","mode_of_travel","stadium","castle","streetview","safety_check","directions_subway","car_crash","mosque","compass_calibration","electric_rickshaw","turn_right","airline_stops","directions_railway","no_meals","fork_right","railway_alert","electric_moped","local_play","bike_scooter","no_crash","turn_left","airlines","pest_control_rodent","near_me_disabled","snowmobile","u_turn_left","directions_transit_filled","egg_alt","no_transfer","file_download","play_arrow","star","warning","support_agent","attach_money","keyboard_arrow_down","light_mode","storefront","manage_search","sensor_door"].sort(),supportedColors:["primary","secondary","accent","dark","positive","negative","info","warning"]};function Ce(){return je}function xe(e){u["a"].get("data/blockDefinitions.json").then(t=>{je=t.data,ke(),Te(),e(je)}).catch(e=>{console.error("Error loading block definitions: ",e)})}function ke(){je=je.filter(e=>e.enabled),je.forEach(e=>{let t=e.properties.findIndex(e=>"v-model"==e.name);t>-1&&e.properties.splice(t,1);let a=e.properties.findIndex(e=>"model-value"==e.name);a>-1&&(e.properties[a].name="v-model",e.properties[a].label="Data Binding"),(e.content.indexOf("v-on:click")>-1||e.content.indexOf("v-model")>-1)&&(e.content=e.content.replace('v-on:click="-"','v-on:click=""'),e.content=e.content.replace('v-model="-"','v-model=""')),e.properties.push({name:"v-if",label:"Condition (if)",type:"String",desc:'Defines a conditional which, when false, will hide the element from the document.\nYou can use JS code, i.e. "value > 10"'}),e.properties.push({name:"v-for",label:"Loop (for)",type:"String",desc:"Sets the element to iterate over a list of values, producing multiple instances.\nYou can declare iterator values pointing to the list elements and indexes, and use them in other props.\nI.e.: \n- item in list\n- (item, index) in list"});let o=e.properties;o.forEach(e=>{for(let t in e){let a=e[t];if("string"==typeof a&&0==a.indexOf("${")){let o=a.slice(2,-1),n=we[o];e[t]=n}Array.isArray(a)&&(e[t]=a[0])}})})}function Te(){je.push({type:"tempplaceholder",label:"Temp PlaceHolder",tagName:"TEMPPLACEHOLDER",content:"<tempplaceholder>TEMP Place holder</tempplaceholder>",properties:[],droppable:!1,editable:!1,draggable:!0}),ae.forEach(e=>{let t=btoa(JSON.stringify([e.traceTemplate])),a=e.traceLayout,o=a?btoa(JSON.stringify(a)):"eyJ0aXRsZSI6Ik15IENoYXJ0In0=";je.push({type:"plotly",label:e.id,tagName:"PLOTLY",category:"Charts",content:`<plotly gb_c__data="${t}" gb_c__layout="${o}" gb_c__config="e30="></plotly>`,renderContent:'<img src="img/block_icons/areaChart.png" />',icon:e.icon+".png",proRequired:e.proRequired,properties:[{label:"Data",name:"data",type:"PlotlyBase.GenericTrace"},{label:"Layout",name:"layout",type:"PlotlyBase.Layout"},{label:"Config",name:"config",type:"Object"}]})})}function Se(){null==ve&&(ve=Ce(),Oe={},ve.forEach(e=>{Oe[e.tagName]=e}))}class De{constructor(){throw new Error("HtmlTemplateParser is a static class and cannot be instantiated")}static replaceSpecialElements(e){return e.replace(/<%/g,"<JULIA_CODE>").replace(/%>/g,"</JULIA_CODE>")}static restoreSpecialElements(e){return e.replace(/<JULIA_CODE>/gi,"<% ").replace(/<\/JULIA_CODE>/gi," %>")}static encodeAttributesInDOM(e){if(!(e instanceof Node))throw new Error("Element is not a Node");De.replaceElementAttributes(e);for(let t=0;t<e.childNodes.length;t++)De.encodeAttributesInDOM(e.childNodes[t])}static parseVFor(e){const t=/^\s*\(?([^)]+)\)?\s+in\s+(\S+)\s*$/,a=e.match(t);if(a){const e=a[1].replace(/\s/g,"").split(","),t=a[2];return{variables:e,iterated:t}}return null}static replaceElementAttributes(e){Se();let t=window.sharedData.modelFieldsByName,a="gb_",o=a+"c__",n=a+"b__",l=["v-model","v-bind","v-on:click"],i=["class","style","id"],r=e.nodeName,s=Oe[r];if(!s)return;let c=s.properties,d=e.getAttributeNames(),p=[];if(d.includes("v-for")){let t=e.getAttribute("v-for");p=De.parseVFor(t).variables}d.forEach(a=>{if(i.indexOf(a)>-1)return;let r=a.startsWith(":"),s=r?a.slice(1):a,d=r||l.some(e=>0===a.indexOf(e)),u=e.getAttribute(a),b=c.find(e=>e.name===s),m=null!=t[u],g=p.includes(u);b&&(d?m||g?e.setAttribute(n+s,u):e.setAttribute(o+s,u):""==u?e.setAttribute(o+s,"true"):e.setAttribute(o+s,u),e.removeAttribute(a))})}static revertElementAttributes(e){Se();let t="gb_",a=t+"c__",o=t+"b__",n=e.nodeName,l=Oe[n];if(!l)return;let i=l.properties,r=e.getAttributeNames();r.forEach(t=>{let l=e.getAttribute(t);if(t.startsWith(a)){let o=t.replace(a,""),r=i.find(e=>e.name===o);if(!r)throw new Error("Attribute definition not found for: "+o);let s=r.type;"PLOTLY"==n&&["data","layout","config"].includes(o)||"String"==s||o.startsWith("v-on:")||(o=":"+o),e.setAttribute(o,l),e.removeAttribute(t)}else if(t.startsWith(o)){let a=t.replace(o,""),n="v-model"===a||a.startsWith("v-on:")?"":":";e.setAttribute(n+a,l),e.removeAttribute(t)}})}static decodeAttributesInDOM(e){let t=e.querySelectorAll("*");t.forEach(e=>{De.revertElementAttributes(e)})}static guessDataType(e){return"number"===typeof e||/^-?\d*\.?\d+$/.test(e)?"Number":"true"===e||"false"===e||"boolean"===typeof e?"Boolean":Array.isArray(e)||/^\[.*\]$/.test(e)?"Array":"String"}static removeInvalidNodes(e){const t=new DOMParser,a=t.parseFromString(e,"text/html"),o=e=>e.nodeType===Node.TEXT_NODE&&!/\S/.test(e.nodeValue),n=["template"],l=e=>n.includes(e.nodeName.toLowerCase()),i=e=>{const t=Array.from(e.childNodes);t.forEach(t=>{o(t)||l(e)?e.removeChild(t):i(t)})};i(a.body);const r=new XMLSerializer,s=r.serializeToString(a.body);return s.replace(/^<body>|<\/body>$/g,"")}static generateBlocksMandatoryProperties(){let e={};return ve.forEach(t=>{let a=e[t.type]={type:t.type,mandatoryProperties:[]},o=t.content,n=new DOMParser,l=n.parseFromString(o,"text/html"),i=l.body.firstChild;for(let e=0;e<i.attributes.length;e++){let t=i.attributes[e],o=t.name;o=t.name.replace("gb_b__v-on:","v-on:"),o=o.replace("gb_b__v-model","v-model"),o=o.replace("gb_b__",":"),o=o.replace("gb_c__",""),a.mandatoryProperties.push({name:o,value:t.value})}}),console.log(e),e}static addMandatoryProperties(e,t){let a=new DOMParser,o=a.parseFromString(e,"text/html"),n=o.body;function l(e){if(1==e.nodeType){let a=e.tagName.toLowerCase();if(t[a]){let o=t[a];o.mandatoryProperties.forEach(t=>{e.getAttribute(t.name)||e.getAttribute(":"+t.name)||e.setAttribute(t.name,t.value)})}e.childNodes.forEach(e=>l(e))}}return l(n),n.innerHTML}static cleanNodes(e){let t=new DOMParser,a=t.parseFromString(e,"text/html"),o=a.body;return o.innerHTML}static cleanNodes(e){if(1!=e.nodeType)return;let t=e.tagName.toLowerCase();switch(t){case"q-badge":e.innerHTML="";break;case"q-table":let t=e.getAttribute(":columns");t&&(t.startsWith("{")||t.startsWith("[")?e.removeAttribute(":columns"):t.endsWith(".columns")||e.setAttribute(":columns",t+".columns"));let a=e.getAttribute(":data"),o=e.getAttribute(":rows");a?a.startsWith("{")||a.startsWith("[")?(e.removeAttribute(":data"),isRemoved=!0):a.endsWith(".data")||e.setAttribute(":data",a+".data"):o&&(o.startsWith("{")||o.startsWith("[")||o.endsWith(".data")||e.setAttribute(":data",o+".data"),e.removeAttribute(":rows"));break;default:break}for(let a=0;a<e.attributes.length;a++){let t=e.attributes[a],o=t.name,n=t.value,l=["v-on:click","@click"];l.includes(o)&&""==n&&e.setAttribute(o,"undefined");let i=["v-model"];i.includes(o)&&""==n&&e.setAttr(o)}e.childNodes.forEach(e=>De.cleanNodes(e))}static cleanHtml(e){let t=new DOMParser;e=De.removeInvalidNodes(e);let a=t.parseFromString(e,"text/html"),o=a.body;De.cleanNodes(o);const n=new XMLSerializer;e=n.serializeToString(a.body);let l=De.generateBlocksMandatoryProperties();return e=De.addMandatoryProperties(e,l),e}}const Pe=e=>(Object(o["I"])("data-v-7d3789c5"),e=e(),Object(o["G"])(),e),Fe={style:{height:"100%"}},Ae=Pe(()=>Object(o["j"])("div",{id:"gjs",style:{height:"300px"}},null,-1)),Ie={id:"customLibrary",style:{display:"none"}},Le={class:"blocks"},Ee=["onMousedown"],Ne={class:"block-label"},Re={key:0,id:"canvasBlockerPreloader"},He=Pe(()=>Object(o["j"])("div",null,"Updating UI, please wait...",-1)),Me=Pe(()=>Object(o["j"])("div",null,[Object(o["j"])("img",{src:"img/icons/loading_58.svg",alt:"Loading",style:{position:"relative",bottom:"0",right:"0",width:"58px",height:"58px"}})],-1)),Be=[He,Me],qe={key:1,id:"canvasBlockerDialog"},Ue=Pe(()=>Object(o["j"])("div",{style:{"margin-bottom":"5px"}},"AI Code Assistant changes applied!",-1));var ze={__name:"CanvasPanel",props:["appData"],emits:["componentSelected","bindingDroppedOnComponent","saveTriggered","autoSaveTriggered"],setup(e,{expose:t,emit:a}){const n=e;window.HtmlTemplateParser=De;let l=Object(o["K"])(n.appData.pages[0].model.fields),i={};l.value.forEach(e=>{i[e.name]=e});let r=blockDefinitions.map(e=>{let t={type:e.type,label:e.label,tagName:e.tagName,id:e.type,category:e.category,content:e.content,droppable:e.droppable,draggable:e.draggable,editable:e.editable,activate:!0};return t});window.selectedComponent=null;let s=Object(o["K"])(null),c=Object(o["K"])(null),d=Object(o["K"])({}),p=Object(o["K"])(null),b=Object(o["K"])("hidden");function m(e){const t=editor.UndoManager;t.undo(),console.log("revertAiCodeChanges before :: ",t.getPointer()),editor.setComponents(window.lastHtmlBeforeAiReplace),console.log("revertAiCodeChanges AFTER :: ",t.getPointer()),b.value="hidden",a("saveTriggered")}function _(){b.value="hidden",a("saveTriggered")}function f(e){e&&(editor.getSelected().remove(),window.selectedComponent=null,editor.select(null)),s.value=null}function h(e){if(editor.select(e),"tempplaceholder"==e.attributes.tagName){var t;let o=e.view.$el[0].parentNode,n=null===(t=o.grapesModel)||void 0===t?void 0:t.attributes.type;"plotly"==n&&e.attributes.attributes.bindingname&&e.attributes.attributes.datatype?a("bindingDroppedOnComponent",{newComponentModel:e,targetModel:o.grapesModel,bindingInfo:e.attributes.attributes}):y(e.attributes.attributes.bindingname,e.attributes.attributes.datatype)}}function y(e,t){console.log("offerComponents",e,t);let a=blockDefinitions,o=[];a.forEach(e=>{let a=e.type,n=e.properties,l=n.filter(e=>{let a=e.type==t,o="v-model"==e.name;return a&&o}).map(e=>e.name);l.length>0&&l.includes("v-model")&&o.push({type:a,label:e.label,content:e.content,matchingProperties:l,proRequired:e.proRequired}),("DataFrames.DataFrame"==t&&"plotly"==a||"DataTable.DataFrames.DataFrame"==t&&"q-table"==a)&&o.push({type:a,label:e.label,content:e.content,icon:e.icon,matchingProperties:["data"],proRequired:e.proRequired})}),s.value={components:o,bindingname:e,datatype:t}}window.sharedData={externalData:null,setExternalData:function(e){for(let a in e)this.externalData[a]=e[a];const t=new CustomEvent("sharedDataChanged",{detail:this.externalData});for(let a in window.canvasComponents){let e=window.canvasComponents[a];null!=e&&e.onExternalDataChanged(t)}}},window.sharedData.externalData={initialProperty:"initialValue"},window.sharedData.getComponentDefinitionByType=w,window.sharedData.modelFieldsByName=i;let j,v,O=g.getAppBaseUrl("ws",g.appport);function w(e){let t=blockDefinitions,a=t.find(t=>t.type.toLowerCase()==e.toLowerCase());return a}function C(e,t){d.value[e]=t,window.sharedData.setExternalData(d.value)}function x(e,t={}){let a=JSON.stringify({channel:g.CHANNEL__,message:e,payload:t});j.send(a)}function k(){let e=JSON.stringify({channel:"autoreload",message:"subscribe",payload:{}});j.send(e)}function T(){return j=new WebSocket(O),j.addEventListener("open",e=>{x("subscribe"),k()}),j.addEventListener("message",e=>{if("Subscription: OK"!=e.data){if(0==e.data.indexOf("{")){let t=JSON.parse(e.data);null!=t.key&&C(t.key,t.value)}}else x("watchers",{payload:{field:"isready",newval:!0,oldval:!1}})}),j.addEventListener("close",e=>{console.log("newSocketConnection::close",e)}),j.addEventListener("error",e=>{console.log("newSocketConnection::error",e)}),j}function S(e,t){var a=document.createElement("script");a.src=e,a.onload=()=>t(e),a.onerror=()=>console.error("Error loading script: "+e),document.head.appendChild(a)}function D(){let e=n.appData.pages[0].deps.scripts,t=g.getAppAssetsBaseUrl("http",n.appData.port);"/"==t[t.length-1]&&(t=t.substring(0,t.length-1));let a=["assets/js/vue.js","assets/js/channels.js","assets/js/stipplecore.js","assets/js/watchers.js"],o=[];e.forEach(e=>{let n=t+e;e.endsWith("_reactivemodel.js")?o.push(n):a.forEach(t=>{e.indexOf(t)>-1&&o.push(n)})}),window.autorun=!1;let l=0;o.forEach(e=>{S(e,(function(){l++,l===o.length&&(console.log("All scripts loaded successfully!"),initStipple("#Main_App_varMain_App_ReactiveModel"),window.sharedData.setExternalData(window.GENIEMODEL._data),T(),P())}))})}function P(){let e=n.appData.pages[0].deps.scripts,t=g.getAppAssetsBaseUrl("http",n.appData.port);"/"==t[t.length-1]&&(t=t.substring(0,t.length-1));let o=["assets/js/channels.js","assets/js/watchers.js","assets/js/keepalive.js","assets/js/syncplot.js","assets/js/autoreload.js","assets/js/main_app_varmain_app_reactivemodel.js"],l=[];e.forEach(e=>{let a=!1;if(o.forEach(t=>{e.indexOf(t)>-1&&(a=!0)}),!a){let a=t+e;l.push(a)}});let s=[];s.push("https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons"),n.appData.pages[0].deps.styles.forEach(e=>{let a=t+e;s.push(a)});let d=n.appData.pages[0].assets;if(d&&d.includes("public/css/theme.css")){let e=g.getAppBaseUrl("http",g.appport);s.push(e+"css/theme.css")}n.appData.pages[0].assets.forEach(e=>{if(e.endsWith(".css"));else if(e.endsWith(".js")){let a=t+e.split("public/").join("/");l.push(a)}}),l.push("data/contentMain.js"),console.log("parsedSCripts",l),s.push("data/grapesCanvas.css");const p=window.editor=grapesjs.init({container:"#gjs",fromElement:!0,storageManager:!1,canvas:{scripts:l,styles:s},i18n:{locale:"en",detectLocale:!1,messages:{en:{domComponents:{names:{div:"Div"}}}}},layerManager:{root:"#gbTemplateContainer",appendTo:"#layersContainer",sortable:!0,hidable:!0},blockManager:{custom:!0,blocks:r},styleManager:{appendTo:"#myStyleEditorContainerSections",sectors:[{name:"General",properties:[{extend:"float",type:"radio",default:"none",options:[{value:"none",className:"fa fa-times"},{value:"left",className:"fa fa-align-left"},{value:"right",className:"fa fa-align-right"}]},"display",{extend:"position",type:"select"},"top","right","left","bottom"]},{name:"Dimension",open:!1,properties:["width",{id:"flex-width",type:"integer",name:"Width",units:["px","%"],property:"flex-basis",toRequire:1},"height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height",{extend:"text-align",options:[{id:"left",label:"Left",className:"fa fa-align-left"},{id:"center",label:"Center",className:"fa fa-align-center"},{id:"right",label:"Right",className:"fa fa-align-right"},{id:"justify",label:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",default:"none",options:[{id:"none",label:"None",className:"fa fa-times"},{id:"underline",label:"underline",className:"fa fa-underline"},{id:"line-through",label:"Line-through",className:"fa fa-strikethrough"}]},"text-shadow"]},{name:"Decorations",open:!1,properties:["opacity","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]},{name:"Flex",open:!1,properties:[{name:"Flex Container",property:"display",type:"select",defaults:"block",list:[{value:"block",name:"Disable"},{value:"flex",name:"Enable"}]},{name:"Flex Parent",property:"label-parent-flex",type:"integer"},{name:"Direction",property:"flex-direction",type:"radio",defaults:"row",list:[{value:"row",name:"Row",className:"icons-flex icon-dir-row",title:"Row"},{value:"row-reverse",name:"Row reverse",className:"icons-flex icon-dir-row-rev",title:"Row reverse"},{value:"column",name:"Column",title:"Column",className:"icons-flex icon-dir-col"},{value:"column-reverse",name:"Column reverse",title:"Column reverse",className:"icons-flex icon-dir-col-rev"}]},{name:"Justify",property:"justify-content",type:"radio",defaults:"flex-start",list:[{value:"flex-start",className:"icons-flex icon-just-start",title:"Start"},{value:"flex-end",title:"End",className:"icons-flex icon-just-end"},{value:"space-between",title:"Space between",className:"icons-flex icon-just-sp-bet"},{value:"space-around",title:"Space around",className:"icons-flex icon-just-sp-ar"},{value:"center",title:"Center",className:"icons-flex icon-just-sp-cent"}]},{name:"Align",property:"align-items",type:"radio",defaults:"center",list:[{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]},{name:"Flex Children",property:"label-parent-flex",type:"integer"},{name:"Order",property:"order",type:"integer",defaults:0,min:0},{name:"Flex",property:"flex",type:"composite",properties:[{name:"Grow",property:"flex-grow",type:"integer",defaults:0,min:0},{name:"Shrink",property:"flex-shrink",type:"integer",defaults:0,min:0},{name:"Basis",property:"flex-basis",type:"integer",units:["px","%",""],unit:"",defaults:"auto"}]},{name:"Align",property:"align-self",type:"radio",defaults:"auto",list:[{value:"auto",name:"Auto"},{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]}]}]},selectorManager:{appendTo:"#myStyleEditorContainerClasses",componentFirst:!0},plugins:["grapesjs-plugin-ckeditor"],pluginsOpts:{"grapesjs-plugin-ckeditor":{options:{toolbar:[{name:"undo",items:["Undo","Redo"]},{name:"styles",items:["Font","FontSize"]},["Bold","Italic","Underline","Strike"],{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]}]}}}}),{Panels:b}=p;b.getButton("views","open-blocks").set("active",!1);let m=!1;p.runCommand("sw-visibility"),p.on("rte:enable",()=>{setTimeout(()=>{p.trigger("frame:scroll"),console.log("rte:enable")},1e3)}),p.on("component:add",e=>{"true"==e.attributes.attributes.iscomposite?(m=!0,setTimeout(()=>{m=!1,h(e),a("componentSelected",e),_()},200)):m||(h(e),_())}),p.on("component:remove",e=>{"true"==e.attributes.attributes.iscomposite?(m=!0,setTimeout(()=>{m=!1,a("componentSelected",null),_()},200)):m||(a("componentSelected",null),_())}),p.on("component:selected",e=>{m||a("componentSelected",e)}),p.on("component:update",e=>{_()}),p.on("component:styleUpdate",e=>{_()}),p.on("property:compAdd:",e=>{_()}),p.on("property:compRemove:",e=>{_()}),p.on("property:compUpdate:",e=>{_()});let _=te.a.debounce((function(){console.log(">>>>>>>>>> component:autoSave"),a("autoSaveTriggered")}),1e3);p.on("canvas:dragdata",(e,t,a)=>{if(e){let a=e.getData("text");a=JSON.parse(a),"binding"==a.objectType&&(t.content=`<tempplaceholder style="padding:10px;" bindingname="${a.bindingname}" datatype="${a.datatype}">{{ ${a.bindingname} }}</tempplaceholder>`)}else t.content=t.content.content}),p.DomComponents.addType("julia_code",{model:{defaults:{tagName:"julia_code",editable:!0,droppable:!1}},view:{events:{dblclick:"onActive",focusout:"onDisable"},onActive(){this.el.contentEditable=!0},onDisable(){const{el:e,model:t}=this;e.contentEditable=!1,t.set("content",e.innerHTML)}}}),Object(ye["registerPlotlyComponent"])(p),p.DomComponents.addType("row-div",{isComponent:e=>"DIV"===e.tagName&&e.classList.contains("row"),model:{defaults:{tagName:"div",classes:["row"],droppable:function(e){return!e.view.$el[0].classList.contains("row")}}},view:{}}),blockDefinitions.forEach(e=>{const a=["plotly","tempplaceholder"];a.includes(e.type)||p.DomComponents.addType(e.type,{isComponent:t=>{if(t.tagName==e.tagName)return{type:e.type,name:e.label}},model:{defaults:{draggable:e.draggable,droppable:e.droppable,editable:e.editable,isComposite:e.isComposite,script:function(){var e=window.parent.sharedData.externalData;let t=this.attributes.id.nodeValue;function a(e){let t={},a=Object.getOwnPropertyNames(e);return a.forEach(a=>{let o=(e[a],e[a]);t[a]=o}),t}window.parent.addCanvasComponent(t,this),this.onExternalDataChanged=t=>{e=t.detail,r=a(this.attributes),this.vueApp.updateServerData(e)};let o=this.grapesModel.attributes.tagName,n=(this.grapesModel.attributes.attributes,window.parent.sharedData.getComponentDefinitionByType),l=window.parent.sharedData.modelFieldsByName,i=n(o),r=a(this.grapesModel.attributes.attributes);Vue.config.warnHandler=(e,a,o)=>{let n=document.getElementById(t);n.innerHTML=`<div class="componentError"><b style="font-size: 1.2em;">${i.label}</b><br/>${e}</div>`},Stipple.init({theme:"stipple-blue"}),this.vueApp=new Vue({el:"#vueinternal_"+t,data:function(){return{message:"TESTING_ID",attributes:r,serverData:e}},computed:{parsedAttributes(){let e={},t=this.attributes;console.log("parsedAttributes",t);for(let a in t){let o=":"==a[0]?a.substring(1):a,n=i.properties.find(e=>e.name==o),r=t[a],s=null!=l[r];"v-model"!=o?n?s?e[":"+o]=this.serverData[r]:"String"==n.type?e[""+o]=r:e[":"+o]=r:e[""+o]=r:e["v-model"]=this.serverData[r]}return e}},methods:{updateServerData(e){this.serverData=e},updateAttributes(e){this.attributes=a(e),r=this.attributes,this.updateServerData(this.serverData),this.$forceUpdate()}},mounted(){}})}},init(){this.listenTo(this,"change:attributes",this.onAttributeChange)},handleAttrChange(){},render:function(){this.view.onRender()},removed(){window.parent.postMessage({command:"removeCanvasComponent",uid:this.ccid},"*")}},view:{onAttributeChange(){},onRender(){console.log("onRender 22");const{el:e,model:a}=this;let o=e.attributes.id.nodeValue;e.grapesModel=a;let n=e.grapesModel.attributes.tagName,l=e.grapesModel.attributes.attributes,r=w(n),s=`<div id="vueinternal_${o}" style="position: relative;">\n            <${n} `;for(let c in l){let e=c;0!=e.indexOf("gb_c__")&&0!=e.indexOf("gb_b__")||(e=e.substring(6));let a=r.properties.find(t=>t.name==e),o=l[c],n=null!=i[o];if(!n&&o.indexOf(".")>-1){let e=o.split("."),t=e[0],a=i[t];a&&"DataTable.DataFrames.DataFrame"==a.type&&a.props&&a.props.includes(e[1])&&(n=!0)}"v-model"!=e?a?n?s+=`:${e}="serverData.${o}" `:("q-img"!=r.type||"src"!=e||"String"!=a.type||o.startsWith("http")||(o=o.startsWith("/")?t+o:t+"/"+o),"v-if"==e||"v-for"==e||("String"==a.type||0==e.indexOf("v-on")?s+=`${e}="${o}" `:s+=`:${e}="${o}" `)):s+=`${e}="${o}" `:s+=""==o?'v-model="serverData.none" ':`v-model="serverData.${o}" `}s+=`></${n}>\n            </div>\n          `,e.innerHTML=s}}})});let f=n.appData.pages[0].assets,y=f.find(e=>e.indexOf("autogenerated.css")>-1);if(y){let e=window.apibase+"apps/"+g.appid+"/edit?path="+encodeURIComponent(y);u["a"].get(e).then(e=>{p.setComponents(c.value),p.setStyle(e.data.content)}).catch(e=>{console.log("error loading autogenerated styles",e)})}else p.setComponents(c.value)}function F(e){console.log("showAiCodePreview",e),b.value=e}function A(e){if("canvasBlocker"!=e.target.id)return;console.log("addShakeEffect",e);const t=document.getElementById("canvasBlockerDialog");t.classList.add("shake-effect"),t.addEventListener("animationend",()=>{t.classList.remove("shake-effect")},{once:!0})}function I(e){d.value=e}function L(e){e=De.removeInvalidNodes(e),e=De.replaceSpecialElements(e);let t=`\n    <div class="container layoutMockRoot" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n      <div class="row layoutMockRow" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n        <div class="col-12 layoutMockCol" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n          <div id="gbTemplateContainer" class="container" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-type="default">\n            ${e}\n          </div>\n        </div>\n      </div>\n    </div>`;const a=new DOMParser,o=a.parseFromString(t,"text/html"),n=o.body;De.encodeAttributesInDOM(n);const l=n.innerHTML;c.value=l,D()}return Object(o["C"])(()=>{}),t({updateReactiveModel:I,updateTemplateFile:L,showAiCodePreview:F}),(e,t)=>{const a=Object(o["N"])("vscode-button");return Object(o["F"])(),Object(o["i"])("div",Fe,[Ae,Object(o["T"])(s)?(Object(o["F"])(),Object(o["g"])(he,{key:0,onCloseDialog:f,appData:n.appData,componentPlaceHolderData:Object(o["T"])(s)},null,8,["appData","componentPlaceHolderData"])):Object(o["h"])("",!0),Object(o["j"])("div",Ie,[Object(o["k"])(" Custom Blocks "),Object(o["j"])("div",Le,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(Object(o["T"])(r),e=>(Object(o["F"])(),Object(o["i"])("div",{class:"block",key:e.id,onMousedown:t=>Object(o["T"])(v)(e)},[Object(o["j"])("div",Ne,Object(o["Q"])(e.label),1)],40,Ee))),128))])]),"hidden"!=Object(o["T"])(b)?(Object(o["F"])(),Object(o["i"])("div",{key:1,id:"canvasBlocker",ref_key:"canvasBlocker",ref:p,onClick:A},["loading"==Object(o["T"])(b)?(Object(o["F"])(),Object(o["i"])("div",Re,Be)):Object(o["h"])("",!0),"ready"==Object(o["T"])(b)?(Object(o["F"])(),Object(o["i"])("div",qe,[Ue,Object(o["l"])(a,{onClick:m,style:{width:"100px !important","margin-right":"10px","background-color":"#aaa"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Revert")]),_:1}),Object(o["l"])(a,{onClick:_,style:{width:"100px !important"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Keep")]),_:1})])):Object(o["h"])("",!0)],512)):Object(o["h"])("",!0)])}}},Ve=(a("54d2"),a("1b90"),a("eaac")),$e=a("068f"),Ge=a("93dc"),Ke=a.n(Ge);const Qe=P()(ze,[["__scopeId","data-v-7d3789c5"]]);var We=Qe;Ke()(ze,"components",{QTable:Ve["a"],QImg:$e["a"]});const Je=e=>(Object(o["I"])("data-v-cb439804"),e=e(),Object(o["G"])(),e),Xe={style:{"max-height":"100%","overflow-y":"auto","margin-top":"10px","user-select":"none","flex-grow":"1"}},Ye={style:{display:"flex","flex-wrap":"wrap",gap:"5px","flex-direction":"column"}},Ze={style:{"font-weight":"bold","margin-bottom":"5px","text-transform":"capitalize","margin-top":"10px"}},et={class:"uiItemContainer"},tt=["blocktype","onMousedown","title"],at=["src"],ot={key:0,src:"img/icons/pro_badge.png",class:"proBadge",style:{}},nt=Je(()=>Object(o["j"])("div",{class:"disabledProPanel"},null,-1));var lt={__name:"LibraryPanel",emits:["blockCustomTriggered"],setup(e,{emit:t}){const a=g.IS_PRO;function n(e=!0){window.showUpgradeLicenseDialog(e)}const l=["tempplaceholder","partial"];let i=blockDefinitions.filter(e=>-1===l.indexOf(e.type));i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"1-Col Row",properties:[],tagName:"DIV",type:"1column",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div></div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"2-Col Row",properties:[],tagName:"DIV",type:"2columns",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n</div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"3-Col Row",properties:[],tagName:"DIV",type:"3columns",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n</div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Column",properties:[],tagName:"DIV",type:"1column",content:'<div class="st-col col-12 col-sm st-module"></div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebar Left",properties:[],tagName:"DIV",type:"sidebar_left",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-3 col-sm st-module"></div>\n<div class="st-col col-9 st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebar Right",properties:[],tagName:"DIV",type:"sidebar_right",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-9 st-module"></div>\n<div class="st-col col-3 col-sm st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebars",properties:[],tagName:"DIV",type:"sidebars",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-3 col-sm st-module"></div>\n<div class="st-col col-5 st-module"></div>\n<div class="st-col col-3 col-sm st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),i.push({label:"Header",tagName:"header",type:"header",description:"",category:"Layout",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<header ><h1>Page header</h1></header>"}),i.push({label:"Footer",tagName:"footer",type:"footer",description:"",category:"Layout",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:'<footer class="st-module">Page footer</footer>'}),i.push({label:"H1",tagName:"H1",type:"h1",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H1>Header Content</H1>"}),i.push({label:"H2",tagName:"H2",type:"h2",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H2>Header Content</H2>"}),i.push({label:"H3",tagName:"H3",type:"h3",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H3>Header Content</H3>"}),i.push({label:"H4",tagName:"H4",type:"h4",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H4>Header Content</H4>"}),i.push({label:"H5",tagName:"H5",type:"h5",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H5>Header Content</H5>"}),i.push({label:"H6",tagName:"H6",type:"h6",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<H6>Header Content</H6>"}),i.push({label:"Paragraph",tagName:"P",type:"paragraph",description:"",category:"Text",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<p>Paragraph Content</p>"});let r,s,c,d=["Layout","Text","Content","Forms","Widgets","Lists","Tables","Charts","Multimedia","Timeline","Other"],p=Object(o["K"])(null),u=Object(o["K"])(""),b=blockDefinitions.map(e=>{let t={type:e.type,label:e.label,tagName:e.tagName,id:e.type,category:e.category,content:e.content,droppable:e.droppable,draggable:e.draggable,editable:e.editable,activate:!0};return t});function m(e){b=e.blocks,r=e.dragStart,s=e.dragStop,t("blockCustomTriggered",e)}function _(e){void 0!=e&&(u.value=e.target.value);let t=[],a={};return h.value.forEach(e=>{if(1==e.hideFromLibrary)return;let o=e.category||"other";a[o]||(a[o]={category:o,blocks:[]},t.push(a[o])),a[o].blocks.push(e)}),t.sort((e,t)=>{let a=d.indexOf(e.category),o=d.indexOf(t.category);return a>o?1:a<o?-1:0}),t.forEach(e=>{e.blocks.sort((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)}),p.value=t,f(),console.log("categories",t),t}function f(){let e="Block Categories:\n--------------------\n";p.value.forEach(t=>{e+=t.category+"\n",t.blocks.forEach(t=>{e+="  "+t.label+"\n"})}),console.log(e)}Object(o["C"])(()=>{c=setInterval(()=>{if(window.editor){clearInterval(c),window.editor.on("block:custom",m);const{Panels:e}=window.editor;e.getButton("views","open-blocks").set("active",!0),console.log("[debug] LibraryPanel :: onMounted :: window.editor Ready: ",window.editor)}else console.log("[debug] LibraryPanel :: onMounted :: window.editor NOT ready")},1e3)});const h=Object(o["e"])(()=>{if(!u.value)return i;let e=i.filter(e=>e.label.toLowerCase().indexOf(u.value.toLowerCase())>-1);return e});_();const y=function(e){let t;t=e.icon?e.icon:e.type.split("q-").join("")+".png";const a="img/block_icons/"+t;return a};return(e,t)=>{const l=Object(o["N"])("vscode-text-field");return Object(o["F"])(),Object(o["i"])(o["a"],null,[Object(o["j"])("div",null,[Object(o["l"])(l,{value:Object(o["T"])(u),onInput:t[0]||(t[0]=e=>_(e)),placeholder:"Search UI Components",style:{padding:"5px 10px",width:"90%"}},null,8,["value"])]),Object(o["j"])("div",Xe,[Object(o["j"])("div",Ye,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(Object(o["T"])(p),e=>(Object(o["F"])(),Object(o["i"])("div",{key:e.category,style:{display:"flex","flex-direction":"column",width:"100%"}},[Object(o["j"])("div",Ze,Object(o["Q"])(e.category),1),Object(o["j"])("div",et,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(e.blocks,e=>(Object(o["F"])(),Object(o["i"])("div",{key:e.id,blocktype:e.type,class:Object(o["v"])({uiItem:!0,uiItemProDisabled:e.proRequired&&!Object(o["T"])(a)}),onMousedown:t=>!e.proRequired||e.proRequired&&Object(o["T"])(a)?Object(o["T"])(r)(e):n(!0),title:e.proRequired&&!Object(o["T"])(a)?"Upgrade to PRO plan to use this component and many more!":e.label},[Object(o["j"])("div",{class:Object(o["v"])({uiItemLabel:!0,uiItemLabelProRequired:e.proRequired&&!Object(o["T"])(a)})},Object(o["Q"])(e.label),3),Object(o["j"])("div",{class:Object(o["v"])({uiItemIcon:!0,uiItemIconProRequired:e.proRequired&&!Object(o["T"])(a)})},[Object(o["j"])("img",{src:y(e),class:"libraryIcon",style:{}},null,8,at)],2),e.proRequired&&!Object(o["T"])(a)?(Object(o["F"])(),Object(o["i"])("img",ot)):Object(o["h"])("",!0)],42,tt))),128)),nt])]))),128))])])],64)}}};a("b4fc");const it=P()(lt,[["__scopeId","data-v-cb439804"]]);var rt=it;const st=e=>(Object(o["I"])("data-v-ac17f3aa"),e=e(),Object(o["G"])(),e),ct={class:"blocker"},dt={class:"addPropsPanel"},pt=st(()=>Object(o["j"])("div",{style:{"text-align":"center","font-size":"0.8em","font-weight":"bold","margin-bottom":"10px"}},"Add Property",-1)),ut={class:"addPropsList"},bt=["onClick","title"],mt={style:{width:"70%"}},gt={style:{"text-transform":"capitalize",width:"30%","font-size":"0.8em",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex","justify-content":"right","align-items":"center",opacity:"0.6"}};var _t={__name:"AddPropertyDialog",props:["propslist","defObject","destination"],emits:["propAdded","close"],setup(e,{emit:t}){const a=e;function n(e){t("propAdded",e,a.defObject,a.destination)}function l(){return y["a"].sortBy(a.propslist,e=>e.label.toLowerCase())}function i(){t("close")}return(e,t)=>(Object(o["F"])(),Object(o["i"])("div",ct,[Object(o["j"])("div",dt,[pt,Object(o["j"])("div",{class:"closeAddProp",onClick:i},"X"),Object(o["j"])("div",ut,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(l(),e=>(Object(o["F"])(),Object(o["i"])("div",{class:"addPropRow",onClick:t=>n(e),title:e.desc||"Property description not available"},[Object(o["j"])("div",mt,Object(o["Q"])(e.label),1),Object(o["j"])("div",gt,Object(o["Q"])(e.type),1)],8,bt))),256))])])]))}};a("380c");const ft=P()(_t,[["__scopeId","data-v-ac17f3aa"]]);var ht=ft;const yt=e=>(Object(o["I"])("data-v-47e6bdfc"),e=e(),Object(o["G"])(),e),jt={key:0,class:"foldableGroupHeader"},vt={class:"groupHeaderContent"},Ot=["src"],wt=yt(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),Ct=[wt],xt={class:"col-1 removeBtnCnt",style:{width:"20px",position:"absolute"}},kt=["onClick"],Tt=yt(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),St=[Tt],Dt=["title"],Pt={key:0,class:"col-7"},Ft=["onUpdate:modelValue","attrname"],At=["value"],It={key:1,class:"col-7"},Lt={key:0,class:"chartTypeContainer",style:{position:"relative"}},Et=["attrname"],Nt=["value"],Rt={key:2,class:"col-7"},Ht=["value","onInput"],Mt={key:3,class:"col-7"},Bt=["onUpdate:modelValue","attrname"],qt=["value"],Ut={key:4,class:"col-7",style:{"align-items":"center",position:"relative",display:"flex"}},zt=["onUpdate:modelValue"],Vt=["type","onUpdate:modelValue"],$t=["onClick"],Gt={key:0,src:"img/icons/binding_on.png",style:{height:"16px"},draggable:"false"},Kt={key:1,src:"img/icons/binding_off.png",style:{height:"16px"},draggable:"false"};var Qt={__name:"ChartPropertiesSection",props:["dataSourceColumns","treeObject","propertiesDefinition","appData","modelFields","sectionIndex","showSectionTitle"],emits:["change"],setup(e,{emit:t}){const a=e;let n=o["K"][null];function l(e,t){try{const a=JSON.parse(t);Array.isArray(a)?e.valueHolderParent[e.propName]=a:console.error("Input is not an array.")}catch(a){console.error("Failed to parse input as JSON:",a)}}console.log("ChartSection.modelFields: ",a.modelFields);const i=Object(o["e"])(()=>{let e=ae.find(e=>e.id==n);return console.log("chartTypeDeffffff",e),e?e.icon:(console.error("Could not find chart type definition for: "+n),"scatterChart")});function r(){let e=a.sectionIndex;t("removeTrace",e)}function s(e){let t=e.id;console.log("removeTraceProperty before: ",e,a.treeObject),c(a.treeObject,t),console.log("removeTraceProperty after: ",e,a.treeObject),b()}function c(e,t){const a=t.split(".");function o(e,t){const n=a[t];if(t===a.length-1)return delete e[n],0===Object.keys(e).length;if(void 0!==e[n]){const a=o(e[n],t+1);if(a)return delete e[n],0===Object.keys(e).length}return!1}o(e,0)}function d(e){console.log("toggleDynamicAttribute",e);let t,a=e.valueHolderParent[e.propName];0==a.indexOf("$_{")?(t=a.replace("$_{",""),t=t.substring(0,t.length-1)):t="$_{"+a+"}",e.valueHolderParent[e.propName]=t,b()}function p(e){console.log("isPropValueBinding",e.propName,e);let t=e.valueHolderParent[e.propName];return"string"==typeof t&&0==t.indexOf("$_{")}function u(e){console.log("changeChartType",n,a.treeObject),console.log("chartTypes",ae);let t=ae.find(e=>e.id==n);console.log("chartTypeDef",t);let o={};for(let n in a.treeObject)o[n]=a.treeObject[n];for(let n in a.treeObject)delete a.treeObject[n];for(let n in t.traceTemplate)void 0!=o[n]&&"type"!=n&&"gbtype"!=n?a.treeObject[n]=o[n]:a.treeObject[n]=t.traceTemplate[n];console.log("props.treeObject FINAL:",a.treeObject),a.treeObject.gbtype=n,b()}function b(){t("change",a.treeObject)}function m(e,t){const a=t.split(".");if(1==a.length)return e;for(let o=0;o<a.length-1;o++){if(!e||!e.hasOwnProperty(a[o]))return;e=e[a[o]]}return e}function g(e,t){const a=t.split(".");for(let o=0;o<a.length;o++){if(!e||!e.hasOwnProperty(a[o]))return;e=e[a[o]]}return e}const _=Object(o["e"])(()=>{let e=[];for(let t=0;t<a.propertiesDefinition.length;t++){let o={...a.propertiesDefinition[t]},n=g(a.treeObject,o.id);void 0!==n&&(o.valueHolderParent=m(a.treeObject,o.id),o.propName=o.id.split(".").pop(),e.push(o))}return console.log("definitionsListWithValues",e),e});return(t,a)=>{const c=Object(o["N"])("vscode-text-field");return Object(o["F"])(),Object(o["i"])(o["a"],null,[e.showSectionTitle?(Object(o["F"])(),Object(o["i"])("div",jt,[Object(o["j"])("div",vt,[Object(o["j"])("img",{src:"img/block_icons/"+i.value+".png",class:"chartTypeIcon",style:{opacity:1}},null,8,Ot),Object(o["k"])(" "+Object(o["Q"])(e.treeObject.name),1)]),Object(o["j"])("div",{class:"removeBtnCnt",style:{width:"20px"}},[Object(o["j"])("span",{onClick:r,title:"Remove Trace",class:"codicon codicon-settings"},Ct)])])):Object(o["h"])("",!0),(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(_.value,t=>(Object(o["F"])(),Object(o["i"])("div",{class:"row propRow",style:{position:"relative"},key:t.id},[Object(o["j"])("div",xt,[Object(o["j"])("span",{onClick:e=>s(t),title:"Remove Property",class:"codicon codicon-settings"},St,8,kt)]),Object(o["j"])("div",{class:"col-4 propRowLabel",style:{},title:t.label},Object(o["Q"])(t.label)+": ",9,Dt),p(t)?(Object(o["F"])(),Object(o["i"])("div",Pt,[Object(o["bb"])(Object(o["j"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b,attrname:t.propertyName},[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(e.modelFields,e=>(Object(o["F"])(),Object(o["i"])("option",{key:"binding_"+e.name,value:"$_{"+e.name+"}"},Object(o["Q"])(e.name),9,At))),128))],40,Ft),[[o["W"],t.valueHolderParent[t.propName]]])])):"type"==t.id?(Object(o["F"])(),Object(o["i"])("div",It,["type"==t.id?(Object(o["F"])(),Object(o["i"])("div",Lt,[Object(o["bb"])(Object(o["j"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},onChange:u,"onUpdate:modelValue":a[0]||(a[0]=e=>Object(o["r"])(n)?n.value=e:n=e),attrname:t.propertyName},[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(Object(o["T"])(ae),e=>(Object(o["F"])(),Object(o["i"])("option",{key:"chartType_"+e.id,value:e.id},Object(o["Q"])(e.id),9,Nt))),128))],40,Et),[[o["W"],Object(o["T"])(n)]])])):Object(o["h"])("",!0)])):"array"==t.type?(Object(o["F"])(),Object(o["i"])("div",Rt,[Object(o["j"])("textarea",{name:"",id:"",rows:"3",value:JSON.stringify(t.valueHolderParent[t.propName]),onInput:e=>l(t,e.target.value),onChange:b},null,40,Ht)])):"enum"==t.type?(Object(o["F"])(),Object(o["i"])("div",Mt,[Object(o["bb"])(Object(o["j"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b,attrname:t.propertyName},[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(t.options,e=>(Object(o["F"])(),Object(o["i"])("option",{key:"field_"+e,value:e},Object(o["Q"])(e),9,qt))),128))],40,Bt),[[o["W"],t.valueHolderParent[t.propName]]])])):(Object(o["F"])(),Object(o["i"])("div",Ut,["boolean"==t.type?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:0,type:"checkbox",name:"",id:"","onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b},null,40,zt)),[[o["U"],t.valueHolderParent[t.propName]]]):Object(o["h"])("",!0),"color"==t.type?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:1,type:t.type,"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b,style:{height:"23px",width:"23px","margin-right":"5px","background-color":"#ffffff00"}},null,40,Vt)),[[o["V"],t.valueHolderParent[t.propName]]]):Object(o["h"])("",!0),"color"==t.type?(Object(o["F"])(),Object(o["g"])(c,{key:2,type:"text",name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:b,style:{width:"80px"}},null,8,["value","onInput"])):Object(o["h"])("",!0),"string"==t.type||"number"==t.type?(Object(o["F"])(),Object(o["g"])(c,{key:3,type:t.type,name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:b},null,8,["type","value","onInput"])):Object(o["h"])("",!0)])),"type"!=t.propName&&"name"!=t.propName?(Object(o["F"])(),Object(o["i"])("div",{key:5,class:"propRowDynamicSwitch",onClick:e=>d(t)},[p(t)?(Object(o["F"])(),Object(o["i"])("img",Gt)):Object(o["h"])("",!0),p(t)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("img",Kt))],8,$t)):Object(o["h"])("",!0)]))),128))],64)}}},Wt=(a("4c8c"),a("0016"));const Jt=P()(Qt,[["__scopeId","data-v-47e6bdfc"]]);var Xt=Jt;Ke()(Qt,"components",{QIcon:Wt["a"]});const Yt={key:0,class:"chartConfigContainer"},Zt={class:"tabSelector"},ea=["onClick"],ta={key:0,class:"tabSectionContainer"},aa={class:"tracesContainer"},oa={class:"foldableGroupContent"},na={class:"subgroup"},la={class:"subgroupContent"},ia={class:"addPropertyButtonRow"},ra=["onClick"],sa={style:{"border-top":"solid 1px var(--badge-background)",padding:"20px","text-align":"center"}},ca={key:1,class:"tabSectionContainer"},da={class:"subgroup"},pa={class:"subgroupContent"},ua={class:"addPropertyButtonRow"},ba={key:2,class:"tabSectionContainer"},ma={class:"subgroup"},ga={class:"subgroupContent"},_a={class:"addPropertyButtonRow"};var fa={__name:"ChartProperties",props:["appData","selectedComponent"],setup(e,{expose:t}){const a=e;let n=Object(o["K"])(0),l=Object(o["K"])([{name:"Data",id:0},{name:"Layout",id:1},{name:"Config",id:2}]),i=Object(o["K"])(null),r=(Object(o["K"])(!1),Object(o["K"])(null)),s=Object(o["K"])([]),c=Object(o["K"])([]),d=Object(o["K"])([]),p=Object(o["K"])(a.appData.pages[0].model.fields),u={};p.value.forEach(e=>{u[e.name]=e});let b=Object(o["K"])([{id:"name",label:"Name",type:"string",default:""},{id:"type",label:"Type",type:"enum",default:"scatter",options:["scatter","bar","histogram","pie","box","histogram2d","histogram2dcontour","parcats","heatmap","heatmapgl","contour","funnel","funnelarea","indicator","isosurface","mesh3d","ohlc","candlestick","scatter3d","scattergeo","scattergl","surface","table","timeline","violin","waterfall"]},{id:"mode",label:"Mode",type:"enum",default:"markers",options:["markers","lines","lines+markers","none","gauge","number","gauge+number","text"]},{id:"x",label:"X",type:"array",default:[0,1,2,3,4,5]},{id:"y",label:"Y",type:"array",default:[2,4,8,16,32]},{id:"z",label:"Z",type:"array",default:[3,5,7,9,11]},{id:"u",label:"U",type:"array",default:[]},{id:"v",label:"V",type:"array",default:[]},{id:"w",label:"W",type:"array",default:[]},{id:"i",label:"I",type:"array",default:[]},{id:"j",label:"J",type:"array",default:[]},{id:"k",label:"K",type:"array",default:[]},{id:"open",label:"Open",type:"array",default:[]},{id:"high",label:"High",type:"array",default:[]},{id:"low",label:"Low",type:"array",default:[]},{id:"close",label:"Close",type:"array",default:[]},{id:"dimensions",label:"Dimensions",type:"array",default:[]},{id:"counts",label:"Counts",type:"array",default:[]},{id:"values",label:"Values",type:"array",default:[1,3,5]},{id:"labels",label:"Labels",type:"array",default:["a","b","c"]},{id:"fill",label:"Fill",type:"enum",default:"tozeroy",options:["tozeroy","tonexty","toself","tonext"]},{id:"orientation",label:"Orientation",type:"enum",default:"v",options:["v","h"]},{id:"marker.size",label:"Marker Size",type:"number",default:5},{id:"marker.color",label:"Marker Color",type:"color",default:"#2578B4"},{id:"locationmode",label:"Locationmode",type:"string",default:"country names"},{id:"locations",label:"Locations",type:"array",default:[]},{id:"text",label:"Text",type:"array",default:[]},{id:"value",label:"Value",type:"number",default:0},{id:"delta.reference",label:"Delta Reference",type:"number",default:0},{id:"title.text",label:"Title Text",type:"string",default:"Title"},{id:"gauge.axis.range",label:"Gauge Axis Range",type:"array",default:[0,1]},{id:"error_y.type",label:"ErrorY Type",type:"string",default:"data"},{id:"error_y.array",label:"ErrorY Array",type:"array",default:[1,2,3,4,5]},{id:"error_y.visible",label:"ErrorY Visible",type:"boolean",default:!0},{id:"sizemode",label:"SizeMode",type:"string",default:"diameter"},{id:"sizeref",label:"SizeRef",type:"number",default:2},{id:"autobinx",label:"AutoBinX",type:"boolean",default:!0},{id:"nbinsx",label:"NBinsX",type:"number",default:10},{id:"autobiny",label:"AutoBinY",type:"boolean",default:!0},{id:"nbinsy",label:"NBinsY",type:"number",default:10},{id:"hoverinfo",label:"HoverInfo",type:"string",default:"all"},{id:"hovertemplate",label:"HoverTemplate",type:"string",default:""},{id:"boxpoints",label:"BoxPoints",type:"string",default:"all"},{id:"notched",label:"Notched",type:"boolean",default:!1},{id:"whiskerwidth",label:"WhiskerWidth",type:"number",default:.5},{id:"fillcolor",label:"FillColor",type:"color",default:"#888"},{id:"line.color",label:"Line Color",type:"color",default:"#888"},{id:"line.width",label:"Line Width",type:"number",default:2},{id:"line.shape",label:"Line Shape",type:"string",default:"linear"},{id:"line.smoothing",label:"Line Smoothing",type:"number",default:1.3},{id:"colorscale",label:"ColorScale",type:"string",default:"Viridis"},{id:"showscale",label:"ShowScale",type:"boolean",default:!0},{id:"reversescale",label:"ReverseScale",type:"boolean",default:!1},{id:"contours.coloring",label:"Contours Coloring",type:"string",default:"fill"},{id:"contours.start",label:"Contours Start",type:"number",default:0},{id:"contours.end",label:"Contours End",type:"number",default:10},{id:"contours.size",label:"Contours Size",type:"number",default:1},{id:"opacity",label:"Opacity",type:"number",default:.8},{id:"cmin",label:"Cmin",type:"number",default:0},{id:"cmax",label:"Cmax",type:"number",default:10},{id:"colorbar.title",label:"ColorBar Title",type:"string",default:"ColorBar"},{id:"colorbar.tickvals",label:"ColorBar TickVals",type:"array",default:[]},{id:"colorbar.ticktext",label:"ColorBar TickText",type:"array",default:[]},{id:"autocolorscale",label:"AutoColorScale",type:"boolean",default:!0},{id:"showlegend",label:"ShowLegend",type:"boolean",default:!0},{id:"legendgroup",label:"LegendGroup",type:"string",default:""},{id:"lat",label:"Lat",type:"array",default:[38]},{id:"lon",label:"Lon",type:"array",default:[-90]}]),m=Object(o["K"])([{id:"autosizable",label:"Autosizable",type:"boolean",default:!1},{id:"displaylogo",label:"Display Logo",type:"boolean",default:!0},{id:"scrollZoom",label:"Scroll Zoom",type:"boolean",default:!0},{id:"editable",label:"Editable",type:"boolean",default:!0},{id:"displayModeBar",label:"Mode Bar",type:"boolean",default:!0}]),_=Object(o["K"])([{id:"title",label:"Title",type:"string",default:"Hello Def"},{id:"showlegend",label:"Show Legend",type:"boolean",default:!0},{id:"legend.x",label:"Legend X",type:"number",default:1},{id:"legend.y",label:"Legend Y",type:"number",default:1},{id:"legend.xanchor",label:"Legend X-Anchor",type:"enum",default:"right",options:["left","right"]},{id:"legend.yanchor",label:"Legend Y-Anchor",type:"enum",default:"right",options:["left","right"]},{id:"legend.orientation",label:"Legend Orientation",type:"enum",default:"v",options:["v","h"]},{id:"paper_bgcolor",label:"Paper",type:"color",default:"#ffffff"},{id:"plot_bgcolor",label:"Background",type:"color",default:"#ffffff"},{id:"font.color",label:"Font Color",type:"color",default:"#000000"},{id:"font.size",label:"Font Size",type:"number",default:10},{id:"xaxis.title.text",label:"X-Axis Title Text",type:"string",default:"Axis Title"},{id:"xaxis.title.font.size",label:"X-Axis Title Font Size",type:"number",default:24},{id:"xaxis.title.font.color",label:"X-Axis Title Font Color",type:"color",default:"#000000"},{id:"yaxis.title.text",label:"Y-Axis Title Text",type:"string",default:"Axis Title"},{id:"yaxis.title.font.size",label:"Y-Axis Title Font Size",type:"number",default:24},{id:"yaxis.title.font.color",label:"Y-Axis Title Font Color",type:"color",default:"#000000"},{id:"dragmode",label:"Dragmode",type:"enum",default:"zoom",options:["zoom"]},{id:"mapbox.style",label:"Mabox Style",type:"enum",default:"open-street-map",options:["open-street-map"]},{id:"mapbox.center.lat",label:"Mapbox Center Lat",type:"number",default:38},{id:"mapbox.center.lon",label:"Mapbox Center Lon",type:"number",default:-90},{id:"mapbox.zoom",label:"Mapbox Zoom",type:"number",default:3},{id:"margin.l",label:"Margin L",type:"number",default:0},{id:"margin.t",label:"Margin T",type:"number",default:0},{id:"margin.r",label:"Margin R",type:"number",default:0},{id:"margin.b",label:"Margin B",type:"number",default:0},{id:"width",label:"Width",type:"number",default:500},{id:"height",label:"Height",type:"number",default:500},{id:"xaxis.showgrid",label:"Show X grid",type:"boolean",default:!0},{id:"yaxis.showgrid",label:"Show Y grid",type:"boolean",default:!0},{id:"xaxis.range",label:"X range",type:"array",default:[0,1500]},{id:"xaxis.visible",label:"X visible",type:"boolean",default:!1}]);Object(o["e"])(()=>g.IS_PRO);function f(){let e=a.appData.pages[0].model.fields.filter(e=>"DataFrames.DataFrame"==e.type||"PlotlyData"==e.type||"DataTable.DataFrames.DataFrame"==e.type);i.value=e}const h=Object(o["e"])(()=>{let e=a.appData.pages[0].model.fields,t=[];return e.forEach(e=>{if("DataTable.DataFrames.DataFrame"==e.type){let a=e.props;a&&a.forEach(a=>{t.push({name:e.name+"."+a,type:e.type})})}else if("DataFrames.DataFrame"==e.type){let a=e.columns;a&&a.forEach(a=>{t.push({name:e.name+"."+a,type:e.type})})}t.push({name:e.name,type:e.type})}),t.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),t}),y=Object(o["e"])(()=>{let e=[];return console.log("dataSourceFields",i),i.value.forEach(t=>{if(0==t.type.indexOf("DataFrames.DataFrame")){let a=t.columns;a&&a.forEach(a=>{e.push(t.name+"."+a)})}let a=t.props;a&&a.forEach(a=>{e.push(t.name+"."+a)})}),a.appData.pages[0].model.fields.forEach(t=>{"Array"==t.type&&e.push(t.name)}),e});function j(e,t){let a=e.filter(e=>{let a=!1,o=S(t,e.id);return null!=o&&(a=!0),!a});return a}Object(o["e"])(()=>{let e=m.value.filter(e=>{let t=!1,a=S(r.value,e.id);return null!=a&&(t=!0),!t});return e});function v(e){P()}function O(e){P()}function w(e){P()}function C(e){console.log("removeTrace",e),console.log("traces.value before: ",s.value),s.value.splice(e,1),console.log("traces.value after: ",s.value),P()}function x(e){r.value=e}function k(){r.value=null}function T(e,t,a){let o=e.id,n=t.find(e=>e.id==o);D(a,o,n.default),P()}function S(e,t){const a=t.split(".");for(let o=0;o<a.length;o++){if(!e||!e.hasOwnProperty(a[o]))return;e=e[a[o]]}return e}function D(e,t,a){const o=t.split(".");for(let n=0;n<o.length-1;n++)e.hasOwnProperty(o[n])&&"object"===typeof e[o[n]]||(e[o[n]]={}),e=e[o[n]];e[o[o.length-1]]=a}function P(){let e=btoa(JSON.stringify(s.value)),t=btoa(JSON.stringify(c.value)),o=btoa(JSON.stringify(d.value));a.selectedComponent.setAttributes({gb_c__data:e,gb_c__config:t,gb_c__layout:o}),a.selectedComponent.view.$el[0].vueApp.updateAttributes({data:e,config:t,layout:o})}function F(e){if(console.log("ChartProperties::setSelectedComponent: ",e),!e||"plotly"!=e.attributes.type)return s.value=null,c.value=null,void(d.value=null);let t=e.getAttributes();t.gb_c__data&&(t.gb_c__data=atob(t.gb_c__data)),t.gb_c__config&&(t.gb_c__config=atob(t.gb_c__config)),t.gb_c__layout&&(t.gb_c__layout=atob(t.gb_c__layout));let a=t.gb_c__data||"[]";a=JSON.parse(a),s.value=a;let o=t.gb_c__config||"{}";o=JSON.parse(o),c.value=o;let n=t.gb_c__layout||"{}";n=JSON.parse(n),d.value=n}function A(){s.value.push({x:"",y:"",type:"scatter",name:"Trace"})}function I(e,t){s.value.push({x:e,y:t,type:"scatter",name:"Trace"}),P()}return Object(o["y"])(()=>{F(a.selectedComponent),f()}),t({setSelectedComponent:F,addNewTraceFromBinding:I}),(t,a)=>{const i=Object(o["N"])("vscode-button");return e.selectedComponent&&"plotly"==e.selectedComponent.attributes.type?(Object(o["F"])(),Object(o["i"])("div",Yt,[Object(o["j"])("div",Zt,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(Object(o["T"])(l),e=>(Object(o["F"])(),Object(o["i"])("div",{onClick:t=>Object(o["r"])(n)?n.value=e.id:n=e.id,class:Object(o["v"])({tabItem:!0,tabItemSelected:e.id==Object(o["T"])(n)}),key:e},Object(o["Q"])(e.name),11,ea))),128))]),0==Object(o["T"])(n)?(Object(o["F"])(),Object(o["i"])("div",ta,[Object(o["j"])("div",aa,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(Object(o["T"])(s),(e,t)=>(Object(o["F"])(),Object(o["i"])("div",{class:"foldableGroup",key:e},[Object(o["j"])("div",oa,[Object(o["j"])("div",na,[Object(o["j"])("div",la,[Object(o["l"])(Xt,{showSectionTitle:!0,sectionIndex:t,treeObject:e,dataSourceColumns:y.value,propertiesDefinition:Object(o["T"])(b),modelFields:h.value,onRemoveTrace:C,onChange:w},null,8,["sectionIndex","treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(o["j"])("div",ia,[Object(o["T"])(r)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("button",{key:0,class:"addPropertyButton",onClick:t=>x(e)},"+",8,ra))]),Object(o["T"])(r)==e?(Object(o["F"])(),Object(o["g"])(ht,{key:0,defObject:Object(o["T"])(b),destination:Object(o["T"])(r),propslist:j(Object(o["T"])(b),e),onPropAdded:T,onClose:k},null,8,["defObject","destination","propslist"])):Object(o["h"])("",!0)])]))),128))]),Object(o["j"])("div",sa,[Object(o["l"])(i,{class:"addTraceButton",onClick:A},{default:Object(o["ab"])(()=>[Object(o["k"])("+ Trace")]),_:1})])])):Object(o["h"])("",!0),1==Object(o["T"])(n)?(Object(o["F"])(),Object(o["i"])("div",ca,[Object(o["j"])("div",da,[Object(o["j"])("div",pa,[Object(o["l"])(Xt,{treeObject:Object(o["T"])(d),dataSourceColumns:y.value,propertiesDefinition:Object(o["T"])(_),modelFields:h.value,onChange:v},null,8,["treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(o["j"])("div",ua,[Object(o["T"])(r)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("button",{key:0,class:"addPropertyButton",onClick:a[0]||(a[0]=e=>x(Object(o["T"])(d)))},"+"))]),Object(o["T"])(r)==Object(o["T"])(d)?(Object(o["F"])(),Object(o["g"])(ht,{key:0,defObject:Object(o["T"])(_),destination:Object(o["T"])(d),propslist:j(Object(o["T"])(_),Object(o["T"])(d)),onPropAdded:T,onClose:k},null,8,["defObject","destination","propslist"])):Object(o["h"])("",!0)])):Object(o["h"])("",!0),2==Object(o["T"])(n)?(Object(o["F"])(),Object(o["i"])("div",ba,[Object(o["j"])("div",ma,[Object(o["j"])("div",ga,[Object(o["l"])(Xt,{treeObject:Object(o["T"])(c),dataSourceColumns:y.value,propertiesDefinition:Object(o["T"])(m),modelFields:h.value,onChange:O},null,8,["treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(o["j"])("div",_a,[Object(o["T"])(r)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("button",{key:0,class:"addPropertyButton",onClick:a[1]||(a[1]=e=>x(Object(o["T"])(c)))},"+"))]),Object(o["T"])(r)==Object(o["T"])(c)?(Object(o["F"])(),Object(o["g"])(ht,{key:0,defObject:Object(o["T"])(m),destination:Object(o["T"])(c),propslist:j(Object(o["T"])(m),Object(o["T"])(c)),onPropAdded:T,onClose:k},null,8,["defObject","destination","propslist"])):Object(o["h"])("",!0)])):Object(o["h"])("",!0)])):Object(o["h"])("",!0)}}};a("6baf");const ha=P()(fa,[["__scopeId","data-v-0dd66c5d"]]);var ya=ha;const ja=e=>(Object(o["I"])("data-v-0f102274"),e=e(),Object(o["G"])(),e),va={key:0,class:"nothingSelected"},Oa=ja(()=>Object(o["j"])("i",null,"Nothing selected",-1)),wa=[Oa],Ca={key:1,class:"notProUI"},xa=ja(()=>Object(o["j"])("br",null,null,-1)),ka=ja(()=>Object(o["j"])("br",null,null,-1)),Ta=ja(()=>Object(o["j"])("br",null,null,-1)),Sa={key:2},Da={style:{"user-select":"none"}},Pa={class:"removeBtnCnt",style:{width:"20px"}},Fa=["onClick"],Aa=ja(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),Ia=[Aa],La=["title"],Ea={key:0,class:"propRowControl"},Na={slot:"selected-value",class:"codicon codicon-settings"},Ra={"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px",padding:"5px"}},Ha={"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px"}},Ma={slot:"selected-value"},Ba=["attrname","onDrop","onUpdate:modelValue"],qa=["attrname","onDrop","onUpdate:modelValue"],Ua=["attrname","onDrop","onUpdate:modelValue"],za=["attrname","onDrop","onUpdate:modelValue"],Va=["attrname","onDrop","onUpdate:modelValue"],$a=["attrname","onDrop","onUpdate:modelValue"],Ga={key:1,class:"propRowControl"},Ka=["onUpdate:modelValue","onDrop","attrname"],Qa=["value"],Wa=["onClick"],Ja={key:0,src:"img/icons/binding_on.png",style:{height:"16px"},draggable:"false"},Xa={key:1,src:"img/icons/binding_off.png",style:{height:"16px"},draggable:"false"},Ya={key:3,class:"propRowDynamicSwitch",draggable:"false"},Za={key:0,class:"suggestedPropertiesContainer",style:{margin:"20px 0px 0px 0px"}},eo=ja(()=>Object(o["j"])("div",{class:"suggestedPropertiesTitle",style:{opacity:"0.7","margin-bottom":"10px","font-weight":"bold","font-size":"0.9em"}},"Suggested Properties:",-1)),to={class:"propRowLabel",style:{opacity:"0.5","font-weight":"bold","text-align":"left:"}},ao={class:"propRowControl",style:{opacity:"0.5","text-align":"left","font-size":"0.8em","user-select":"none"}},oo=["onClick"],no=ja(()=>Object(o["j"])("i",{class:"fa fa-plus"},null,-1)),lo=[no],io=ja(()=>Object(o["j"])("br",null,null,-1)),ro={key:1,style:{"font-size":"0.8em"}},so=ja(()=>Object(o["j"])("i",null,"Nothing selected",-1)),co=[so];var po={__name:"PropertiesPanel",props:["title","appData","selectedComponent","parentPanel"],setup(e,{expose:t}){const a=e;function n(){window.showUpgradeLicenseDialog(!1)}function l(e){if(g.IS_PRO)return!0;let t=e.attributes.type,a=C(t),o=null===a||void 0===a?void 0:a.proRequired;return!o}const i=Object(o["K"])(null);let r=Object(o["K"])(null),s=Object(o["K"])(!1),c=Object(o["K"])(a.appData.pages[0].model.fields),d={};c.value.forEach(e=>{d[e.name]=e});const p=blockDefinitions.reduce((e,t)=>(e[t.type]=t,e),{});function u(e){try{return 0==e.indexOf("gb_c__")||0==e.indexOf("gb_b__")?e.substring(6):e}catch(t){console.error("Error in getAttributeCleanRealName: ",e,t)}}function b(e){r.value.removeAttributes([e.name]),k()}function m(){let e=C(r.value.attributes.type);if(!e)return[];let t=f().map(e=>e.cleanName),a=e.properties.filter(e=>1==e.suggested),o=a.filter(e=>-1==t.indexOf(e.name));return o}function _(e,t){let a=[];if(t&&t.attributes.attributes["gb_c__v-for"]){let e=De.parseVFor(t.attributes.attributes["gb_c__v-for"]);if(e){let t=e.variables;t.forEach(e=>{a.push({name:e,label:e+"**"})})}}return c.value.forEach(t=>{if("Any"==e.def.type||t.type==e.def.type)a.push(t);else if("DataTable.DataFrames.DataFrame"==t.type){let e=t.props;e&&e.forEach(e=>{a.push({name:t.name+"."+e})})}}),a}function f(){const e=r.value.attributes.attributes;let t=[],o={};for(let a in e)if(a.startsWith("gb_c__")||a.startsWith("gb_b__")){let n=u(a).toLowerCase();if("id"!=n&&"charttype"!=n&&"class"!=n){let l=h(n);l||console.error("Definition not found for: ",a,n,e[a]),t.push({name:a,cleanName:n,value:e[a],def:l}),o[a]=e[a]}}return a.selectedComponent.view.el.vueApp&&a.selectedComponent.view.el.vueApp.updateAttributes(o),t=te.a.sortBy(t,"cleanName"),t}function h(e){let t=C(r.value.attributes.type);if(!t)return null;let a=t.properties.find(t=>t.name==e);return a}function y(e){let t=0==e.indexOf("gb_b_");return t}function j(e){let t=JSON.parse(e.dataTransfer.getData("text")),a=e.target.getAttribute("attrname");if(0==a.indexOf("gb_c__"))T(a,t.bindingname);else{let e={};e[a]=t.bindingname,r.value.addAttributes(e)}}function v(){s.value=!0}function O(){s.value=!1}function w(e){console.log("PropertiesPanel::addProperty",e);let t={Boolean:!0,String:"",Number:0,Array:[],Function:""},a={},o="gb_c__"+e.name,n=null!=t[e.type]?t[e.type]:"";a[o]=n,r.value.addAttributes(a),k()}function C(e){let t=p[e];return t}const x=Object(o["e"])(()=>{let e=C(r.value.attributes.type);if(!e)return[];let t=e.properties,a=r.value.getAttributes(),o=[];for(let l in a){let e=u(l);o.push(e)}let n=[];return t.forEach(e=>{let t=u(e.name);-1==o.indexOf(t)&&n.push(e)}),n});function k(){let e=r.value.attributes.attributes;for(let a in e)!0===e[a]&&(e[a]="true"),!1===e[a]&&(e[a]="false");let t=selectedComponent.toHTML();editor.getSelected().replaceWith(t);let o={},n=Object.getOwnPropertyNames(e);n.forEach(t=>{let a;a=void 0!=e[t]&&void 0!=e[t].nodeValue?e[t].nodeValue:e[t],o[t]=a}),a.selectedComponent.setAttributes(o);let l=a.selectedComponent.view.$el[0].vueApp;l.updateAttributes(o)}function T(e,t){let a=0==e.indexOf("gb_b__")?e.replace("gb_b__","gb_c__"):e.replace("gb_c__","gb_b__");r.value.removeAttributes([e]);let o={};if(0==a.indexOf("gb_b__"))if(null!=d[t])o[a]=t;else{let e=u(a).toLowerCase(),t=h(e),n={def:t},l=_(n);l.length>0?o[a]=l[0].name:o[a]="Not Set"}else o[a]=t;r.value.addAttributes(o),k()}function S(e){console.log("PropertiesPanel::setSelectedComponent: ",e,a.parentPanel),a.parentPanel&&(e?a.parentPanel.expand(!0):a.parentPanel.expand(!1)),r.value=e,e&&"plotly"==e.attributes.type&&i.value.setSelectedComponent(e)}return Object(o["C"])(()=>{S(window.selectedComponent)}),t({setSelectedComponent:S,chartPropertiesPanel:i}),(t,a)=>{const c=Object(o["N"])("vscode-button"),d=Object(o["N"])("vscode-option"),p=Object(o["N"])("vscode-dropdown"),u=Object(o["N"])("q-icon");return Object(o["F"])(),Object(o["i"])(o["a"],null,[Object(o["T"])(r)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("div",va,wa)),Object(o["T"])(r)&&!l(Object(o["T"])(r))?(Object(o["F"])(),Object(o["i"])("div",Ca,[Object(o["k"])(" This component requires a Pro license."),xa,Object(o["k"])(" Upgrade to Pro and start using it now!"),ka,Object(o["k"])(),Ta,Object(o["l"])(c,{onClick:n,style:{"margin-right":"3px"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Upgrade")]),_:1})])):Object(o["h"])("",!0),Object(o["T"])(r)&&l(Object(o["T"])(r))&&"tempplaceholder"!=Object(o["T"])(r).attributes.type&&"plotly"!=Object(o["T"])(r).attributes.type?(Object(o["F"])(),Object(o["i"])("div",Sa,[Object(o["j"])("div",Da,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(f(),e=>{var t;return Object(o["F"])(),Object(o["i"])("div",{key:e.name,class:"propRow"},[Object(o["j"])("div",Pa,[1!=(null===(t=e.def)||void 0===t?void 0:t.mandatory)&&"gb_b__v-model"!=e.name?(Object(o["F"])(),Object(o["i"])("span",{key:0,onClick:t=>b(e),title:"Remove Property",class:"codicon codicon-settings"},Ia,8,Fa)):Object(o["h"])("",!0)]),Object(o["j"])("div",{class:"propRowLabel",title:e.def.name+": "+e.def.desc},Object(o["Q"])(e.def.label)+": ",9,La),y(e.name)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("div",Ea,["enum_icons"==e.def.uitype?(Object(o["F"])(),Object(o["g"])(p,{key:0,style:{width:"100%","min-width":"unset"},value:Object(o["T"])(r).attributes.attributes[e.name],onInput:t=>Object(o["T"])(r).attributes.attributes[e.name]=t.target.value,onChange:k},{default:Object(o["ab"])(()=>[Object(o["j"])("span",Na,[Object(o["j"])("i",Ra,Object(o["Q"])(Object(o["T"])(r).attributes.attributes[e.name]),1),Object(o["k"])(" "+Object(o["Q"])(Object(o["T"])(r).attributes.attributes[e.name]),1)]),(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(e.def.options,e=>(Object(o["F"])(),Object(o["g"])(d,{value:e,style:{padding:"5px"}},{default:Object(o["ab"])(()=>[Object(o["j"])("i",Ha,Object(o["Q"])(e),1),Object(o["k"])(" "+Object(o["Q"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"enum_colors"==e.def.uitype?(Object(o["F"])(),Object(o["g"])(p,{key:1,style:{width:"100%","min-width":"unset"},value:Object(o["T"])(r).attributes.attributes[e.name],onInput:t=>Object(o["T"])(r).attributes.attributes[e.name]=t.target.value,onChange:k},{default:Object(o["ab"])(()=>[Object(o["j"])("span",Ma,[Object(o["l"])(u,{name:"circle",color:Object(o["T"])(r).attributes.attributes[e.name],style:{"margin-right":"5px"}},null,8,["color"]),Object(o["k"])(" "+Object(o["Q"])(Object(o["T"])(r).attributes.attributes[e.name]),1)]),(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(e.def.options,e=>(Object(o["F"])(),Object(o["g"])(d,{value:e,style:{padding:"5px"}},{default:Object(o["ab"])(()=>[Object(o["l"])(u,{name:"circle",color:e,style:{"margin-right":"5px"}},null,8,["color"]),Object(o["k"])(" "+Object(o["Q"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"String"==e.def.type&&-1==e.cleanName.indexOf("color")?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:2,attrname:e.name,type:"text",onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[0]||(a[0]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[1]||(a[1]=Object(o["cb"])(()=>{},["prevent"])),class:"propInput",onChange:k,"onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,Ba)),[[o["X"],Object(o["T"])(r).attributes.attributes[e.name]]]):"Array"==e.def.type?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:3,attrname:e.name,type:"text",onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[2]||(a[2]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[3]||(a[3]=Object(o["cb"])(()=>{},["prevent"])),class:"propInput",onChange:k,"onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,qa)),[[o["X"],Object(o["T"])(r).attributes.attributes[e.name]]]):"Function"==e.def.type?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:4,attrname:e.name,type:"text",onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[4]||(a[4]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[5]||(a[5]=Object(o["cb"])(()=>{},["prevent"])),class:"propInput",onChange:k,"onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,Ua)),[[o["X"],Object(o["T"])(r).attributes.attributes[e.name]]]):"String"==e.def.type&&e.name.indexOf("color")>-1?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:5,attrname:e.name,type:"color",onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[6]||(a[6]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[7]||(a[7]=Object(o["cb"])(()=>{},["prevent"])),class:"propInput",onChange:k,"onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t,style:{padding:"0px 2px",height:"21px"}},null,40,za)),[[o["X"],Object(o["T"])(r).attributes.attributes[e.name]]]):"Number"==e.def.type?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:6,attrname:e.name,type:"number",onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[8]||(a[8]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[9]||(a[9]=Object(o["cb"])(()=>{},["prevent"])),class:"propInput",onChange:k,"onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t},null,40,Va)),[[o["X"],Object(o["T"])(r).attributes.attributes[e.name]]]):"Boolean"==e.def.type?Object(o["bb"])((Object(o["F"])(),Object(o["i"])("input",{key:7,attrname:e.name,type:"checkbox",onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[10]||(a[10]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[11]||(a[11]=Object(o["cb"])(()=>{},["prevent"])),class:"propInput",onChange:k,"onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t,style:{width:"auto"}},null,40,$a)),[[o["U"],Object(o["T"])(r).attributes.attributes[e.name]]]):Object(o["h"])("",!0)])),y(e.name)?(Object(o["F"])(),Object(o["i"])("div",Ga,[Object(o["bb"])(Object(o["j"])("select",{class:"propInput propInputDynamic","onUpdate:modelValue":t=>Object(o["T"])(r).attributes.attributes[e.name]=t,name:"cars",id:"cars",onChange:k,onDrop:Object(o["cb"])(j,["prevent"]),onDragenter:a[12]||(a[12]=Object(o["cb"])(()=>{},["prevent"])),onDragover:a[13]||(a[13]=Object(o["cb"])(()=>{},["prevent"])),attrname:e.name},[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(_(e,Object(o["T"])(r)),e=>(Object(o["F"])(),Object(o["i"])("option",{key:"binding_"+e.name,value:e.name},Object(o["Q"])(e.name),9,Qa))),128))],40,Ka),[[o["W"],Object(o["T"])(r).attributes.attributes[e.name]]])])):Object(o["h"])("",!0),"gb_b__v-model"!=e.name?(Object(o["F"])(),Object(o["i"])("div",{key:2,onClick:t=>T(e.name,e.value),class:"propRowDynamicSwitch"},[y(e.name)?(Object(o["F"])(),Object(o["i"])("img",Ja)):Object(o["h"])("",!0),y(e.name)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("img",Xa))],8,Wa)):(Object(o["F"])(),Object(o["i"])("div",Ya))])}),128)),m().length>0?(Object(o["F"])(),Object(o["i"])("div",Za,[eo,(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(m(),e=>(Object(o["F"])(),Object(o["i"])("div",{key:e.name,class:"propRow"},[Object(o["j"])("div",to,Object(o["Q"])(e.label)+": ",1),Object(o["j"])("div",ao,Object(o["Q"])(e.desc),1),Object(o["j"])("div",{class:"propRowDynamicSwitch",draggable:"false",title:"Add property",onClick:t=>w(e)},lo,8,oo)]))),128))])):Object(o["h"])("",!0)]),io,!Object(o["T"])(s)&&Object(o["T"])(r)?(Object(o["F"])(),Object(o["g"])(c,{key:0,onClick:v},{default:Object(o["ab"])(()=>[Object(o["k"])("Add Property")]),_:1})):Object(o["h"])("",!0),Object(o["T"])(r)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("div",ro,co)),Object(o["T"])(s)?(Object(o["F"])(),Object(o["g"])(ht,{key:2,propslist:x.value,onPropAdded:w,onClose:O},null,8,["propslist"])):Object(o["h"])("",!0)])):Object(o["h"])("",!0),Object(o["l"])(ya,{ref_key:"chartPropertiesPanel",ref:i,appData:e.appData,selectedComponent:e.selectedComponent,style:{height:"100%"}},null,8,["appData","selectedComponent"])],64)}}};a("a164");const uo=P()(po,[["__scopeId","data-v-0f102274"]]);var bo=uo;Ke()(po,"components",{QIcon:Wt["a"]});var mo=a("1020"),go=a.n(mo),_o=a("4dd1"),fo=a.n(_o),ho=a("de09"),yo=a.n(ho);a("9f21");const jo=e=>(Object(o["I"])("data-v-9497234c"),e=e(),Object(o["G"])(),e),vo={class:"logsPanel",style:{position:"relative"}},Oo={class:"toolBar"},wo=jo(()=>Object(o["j"])("option",{value:"1"},"Info",-1)),Co=jo(()=>Object(o["j"])("option",{value:"2"},"Warning",-1)),xo=jo(()=>Object(o["j"])("option",{value:"3"},"Error",-1)),ko=[wo,Co,xo],To=jo(()=>Object(o["j"])("span",{class:"codicon codicon-settings"},[Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px",padding:"5px"}},"delete")],-1)),So=[To],Do={class:"timeStamp"},Po={class:"logLevel"},Fo=["onClick"];var Ao={__name:"LogsPanel",props:["appData"],setup(e,{expose:t}){const a=Object(o["K"])(!0),n=Object(o["K"])(!0),l=Object(o["K"])(1),i=Object(o["K"])("all"),r=Object(o["K"])(""),s=Object(o["K"])(null);go.a.registerLanguage("javascript",fo.a),go.a.registerLanguage("sql",yo.a);const c={mounted(e,t){const a=t.value||"",o=go.a.highlight("sql",a).value;e.innerHTML=`<pre style="white-space: pre-wrap; word-wrap: break-word;"><code style="display: block; width: 100%;">${o}</code></pre>`},updated(e,t){const a=t.value||"",o=go.a.highlight("sql",a).value;e.innerHTML=`<pre style="white-space: pre-wrap; word-wrap: break-word;"><code style="display: block; width: 100%;">${o}</code></pre>`}},d=c,p=Object(o["K"])([{id:"all",label:"All"},{id:0,label:"GB"}]),u={info:1,warning:2,error:3},b=Object(o["K"])([]);window.logs=b;const m=Object(o["e"])(()=>{let e=b.value.filter(e=>{let t="server"==e.source&&a.value||"client"==e.source&&n.value,o=u[e.level]>=l.value,s="all"==i.value||e.appid==i.value,c=""==r.value||e.message.toLowerCase().indexOf(r.value.toLowerCase())>=0;return t&&o&&c&&s});return e});function _(){b.value=[]}function f(e){let t=g.appid,a=e.appid;if(void 0!=a&&a!=t)return;console.log("addLog",e);let o="log:message ";if(0==e.message.indexOf(o)){p.value.find(t=>t.id==e.appid)||p.value.push({id:e.appid,label:e.appid});let t=e.message.slice(o.length);0==t.indexOf("Info: ")?(e.level="info",t=t.slice("Info: ".length)):0==t.indexOf("Warning: ")?(e.level="warning",t=t.slice("Warning: ".length)):0==t.indexOf("Error: ")&&(e.level="error",t=t.slice("Error: ".length)),t=t.split(" ┌").join("┌"),e.message=t,e.appSource="0"==e.appid?"GB":"app "+e.appid,e.timestamp=e.timestamp.replace("T"," ").replace("Z","").split(".")[0],e.expanded=!1,b.value.push(e),s.value.scrollTop=s.value.scrollHeight}}return t({addLog:f}),(e,t)=>(Object(o["F"])(),Object(o["i"])("div",vo,[Object(o["j"])("div",Oo,[Object(o["j"])("div",null,[Object(o["bb"])(Object(o["j"])("input",{type:"checkbox",id:"showServerLogs",name:"showServerLogs","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e)},null,512),[[o["U"],a.value]]),Object(o["k"])(" GB Server ")]),Object(o["j"])("div",null,[Object(o["bb"])(Object(o["j"])("input",{type:"checkbox",id:"showClientLogs",name:"showClientLogs","onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e)},null,512),[[o["U"],n.value]]),Object(o["k"])(" Client ")]),Object(o["j"])("div",null,[Object(o["bb"])(Object(o["j"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e)},ko,512),[[o["W"],l.value]])]),Object(o["j"])("div",null,[Object(o["k"])(" Search: "),Object(o["bb"])(Object(o["j"])("input",{type:"text",id:"searchString",name:"searchString","onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e),style:{width:"200px"}},null,512),[[o["X"],r.value]])]),Object(o["j"])("div",{style:{"text-align":"right","flex-grow":"1","flex-basis":"0"}},[Object(o["j"])("button",{class:"clearLogsButton",onClick:_,title:"Clear Logs"},So)])]),Object(o["j"])("div",{ref_key:"logsContainer",ref:s,class:"logsContainer"},[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(m.value,(e,t)=>(Object(o["F"])(),Object(o["i"])("div",{class:Object(o["v"])({logItem:!0,levelInfo:"info"==e.level,levelWarning:"warning"==e.level,levelError:"error"==e.level}),key:"logItem_"+t},[Object(o["j"])("div",Do,Object(o["Q"])(e.timestamp),1),Object(o["j"])("div",Po,Object(o["Q"])(e.level),1),Object(o["bb"])(Object(o["j"])("div",{class:Object(o["v"])({logMessage:!0,logMessageExpanded:e.expanded}),onClick:t=>e.expanded=!e.expanded},null,10,Fo),[[Object(o["T"])(d),e.message]])],2))),128))],512)]))}};a("ca8d");const Io=P()(Ao,[["__scopeId","data-v-9497234c"]]);var Lo=Io;Ke()(Ao,"components",{QIcon:Wt["a"]});const Eo={class:"bindingsConnectorsContainer"},No={width:"100%",height:"100%",style:{position:"absolute","z-index":"11","pointer-events":"none"}},Ro=["x","y","width","height"],Ho=["d"];var Mo={__name:"BindingsConnector",setup(e,{expose:t}){const a=Object(o["K"])([]),n=Object(o["K"])([]),l=Object(o["K"])(null),i=Object(o["K"])(null);function r(e){let t=e,a=s(),o=Math.abs(t.x+t.width-a.x),n=.5*o,l=`M ${t.x+t.width} ${t.y+.5*t.height} C ${t.x+t.width+n} ${t.y+.5*t.height}, ${a.x-n} ${a.y+7}, ${a.x} ${a.y+7}`;return l}function s(){let e=c(i.value.element);return e}function c(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top}}function d(e){a.value=e,p()}function p(){null==l.value&&u();let e=l.value,t=a.value.map(t=>({x:t.x+e.x,y:t.y+e.y,width:t.width,height:t.height}));n.value=t}function u(){let e=document.querySelector(".gjs-frame");l.value=c(e),p()}function b(e){i.value=e}return t({updateElementsPositions:d,updateIframePosition:u,onBindingOvered:b}),(e,t)=>(Object(o["F"])(),Object(o["i"])("div",Eo,[(Object(o["F"])(),Object(o["i"])("svg",No,[(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(n.value,e=>(Object(o["F"])(),Object(o["i"])("rect",{key:e.id,x:e.x,y:e.y,width:e.width,height:e.height,style:{fill:"transparent","stroke-width":"3",stroke:"#0099ff"}},null,8,Ro))),128)),(Object(o["F"])(!0),Object(o["i"])(o["a"],null,Object(o["L"])(n.value,e=>(Object(o["F"])(),Object(o["i"])("path",{key:e.id,d:r(e),stroke:"#0099ff","stroke-width":"2",fill:"transparent"},null,8,Ho))),128))]))]))}};a("c0b1");const Bo=P()(Mo,[["__scopeId","data-v-571588a7"]]);var qo=Bo;const Uo=e=>(Object(o["I"])("data-v-56904ff3"),e=e(),Object(o["G"])(),e),zo={key:0,class:"notProUI"},Vo=Uo(()=>Object(o["j"])("br",null,null,-1)),$o=Uo(()=>Object(o["j"])("br",null,null,-1)),Go=Uo(()=>Object(o["j"])("br",null,null,-1)),Ko={key:1},Qo={style:{position:"relative",width:"280px"}},Wo={class:"flex flex-col items-center justify-center p-6",style:{padding:"0px"}},Jo={class:"mb-4 w-full max-w-xl"},Xo={key:0,class:""},Yo={class:"text-red-600",style:{"margin-top":"-15px"}},Zo={class:"terms",style:{"margin-top":"10px"}};var en={__name:"AiHelpPanel",props:["appData"],setup(e){const t=Object(o["e"])(()=>g.IS_PRO),a=Object(o["K"])(""),n=Object(o["K"])(null);function l(){window.showUpgradeLicenseDialog(!1)}const i=async()=>{""!==a.value.trim()?(window.parent.postMessage({command:"openAiDocs",query:a.value},"*"),a.value="",n.value=null):n.value="Please enter a question."};function r(e){console.log("aiCodePanel :: openLink: ",e),window.parent.postMessage({command:"openLink",url:e,name:"Genie Builder Docs"},"*")}return(e,s)=>{const c=Object(o["N"])("vscode-button");return Object(o["F"])(),Object(o["i"])(o["a"],null,[t.value?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("div",zo,[Object(o["k"])(" AI Help is a Pro feature."),Vo,Object(o["k"])(" Upgrade to Pro and start using it now!"),$o,Object(o["k"])(),Go,Object(o["l"])(c,{onClick:l,style:{"margin-right":"3px"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Upgrade")]),_:1})])),t.value?(Object(o["F"])(),Object(o["i"])("div",Ko,[Object(o["j"])("div",Qo,[Object(o["j"])("div",Wo,[Object(o["j"])("div",Jo,[Object(o["bb"])(Object(o["j"])("textarea",{rows:"2","onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),placeholder:"Ask AI for help on how to use Genie",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[o["X"],a.value]])]),n.value?(Object(o["F"])(),Object(o["i"])("div",Xo,[Object(o["j"])("p",Yo,Object(o["Q"])(n.value),1)])):Object(o["h"])("",!0),Object(o["l"])(c,{onClick:i,style:{width:"100px !important"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Ask AI")]),_:1}),Object(o["j"])("div",Zo,[Object(o["k"])(" Use of the AI features implies acceptance of the Genie AI "),Object(o["j"])("span",{onClick:s[1]||(s[1]=e=>r(Object(o["T"])(g).TERMS_OF_USE_URL)),style:{"text-decoration":"underline"}},"terms of use"),Object(o["k"])(". AI results can be incorrect. ")])])])])):Object(o["h"])("",!0)],64)}}};a("7bf3");const tn=P()(en,[["__scopeId","data-v-56904ff3"]]);var an=tn;const on=e=>(Object(o["I"])("data-v-4ac99a28"),e=e(),Object(o["G"])(),e),nn={key:0,class:"notProUI"},ln=on(()=>Object(o["j"])("br",null,null,-1)),rn=on(()=>Object(o["j"])("br",null,null,-1)),sn=on(()=>Object(o["j"])("br",null,null,-1)),cn={key:1},dn={key:0,class:"nothingSelected"},pn=on(()=>Object(o["j"])("i",null,"Nothing selected",-1)),un=[pn],bn={key:1,style:{position:"relative"}},mn={class:"flex flex-col items-center justify-center p-6",style:{padding:"0px"}},gn={class:"mb-4 w-full max-w-xl"},_n=["disabled"],fn={key:0,class:""},hn={class:"text-red-600",style:{"margin-top":"-15px"}},yn={class:"terms",style:{"margin-top":"10px"}};var jn={__name:"AiCodePanel",props:["appData","selectedComponent"],emits:["aiCodeChanged"],setup(e,{expose:t,emit:a}){const n=Object(o["e"])(()=>g.IS_PRO);let l=Object(o["K"])(null),i=Object(o["K"])(""),r=Object(o["K"])(!1),s=g.ask_ai_url+"codegen",c=Object(o["K"])({});function d(e){console.log("aiCodePanel :: setSelectedComponent: ",d),l.value=e}function p(){window.showUpgradeLicenseDialog(!1)}function b(e,t){const a=t.match(/#[^\{]+\{[^\}]+\}/g),o={};a&&a.forEach(e=>{const t=e.split("{"),a=t[0].trim().substring(1),n=t[1].trim().slice(0,-1);o[a]=n});const n=new DOMParser,l=n.parseFromString(`<body>${e}</body>`,"text/html");return Object.keys(o).forEach(e=>{const t=l.getElementById(e);t&&(t.style.cssText+=o[e])}),l.body.innerHTML}function m(e){console.log("aiCodePanel :: openLink: ",e),window.parent.postMessage({command:"openLink",url:e},"*")}function _(e,t,o){const n=new DOMParser,l=new XMLSerializer,d=n.parseFromString(e,"text/html"),p={};d.querySelectorAll("plotly").forEach(e=>{t.forEach(t=>{if(e.hasAttribute(t)){const a=e.id;p[a]||(p[a]={}),p[a][t]=e.getAttribute(t)}})});let m=b(e,editor.getCss());a("aiCodeChanged","loading"),r.value=!0,console.log("[codegen-debug] 4. htmlWithStyles: ",m),u["a"].post(s,{content_type:"html",sessionid:g.SESSIONID,prompt:c.value.userPrompt,code:m}).then(e=>{r.value=!1;let t=JSON.parse(e.request.response);if(console.log("AI response: ",t),t.error)console.log("responseObject.error",t.error),c.value.aiError=t.error,a("aiCodeChanged","hidden");else{r.value=!1,i.value="";let e=t.response;console.log("[codegen-debug] 5. receivedHtml: ",e);let n=new DOMParser;const s=n.parseFromString(e,"text/html");Object.keys(p).forEach(e=>{const t=s.getElementById(e);t&&Object.entries(p[e]).forEach(([a,o])=>{console.log("- Restore attr. for node'"+e+"'. attr: ",a," value: ",o),t.setAttribute(a,o)})});let d,u=l.serializeToString(s.body);console.log("[codegen-debug] 6. restoredHtml: ",u);try{d=De.cleanHtml(u)}catch(o){console.log("Error encoding the html: ",o),c.value.aiError=o.message,a("aiCodeChanged","hidden")}console.log("[codegen-debug] 7. cleanHtml: ",d);const b=n.parseFromString(d,"text/html"),m=b.body||null;De.encodeAttributesInDOM(m);const g=m.innerHTML;console.log("[codegen-debug] 8. firstDivContent: ",g),c.value.aiApiResponse=g,console.log("- Ai-Generated Code final: ",g),window.lastHtmlBeforeAiReplace=editor.getHtml(),"gbTemplateContainer"==editor.getSelected().attributes.attributes.id?(console.log("[codegen-debug] 9a. selectedHtml: ",editor.getSelected().toHTML()),editor.getSelected().components(g)):(console.log("[codegen-debug] 9b. selectedHtml: ",editor.getSelected().toHTML()),editor.getSelected().replaceWith(g)),a("aiCodeChanged","ready")}}).catch(e=>{r.value=!1,console.log("Error sending message to AI: ",e),c.value.aiError=e.message,a("aiCodeChanged","hidden")})}function f(){let e=l.value;console.log("aiCodePanel :: aiSendClicked: ",e);let t=e.toHTML();console.log("[codegen-debug] 0. selectedHtml: ",t);let a=editor.getCss({component:e,keepUnusedStyles:!1,avoidProtected:!0}),o=appData.value.pages[0].model.fields.map(e=>{let t={name:e.name,type:e.type};return null!=e.columns&&(t.columns=e.columns.map(e=>e)),t});o=JSON.stringify(o,null,4);let n=`\nUser Request: ${i.value}\n\nInstructions for AI:\n1. Layout: Utilize DIV elements with "row" and "st-col col-x col-sm st-module" classes for creating a responsive layout. The layout should be divided into the sections described above. For columns, ("col-x"), "x" is a number between 1 and 12. \n2. Components: Wherever possible, employ Quasar 1 components for UI elements. For date selection, use 'q-date' instead of standard HTML input components. Refer to the supported components list provided below.\n3. never nest a "row" directly as a child of a "row" or a "col" directly as a child of a "col".\n4. For 'q-table' elements, bind data using only "DataTable" or Array types, never DataFrames.\n5. Data Binding: Properly assign data to UI components, ensuring mandatory attributes like 'v-model' are used for input components such as textfields, select, and checkbox. \n6. Rules:\n   - Avoid using '<template>' tags.\n   - In dynamic attributes (starting with ':'), do not use interpolated values (e.g., avoid '{{value}}').\n   - Never return an element with a CSS class whose name is or starts with "gbTemplateContainer"\n7. Other components: \n7.1. For "big numbers" use this component template (use colon in attributes for bindings if necessary):\n<st-big-number number="0" title="Label"></st-big-number>\n7.2. For date pickers use this component template (use colon in attributes for bindings if necessary, and note that v-model value must match for the INPUT and the q-date components):\n<q-input iscomposite="true" v-model="undefined" clearable="true" filled="true" label="Pick a date"><q-icon class="cursor-pointer" name="event" style="height: 100%;"><q-popup-proxy><q-date v-model="undefined" mask="YYYY-MM-DD" no-unset="true" today-btn="true"></q-date></q-popup-proxy></q-icon></q-input>\n7.3. For date pickers use this component template (use colon in attributes for bindings if necessary, and note that v-model value must match for the INPUT and the q-date components):\n<q-input v-model="undefined" clearable="true" filled="true" label="Pick a time"><q-icon class="cursor-pointer" name="alarm" style="height: 100%;"><q-popup-proxy><q-time v-model="undefined" mask="HH:mm:ss"></q-time></q-popup-proxy></q-icon></q-input>\n7.4. For charts, use Plotly library, with this component template below, replacing binding names as needed and preserving the $_{} syntax found in the template. When binding to DataFrame data, never bind directly to it, always bind to a nested column (i.e. myDataFrame.myColumn), and use the syntax found in the template ( i.e. $_{myDataFrame.myColumn} ). Do not use the colon ":" prefix inside attribute values, that's only for dynamic attribute names when appropriate. Make sure the plot data is properly bsae64 encoded.\n8. Styles should always be applied inline. If user provides current css styles (see below), make sure to apply them inline to your answer, unless user requests to change or remove them,\n\n<plotly data="W3siZ2J0eXBlIjoiU2NhdHRlciIsIngiOiIkX3tCSU5ESU5HX05BTUV9IiwieSI6IiRfe0FOT1RIRVJfQklORElOR19OQU1FfSIsInR5cGUiOiJzY2F0dGVyIiwibW9kZSI6ImxpbmVzIiwibmFtZSI6IlRyYWNlIn1d" config="e30=" layout="eyJ0aXRsZSI6Ik15IENoYXJ0In0="></plotly>\n\nAvailable Data (Bindings):\n${o}\n\nSupported Quasar Components:\n["q-input", "q-btn", "q-select", "q-radio", "q-checkbox", "q-toggle", "q-slider", "q-range", "q-date", "q-time", "q-knob", "q-list", "q-table", "q-img", "q-video", "q-avatar", "q-badge", "q-chip", "q-icon", "q-rating", "q-spinner", "q-timeline", "q-timeline-entry", "q-scroll-area"]\n\nRelated CSS styles:\n${a}\n`;c.value={selectedHtml:t,userPrompt:n},c.value.previousPrompt=i.value;const r=c.value.selectedHtml;console.log("[codegen-debug] 1. entireHtml: ",r);const s=new DOMParser,d=s.parseFromString(r,"text/html"),p=d.body||null;console.log("[codegen-debug] 2. firstDiv: ",p),De.decodeAttributesInDOM(p);const u=p.innerHTML;console.log("[codegen-debug] 3. firstDivContent: ",u),_(u,["data","config","layout"],e=>{console.log("aiCodePanel :: sendRequestToAiPreservingPlotlyAttributes-resultHtml: ",e)})}return t({setSelectedComponent:d}),(e,t)=>{const a=Object(o["N"])("vscode-button");return Object(o["F"])(),Object(o["i"])(o["a"],null,[n.value?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["i"])("div",nn,[Object(o["k"])(" The AI Assistant is a Pro feature."),ln,Object(o["k"])(" Upgrade to Pro and start using it now!"),rn,Object(o["k"])(),sn,Object(o["l"])(a,{onClick:p,style:{"margin-right":"3px"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Upgrade")]),_:1})])),n.value?(Object(o["F"])(),Object(o["i"])("div",cn,[Object(o["T"])(l)?(Object(o["F"])(),Object(o["i"])("div",bn,[Object(o["j"])("div",mn,[Object(o["j"])("div",gn,[Object(o["bb"])(Object(o["j"])("textarea",{rows:"2","onUpdate:modelValue":t[0]||(t[0]=e=>Object(o["r"])(i)?i.value=e:i=e),disabled:Object(o["T"])(r),placeholder:"Select a UI component and ask AI to style or edit it",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,8,_n),[[o["X"],Object(o["T"])(i)]])]),Object(o["T"])(c).aiError?(Object(o["F"])(),Object(o["i"])("div",fn,[Object(o["j"])("p",hn,Object(o["Q"])(Object(o["T"])(c).aiError),1)])):Object(o["h"])("",!0),Object(o["T"])(r)?Object(o["h"])("",!0):(Object(o["F"])(),Object(o["g"])(a,{key:1,onClick:f,style:{width:"100px !important"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Ask AI")]),_:1})),Object(o["T"])(r)?(Object(o["F"])(),Object(o["g"])(a,{key:2,disabled:"",style:{width:"100px !important"}},{default:Object(o["ab"])(()=>[Object(o["k"])("Plese wait...")]),_:1})):Object(o["h"])("",!0),Object(o["j"])("div",yn,[Object(o["k"])(" Use of the AI features implies acceptance of the Genie AI "),Object(o["j"])("span",{onClick:t[1]||(t[1]=e=>m(Object(o["T"])(g).TERMS_OF_USE_URL)),style:{"text-decoration":"underline"}},"terms of use"),Object(o["k"])(". AI results can be incorrect. ")])])])):(Object(o["F"])(),Object(o["i"])("div",dn,un))])):Object(o["h"])("",!0)],64)}}},vn=(a("ba69"),a("52ee")),On=a("27f9"),wn=a("7cbe"),Cn=a("ca78"),xn=a("9c40"),kn=a("ddd8"),Tn=a("3786"),Sn=a("8f8e"),Dn=a("9564"),Pn=a("c1d0"),Fn=a("7bbf"),An=a("3845"),In=a("1c1c"),Ln=a("6ac0"),En=a("cb32"),Nn=a("58a8"),Rn=a("b047"),Hn=a("daf4"),Mn=a("0d59"),Bn=a("05eb"),qn=a("74af"),Un=a("4983");const zn=P()(jn,[["__scopeId","data-v-4ac99a28"]]);var Vn=zn;Ke()(jn,"components",{QDate:vn["a"],QTable:Ve["a"],QInput:On["a"],QIcon:Wt["a"],QPopupProxy:wn["a"],QTime:Cn["a"],QBtn:xn["a"],QSelect:kn["a"],QRadio:Tn["a"],QCheckbox:Sn["a"],QToggle:Dn["a"],QSlider:Pn["a"],QRange:Fn["a"],QKnob:An["a"],QList:In["a"],QImg:$e["a"],QVideo:Ln["a"],QAvatar:En["a"],QBadge:Nn["a"],QChip:Rn["a"],QRating:Hn["a"],QSpinner:Mn["a"],QTimeline:Bn["a"],QTimelineEntry:qn["a"],QScrollArea:Un["a"]});class $n{constructor(e,t,a){this.wsEndpoint=g.getExternalApiBaseUrl("ws"),this.ws=null,this.onOpenHandler=e,this.onCloseHandler=t,this.onMessageHandler=a}connect(){console.log("StatusMonitor::connect"),this.ws=new WebSocket(this.wsEndpoint),this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onclose=this.onClose.bind(this)}restart(e){e=e||1,console.log("StatusMonitor::restart",e),setTimeout(()=>{this.connect()},1e3*e)}onOpen(){console.log("StatusMonitor::onOpen"),this.ws.send(JSON.stringify({channel:"geniebuilder",message:"subscribe",payload:{}})),this.onOpenHandler()}onMessage(e){this.onMessageHandler(e)}onClose(){console.log("StatusMonitor::onClose"),this.onCloseHandler()}}a("04d1");var Gn=a("8833");a("d7d5"),a("d5e0"),a("0109"),a("bbca");const Kn=e=>(Object(o["I"])("data-v-6a5bc5d0"),e=e(),Object(o["G"])(),e),Qn={key:0,class:"mainContainer"},Wn={class:"topBar"},Jn={style:{width:"100%",display:"flex","flex-direction":"row","justify-content":"end","padding-right":"12px"}},Xn=Kn(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"feedback",-1)),Yn=[Xn],Zn=Kn(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"help",-1)),el=[Zn],tl=Kn(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"palette",-1)),al=[tl],ol=Kn(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"refresh",-1)),nl=[ol],ll=Kn(()=>Object(o["j"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"save",-1)),il=[ll],rl={class:"topToolBar"},sl=["innerHTML"],cl={style:{"margin-right":"10px",color:"rgb(204, 204, 204)",width:"100%",padding:"3px 0px","font-size":"0.9em",height:"21px",opacity:"0.7",position:"relative",top:"-8px"}},dl=Kn(()=>Object(o["j"])("div",{style:{display:"flex","flex-direction":"row"}},null,-1)),pl={class:"rowStack"},ul={class:"centralBar"},bl={class:"panel canvasPanel",style:{}},ml={class:"panel logsPanel"},gl={class:"panel bindingsPanel",style:{height:"100%"}},_l=Kn(()=>Object(o["j"])("div",{id:"myStyleEditorContainer"},[Object(o["j"])("div",{id:"myStyleEditorContainerClasses"}),Object(o["j"])("div",{id:"myStyleEditorContainerSections"})],-1)),fl=Kn(()=>Object(o["j"])("div",{id:"layersContainer"},null,-1)),hl={class:"nothingSelected"},yl=Kn(()=>Object(o["j"])("i",null,"Nothing selected",-1)),jl=[yl],vl={id:"customCodeEditor"},Ol={class:"panel propertiesPanel",style:{height:"100%"}},wl={class:"panel aiHelpPanel",style:{height:"100%"}};var Cl={__name:"Main",setup(e){f();let t=Object(o["K"])(null),a=Object(o["K"])("test <p>para</p>"),n=Object(o["K"])({mode:"text/xml",theme:"neat",lineWrapping:!0}),l="";function i(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function r(){let e='Genie Builder <span style=" font-weight: bold;">';return e+=i(g.LICENSE_TYPE),e+="</span>",e}function s(e){console.log("onMainTabChanged",e,arguments),4==e&&setTimeout(()=>{console.log("onMainTabChanged",e,t.value),me()},200)}function c(){console.log("codeChanged")}const d=()=>{console.log("Main.switchCodeEditorTheme: ",window.currentThemeType),"light"==window.currentThemeType?n.value.theme="neat":n.value.theme="dracula",K=window.currentThemeType,t.value&&t.value.refresh()};function p(e){S.value.showAiCodePreview(e)}function b(){let e=a.value;const t=new DOMParser,o=t.parseFromString(e,"text/html"),n=o.body;De.encodeAttributesInDOM(n);const l=n.innerHTML;let i=editor.getCss();editor.getSelected().replaceWith(l),editor.setStyle(i)}window.switchCodeEditorTheme=d;let m=Object(o["K"])(null),_=localStorage.getItem("panelStates");_?(console.log("storedStates",_),m.value=JSON.parse(_)):(m.value={bindingsPanelContainer:{expanded:!0,size:10},propertiesPanelContainer:{expanded:!0,size:10},aiHelpPanelContainer:{expanded:!0,size:10}},v());const j=Object(o["K"])([m.value.bindingsPanelContainer.size,m.value.propertiesPanelContainer.size,m.value.aiHelpPanelContainer.size]);function v(){try{m.value.bindingsPanelContainer.size=Math.round(document.getElementById("bindingsPanelContainer_Pane").style.height.split("%").join("")),m.value.propertiesPanelContainer.size=Math.round(document.getElementById("propertiesPanelContainer_Pane").style.height.split("%").join("")),m.value.aiHelpPanelContainer.size=Math.round(document.getElementById("aiHelpPanelContainer_Pane").style.height.split("%").join(""))}catch(e){console.error("savePanelStates error",e)}localStorage.setItem("panelStates",JSON.stringify(m.value))}function O(){console.log("panesResized"),v()}console.log("panelSizes",j);function w(e,t){console.log("updatePaneState",e,t),m.value[e].expanded=t,v()}const C=Object(o["K"])(null),x=Object(o["K"])(null),k=Object(o["K"])(null),T=Object(o["K"])(null),S=Object(o["K"])(null),D=Object(o["K"])(null),P=Object(o["K"])(null),F=Object(o["K"])(null),A=Object(o["K"])(null),I=Object(o["K"])(null),L=Object(o["K"])(null),E=Object(o["K"])(null);let N=null,H=!1,M=Object(o["K"])(null);window.appData=M;const B="0.1.52";let q=["appid","appport","CHANNEL__","GB_SOURCE","GB_HOST","GB_PORT","USER_EMAIL","SESSIONID"],U=[];const V=de();let $="NCD. URL Params\n------------------------";if(q.forEach(e=>{$+=`\n  - ${e}: ${V[e]}`,void 0==V[e]?U.push(e):g[e]=V[e]}),console.log($),U.length>0){let e="Missing URL params: "+U.join(", ");throw alert(e),new Error(e)}u["a"].defaults.headers.common["gb-sessionid"]=""+g.SESSIONID,window.apibase=g.getExternalApiBaseUrl("http")+"api/v1/";let K="dark";function Q(){console.log("Main :: openFeedbackPage()"),window.parent.postMessage({command:"openFeedbackForm"},"*")}function W(){console.log("Main :: openHelpPage()"),window.parent.postMessage({command:"openHelpPage"},"*")}function J(){console.log("Main :: informNoCodeVersion(): ",B),window.parent.postMessage({command:"informNoCodeVersion",metadata:{nocodeVersion:B}},"*")}function X(e){}function Y(e){let t=JSON.parse(e.data);if(t.message&&0==t.message.indexOf("base64:")&&(t.message=atob(t.message.replace("base64:",""))),console.log("Main :: onSocketMessage: ",t.message),t.message&&0==t.message.indexOf("filechanged:")){let e=t.message.replace("filechanged:",""),a=N.config.app_path+"/"+N.view,o=e==a,n=e.indexOf("autogenerated.css")>-1,l=e.indexOf("theme.css")>-1;(l||!n&&!H)&&(o||setStoredUnsavedChanges(),console.log("[debug-autoreload] reload triggered by file change notification",e,a,o,n,H),window.location.reload())}else T&&T.value&&T.value.addLog({appid:t.appid,timestamp:t.timestamp,source:"server",level:t.type,message:t.message+": "+t.status})}"light"==V.theme&&(K="light"),setTheme(K),g.IS_PRO="true"==V.ispro,g.LICENSE_TYPE=V.license_type,window.clearStoredUnsavedChanges=function(){console.log("clearStoredUnsavedChanges()");let e=N.config.app_path+"/"+N.view;localStorage.removeItem("unsavedChanges__"+e)},window.getStoredUnsavedChanges=function(){console.log("getStoredUnsavedChanges()");let e=N.config.app_path+"/"+N.view,t=localStorage.getItem("unsavedChanges__"+e);return t&&(t=JSON.parse(t)),t},window.setStoredUnsavedChanges=function(){console.log("setStoredUnsavedChanges()");let e=N.config.app_path+"/"+N.view,t=re();t=JSON.stringify(t),localStorage.setItem("unsavedChanges__"+e,t)};const ee=Object(o["e"])(()=>{let e="Properties";return E&&E.value?E.value.attributes.name&&(e+=" - "+E.value.attributes.name):e+=" (nothing selected)",e});function te(e){console.log("onSocketClose",e),ae.restart(5)}const ae=window.statusMonitor=new $n(X,te,Y);let oe={indent_size:4,indent_char:" ",max_preserve_newlines:5,preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:0,indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1,inline_custom_elements:!1};function ne(e){D.value.setHandleBlocks(e)}function le(){console.log("openThemeEditor",g.appid),g.IS_PRO?window.parent.postMessage({command:"openThemeEditor",appid:g.appid},"*"):window.showUpgradeLicenseDialog()}function ie(){window.location.reload()}function re(){let e=editor.getCss();const t=editor.getHtml({cleanId:!0}),a=new DOMParser,o=a.parseFromString(t,"text/html"),n=o.body.querySelector("#gbTemplateContainer")||null;let l=/\*\s*{[^}]*}|body\s*{[^}]*}/g;e=e.replace(l,""),De.decodeAttributesInDOM(n);const i=n.innerHTML;let r=html_beautify(i,oe);return r=De.restoreSpecialElements(r),{beautifiedHtml:r,editedHtmlCss:e}}function se(e){window.parent.postMessage({command:"showApiErrorAlert",message:e},"*")}function ce(e){let{beautifiedHtml:t,editedHtmlCss:a}=re(),o=t.indexOf("<tempplaceholder")>-1,n=l!=t;if(o)return void console.log("saveTemplate() cancelled: it contains placeholders");if(!n&&!e)return void console.log("saveTemplate() cancelled: content didn't change");console.log("saveTemplate() will proceed"),l=t;let i=N.view,r=encodeURIComponent(i),s=`${apibase}apps/${g.appid}/save?path=${r}`;H=!0,console.log("[debug-autoreload] saveTemplate() called. savedFromNoCodeEditor set to TRUE, Will save HTML now: ",r),u["a"].post(s,{payload:t}).then(e=>{if(console.log("[debug-autoreload] html-save callback: ",r,H),200!=e.status)return console.log("Error saving template: ",e),void se(`There was an issue saving your changes (code ${e.status}). If the problem persists please try reloading this window.`);let t=`${apibase}apps/${g.appid}/save?path=public/css/autogenerated.css`;console.log("[debug-autoreload] Will save CSS for html: ",r,H),u["a"].post(t,{payload:a}).then(e=>{console.log("[debug-autoreload] css-save callaback for html: ",r,H),console.log("[debug-autoreload] savedFromNoCodeEditor set to FALSE"),H=!1}).catch(e=>{console.log("[debug-autoreload] error saving css for html: ",r,H),console.log("ERROR saving css file response: ",e)})}).catch(e=>{console.log("[debug-autoreload] error saving HTML: ",r,H),console.log("ERROR saving template file response: ",e),console.log("Error saving template, network error: ",response),se("There was an issue saving your changes (Network error). If the problem persists please try reloading this window.")})}function de(){const e=new URLSearchParams(window.location.search),t={};for(const[a,o]of e.entries())t[a]=o;return t}function pe(e){L.value.onBindingOvered(e);let t=document.querySelector(".gjs-frame");if(e.binding){let a={target:"main-controller",payload:{command:"reportElementsUsingBinding",bindingName:e.binding.name}};t.contentWindow.postMessage(a,"*")}else L.value.updateElementsPositions([])}function ue(){console.log("onAutoSaveTriggered()"),ce()}function be(e){console.log("Main::onComponentSelected",e),window.selectedComponent=E.value=e,F.value&&F.value.setSelectedComponent(e),I.value&&I.value.setSelectedComponent(e),me()}function me(){let e=E.value;if(!e)return;console.log("updateCodeEditorContent",e);let o=e.toHTML();console.log("selectedComponentCode",o);const n=o,l=new DOMParser,i=l.parseFromString(n,"text/html");console.log("beautifiedHtml doc",i);const r=i;De.decodeAttributesInDOM(r),o=r.querySelector("body").innerHTML,console.log("beautifiedHtml 0",o);let s=html_beautify(o,oe);console.log("beautifiedHtml 1",s),console.log("beautifiedHtml 2",s),a.value=s,t.value.refresh()}function ge(e){var t;let a=e.bindingInfo.bindingname,o=null===(t=sharedData.modelFieldsByName[a])||void 0===t?void 0:t.columns;if(o&&o.length>0){let t,n;t=n=`$_{${a}.${o[0]}}`,o.length>1&&(n=`$_{${a}.${o[1]}}`);let l=e.newComponentModel;editor.select(e.targetModel),setTimeout(()=>{var a;let o=null===(a=F.value)||void 0===a?void 0:a.chartPropertiesPanel;console.log("onBindingDroppedOnComponent",e,o.value),o&&o.addNewTraceFromBinding(t,n),editor.select(l);let i=l.collection;i.remove(l),editor.select(e.targetModel)},100)}}function _e(e){M.value=e}function fe(e){if(null==N)return!1;let t=N.model.fields,a=t.map(e=>e.name);return a.indexOf(e)>-1||""==e}function he(e){const t={"{Function}":"Function","{Bool}":"Boolean","{String}":"String","{Char}":"String","{Date}":"Date","{Number}":"Number","{Int64}":"Number","{Int32}":"Number","{Int16}":"Number","{Int8}":"Number","{Float64}":"Number","{Float32}":"Number","{Float16}":"Number","{Float8}":"Number","{Vector}":"Array","{Vector{Bool}}":"Array","{Vector{String}}":"Array","{Vector{Char}}":"Array","{Vector{Number}}":"Array","{Vector{Float64}}":"Array","{Vector{Int64}}":"Array","{Vector{Int32}}":"Array","{Vector{Int16}}":"Array","{Vector{Int8}}":"Array","Vector{Dict}":"Array","{Object}":"Object","{NamedTuple{(:min, :max), Tuple{Int64, Int64}}}":"Object","{Dict}":"Object","{RangeData{Int64}}":"Number","{Vector{PlotlyBase.GenericTrace{Dict{Symbol, Any}}}}":"PlotlyBase.GenericTrace","{PlotlyBase.Layout{Dict{Symbol, Any}}}":"PlotlyBase.Layout","{DataTable{DataFrames.DataFrame}}":"DataTable.DataFrames.DataFrame","{DataFrames.DataFrame}":"DataFrames.DataFrame","{DataFrame}":"DataFrames.DataFrame","{PlotlyData}":"PlotlyData","{DataTablePagination}":"DataTablePagination"};e.forEach(e=>{e.model.fields=e.model.fields.filter(e=>e.isreactive),e.model.fields.forEach(e=>{let a=e.type,o=a.replace("Reactive",""),n=t[o];void 0!=n||0!=o.indexOf("{Vector{Dict{")&&0!=o.indexOf("{Vector{Vector{")||(n="Array"),e.type=n||"UnknownType"}),e.model.fields=y["a"].sortBy(e.model.fields,e=>e.name.toLowerCase())})}function ye(){J(),window.showUpgradeLicenseDialog=(e=!0)=>{window.parent.postMessage({command:"showUpgradeLicenseDialog",metadata:{showDialog:e}},"*")},window.canvasPanel=S,document.addEventListener("scroll",e=>{let t=L.value;null!=t&&t.updateIframePosition()}),document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"s":e.preventDefault(),ce();break;case"z":e.preventDefault(),e.shiftKey?document.execCommand("redo"):document.execCommand("undo");break;case"c":e.preventDefault(),document.execCommand("copy");break;case"v":e.preventDefault(),document.execCommand("paste");break;case"x":e.preventDefault(),document.execCommand("cut");case"a":e.preventDefault(),document.execCommand("selectAll")}}),window.addEventListener("message",e=>{if("nocode-builder"!==e.data.target)return;let t=L.value;null!=t&&t.updateElementsPositions(e.data.payload)},!1),apibase&&g.appid&&(u["a"].get(apibase+"apps").then(e=>{let t=e.data.applications.find(e=>e.id.value.toString()==g.appid),a=t;null!=t&&u["a"].get(apibase+"apps/"+g.appid+"/pages").then(e=>{he(e.data.pages),a.pages=e.data.pages,_e(a),setTimeout(()=>{N=e.data.pages[0];let t,a=getStoredUnsavedChanges();if(console.log("unsavedChanges on init: ",a),a)clearStoredUnsavedChanges(),t=a.beautifiedHtml,l=t,S.value.updateTemplateFile(t),console.log("updateTemplateFile 0 (unsaved changes)");else{let e=apibase+"apps/"+g.appid+"/edit?path="+encodeURIComponent(N.view);u["a"].get(e).then(e=>{t=e.data.content,l=t,console.log("updateTemplateFile 1 (normal)"),S.value.updateTemplateFile(t)}).catch(t=>{console.error("error loading template file: ",e,t)})}},300)}).catch(e=>{console.log("error",e)})}).catch(e=>{console.log("error",e)}),ae.connect())}return window.valueIsModelField=fe,Object(o["C"])(()=>{ye()}),(e,l)=>{const i=Object(o["N"])("vscode-button");return Object(o["T"])(M)?(Object(o["F"])(),Object(o["i"])("div",Qn,[Object(o["j"])("div",Wn,[Object(o["j"])("div",Jn,[Object(o["j"])("div",{class:"topbarButton",onClick:Q,title:"Give Feedback",style:{"padding-top":"5px"}},Yn),Object(o["j"])("div",{class:"topbarButton",onClick:W,title:"Get Support"},el),Object(o["j"])("div",{class:"topbarButton",onClick:le,title:"Theme Editor"},al),Object(o["j"])("div",{class:"topbarButton",onClick:ie,title:"Reload"},nl),Object(o["j"])("div",{class:"topbarButton",onClick:l[0]||(l[0]=e=>ce(!0)),title:"Save"},il)]),Object(o["j"])("div",rl,[Object(o["j"])("div",{class:"gbLogo",innerHTML:r()},null,8,sl),Object(o["j"])("div",cl," v "+Object(o["Q"])(Object(o["T"])(B)),1),dl])]),Object(o["j"])("div",pl,[Object(o["j"])("div",ul,[Object(o["j"])("div",bl,[Object(o["l"])(We,{ref_key:"canvasPanel",ref:S,onAutoSaveTriggered:ue,onSaveTriggered:l[1]||(l[1]=e=>ce(!0)),onComponentSelected:be,onBindingDroppedOnComponent:ge,appData:Object(o["T"])(M)},null,8,["appData"])]),Object(o["j"])("div",ml,[Object(o["l"])(R,{title:"Logs"},{default:Object(o["ab"])(()=>[Object(o["l"])(Lo,{ref_key:"logsPanel",ref:T,appData:Object(o["T"])(M)},null,8,["appData"])]),_:1})])]),Object(o["l"])(Object(o["T"])(h["b"]),{horizontal:"",class:"rightBar",onResized:O},{default:Object(o["ab"])(()=>[Object(o["l"])(Object(o["T"])(h["a"]),{id:"bindingsPanelContainer_Pane",size:Object(o["T"])(m).bindingsPanelContainer.size,style:Object(o["w"])({minHeight:Object(o["T"])(m).bindingsPanelContainer.expanded?"200px":"25px",maxHeight:Object(o["T"])(m).bindingsPanelContainer.expanded?"100%":"25px"})},{default:Object(o["ab"])(()=>[Object(o["j"])("div",gl,[Object(o["l"])(R,{title:"Library & Bindings",ref_key:"bindingsPanelContainer",ref:C,"onUpdate:expanded":l[3]||(l[3]=e=>w("bindingsPanelContainer",e)),style:{height:"100%"}},{default:Object(o["ab"])(()=>[Object(o["l"])(z,{mode:"light",onChangeTab:s,style:{height:"100%",display:"flex","flex-direction":"column"}},{default:Object(o["ab"])(()=>[Object(o["l"])(G,{title:"UI Library",active:"true",style:{}},{default:Object(o["ab"])(()=>[Object(o["l"])(rt,{ref_key:"libraryPanel",ref:P,onBlockCustomTriggered:ne},null,512)]),_:1}),Object(o["l"])(G,{title:"Styles"},{default:Object(o["ab"])(()=>[_l]),_:1}),Object(o["l"])(G,{title:"Bindings"},{default:Object(o["ab"])(()=>[Object(o["l"])(Z,{ref_key:"bindingsPanel",ref:D,appData:Object(o["T"])(M),onBindingOvered:pe},null,8,["appData"])]),_:1}),Object(o["l"])(G,{title:"Layers"},{default:Object(o["ab"])(()=>[fl]),_:1}),Object(o["l"])(G,{title:"Code",style:{width:"100%"}},{default:Object(o["ab"])(()=>[Object(o["bb"])(Object(o["j"])("div",hl,jl,512),[[o["Y"],!E.value]]),Object(o["bb"])(Object(o["j"])("div",vl,[Object(o["l"])(Object(o["T"])(Gn["a"]),{ref_key:"codeEditor",ref:t,value:Object(o["T"])(a),"onUpdate:value":l[2]||(l[2]=e=>Object(o["r"])(a)?a.value=e:a=e),options:Object(o["T"])(n),border:"",placeholder:"test placeholder",height:200,onChange:c},null,8,["value","options"]),Object(o["l"])(i,{onClick:b},{default:Object(o["ab"])(()=>[Object(o["k"])("Apply")]),_:1})],512),[[o["Y"],E.value]])]),_:1})]),_:1})]),_:1},512)])]),_:1},8,["size","style"]),Object(o["l"])(Object(o["T"])(h["a"]),{id:"propertiesPanelContainer_Pane",size:Object(o["T"])(m).propertiesPanelContainer.size,style:Object(o["w"])({minHeight:Object(o["T"])(m).propertiesPanelContainer.expanded?"100px":"25px",maxHeight:Object(o["T"])(m).propertiesPanelContainer.expanded?"100%":"25px"})},{default:Object(o["ab"])(()=>[Object(o["j"])("div",Ol,[Object(o["l"])(R,{title:ee.value,ref_key:"propertiesPanelContainer",ref:x,"onUpdate:expanded":l[4]||(l[4]=e=>w("propertiesPanelContainer",e)),style:{height:"100%"}},{default:Object(o["ab"])(()=>[Object(o["l"])(bo,{ref_key:"propertiesPanel",ref:F,appData:Object(o["T"])(M),selectedComponent:E.value,style:{height:"100%"},parentPanel:x.value},null,8,["appData","selectedComponent","parentPanel"])]),_:1},8,["title"])])]),_:1},8,["size","style"]),Object(o["l"])(Object(o["T"])(h["a"]),{id:"aiHelpPanelContainer_Pane",size:Object(o["T"])(m).aiHelpPanelContainer.size,style:Object(o["w"])({minHeight:Object(o["T"])(m).aiHelpPanelContainer.expanded?"150px":"25px",maxHeight:Object(o["T"])(m).aiHelpPanelContainer.expanded?"100%":"25px"})},{default:Object(o["ab"])(()=>[Object(o["j"])("div",wl,[Object(o["l"])(R,{title:"AI Assistant",ref_key:"aiHelpPanelContainer",ref:k,"onUpdate:expanded":l[5]||(l[5]=e=>w("aiHelpPanelContainer",e)),style:{height:"100%"}},{default:Object(o["ab"])(()=>[Object(o["l"])(z,{mode:"light",onChangeTab:e.onAiTabChanged,style:{height:"100%",display:"flex","flex-direction":"column"}},{default:Object(o["ab"])(()=>[Object(o["l"])(G,{title:"UI",active:"true"},{default:Object(o["ab"])(()=>[Object(o["l"])(Vn,{ref_key:"aiCodePanel",ref:I,appData:Object(o["T"])(M),onAiCodeChanged:p,selectedComponent:E.value,style:{height:"100%"}},null,8,["appData","selectedComponent"])]),_:1}),Object(o["l"])(G,{title:"Help",style:{}},{default:Object(o["ab"])(()=>[Object(o["l"])(an,{ref_key:"aiHelpPanel",ref:A,appData:Object(o["T"])(M),selectedComponent:E.value,style:{height:"100%"}},null,8,["appData","selectedComponent"])]),_:1})]),_:1},8,["onChangeTab"])]),_:1},512)])]),_:1},8,["size","style"])]),_:1})]),Object(o["l"])(qo,{ref_key:"bindingConnectorsManager",ref:L,appData:Object(o["T"])(M)},null,8,["appData"])])):Object(o["h"])("",!0)}}};a("8fe7");const xl=P()(Cl,[["__scopeId","data-v-6a5bc5d0"]]);var kl=xl;Ke()(Cl,"components",{QIcon:Wt["a"]}),window.uikit=l,window.provideVSCodeDesignSystem=i["a"],Object(i["a"])().register(Object(r["c"])(),Object(s["c"])(),Object(c["b"])(),Object(d["b"])(),Object(p["b"])());var Tl={name:"App",components:{Main:kl}};a("a077");const Sl=P()(Tl,[["render",n]]);var Dl=Sl,Pl=a("5502"),Fl=Object(Pl["a"])({state:{},mutations:{},actions:{},modules:{}}),Al=a("b05d"),Il=(a("da96"),a("0ca9"),a("7d6e"),a("e54f"),a("a4b7"),a("05bc"),a("0d0e"),a("573e"),{config:{},plugins:{}});window.canvasComponents={},window.currentThemeType="light",window.addCanvasComponent=function(e,t){window.canvasComponents[e]=t},window.removeCanvasComponent=function(e){delete window.canvasComponents[e]},window.setTheme=function(e){document.querySelector("body").setAttribute("style",""),"dark"===e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light"),window.currentThemeType=e,window.switchCodeEditorTheme&&window.switchCodeEditorTheme(e)},window.addEventListener("message",e=>{"removeCanvasComponent"===e.data.command?window.removeCanvasComponent(e.data.uid):"updateTheme"===e.data.command&&window.setTheme(e.data.themeType)},!1),xe(e=>{window.blockDefinitions=e;let t=Object(o["f"])(Dl);const a={position:"top-right",timeout:5e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!1,showCloseButtonOnHover:!0,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};t.use(b["a"],a),t.use(Al["a"],Il).use(Fl).mount("#app")})},"5ff4":function(e,t,a){},"6baf":function(e,t,a){"use strict";a("d9cc")},"763e":function(e,t,a){},"77a2":function(e,t,a){"use strict";a("03c2")},"7bf3":function(e,t,a){"use strict";a("ed67")},"858e":function(e,t,a){},8949:function(e,t,a){},"8fe7":function(e,t,a){"use strict";a("8949")},"9b71":function(e,t,a){},a077:function(e,t,a){"use strict";a("d7cd")},a164:function(e,t,a){"use strict";a("5ff4")},ab4e:function(e,t,a){},b4fc:function(e,t,a){"use strict";a("9b71")},b9b0:function(e,t,a){"use strict";a("ec77")},ba69:function(e,t,a){"use strict";a("0d99")},c0b1:function(e,t,a){"use strict";a("763e")},c763:function(e,t,a){},ca8d:function(e,t,a){"use strict";a("ff99")},cfff:function(e,t,a){},d0d4:function(e,t,a){"use strict";a("3f7b")},d6e4:function(e,t,a){function o(e){e.DomComponents.addType("plotly",{isComponent:function(e){if("PLOTLY"===e.tagName)return{type:"plotly",name:"Plotly"}},model:{defaults:{removable:!0,draggable:!0,droppable:"tempplaceholder",badgable:!0,stylable:!0,highlightable:!0,copyable:!1,resizable:!1,editable:!1,hoverable:!0,traits:[],script:function(){var e=window.parent.sharedData.externalData;let t=this.attributes.id.nodeValue;function a(t){let a={},o=Object.getOwnPropertyNames(t);return o.forEach(o=>{let n=o.replace("gb_c__",""),l=void 0!==t[o].nodeValue?t[o].nodeValue:t[o];["data","layout","config"].includes(n)&&(l=atob(l),void 0!==e[l]?a[":"+n]=e[l]:a[":"+n]=JSON.parse(l))}),a}function o(t){for(let a in t)if("object"===typeof t[a]&&null!==t[a])o(t[a]);else if("string"===typeof t[a]){const o=t[a].match(/\$_{(.+?)}/);if(o&&o[1]){const l=o[1];t[a]=n(e,l)}}}function n(e,t){const a=t.split(".");for(let o=0;o<a.length;o++){if(!e||!e.hasOwnProperty(a[o]))return;e=e[a[o]]}return e}this.onExternalDataChanged=t=>{e=t.detail,l=a(this.attributes),this.vueApp.updateServerData(e)},window.parent.addCanvasComponent(t,this);let l=a(this.attributes);this.vueApp=new Vue({el:"#vueinternal_"+t,data:function(){let t=l[":data"];o(t);let a=l[":layout"]||{};o(a);let n=l[":config"]||{};return o(n),{message:"TESTING_ID",attributes:l,serverData:e,parsedData:t,parsedLayout:a,parsedConfig:n}},methods:{updateServerData(e){this.serverData=e;let t=l[":data"];o(t),this.parsedData=t;let a=l[":layout"]||{};o(a),this.parsedLayout=a;let n=l[":config"]||{};o(n),this.parsedConfig=n},updateAttributes(e){this.attributes=a(e),l=this.attributes,this.updateServerData(this.serverData)}},mounted(){}})}},handleAttrChange(){},render:function(){this.view.onRender()},init(){this.listenTo(this,"change:attributes",this.onAttributeChange)},removed(){window.parent.postMessage({command:"removeCanvasComponent",uid:this.ccid},"*")}},view:{onAttributeChange(){},onRender(){const{el:e,model:t}=this;let a=e.attributes.id.nodeValue;e.grapesModel=t;const o=`<div id="vueinternal_${a}" style="position: relative;">\n                    <Plotly ref="childVueInstance" :data="parsedData" :layout="parsedLayout" :config="parsedConfig"></Plotly>\n                    <div style="position: absolute; background-color: #ff000000; top: 0px; left: 0px; width: 100%; height: 100%;"></div>\n                `;e.innerHTML=o}}})}a("b7ef"),e.exports={registerPlotlyComponent:o}},d7cd:function(e,t,a){},d9cc:function(e,t,a){},de78:function(e,t,a){},e9ee:function(e,t,a){"use strict";a("ab4e")},ec77:function(e,t,a){},ed67:function(e,t,a){},ff99:function(e,t,a){}});
//# sourceMappingURL=app.48f4341f.js.map