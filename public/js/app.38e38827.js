(function(e){function t(t){for(var n,i,r=t[0],s=t[1],c=t[2],p=0,u=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(u.length)u.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=s;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03c2":function(e,t,a){},"106b":function(e,t,a){},"1f67":function(e,t,a){},2435:function(e,t,a){},2776:function(e,t,a){},"2a61":function(e,t,a){"use strict";a("bba6")},"2d89":function(e,t,a){"use strict";a("60cf")},"2e33":function(e,t,a){"use strict";a("626f")},"2f4e":function(e,t,a){"use strict";a("d322")},"31f8":function(e,t,a){},"41c8":function(e,t,a){"use strict";a("2776")},4255:function(e,t,a){"use strict";a("1f67")},"49c3":function(e,t,a){"use strict";a("6f71")},"49e5":function(e,t,a){"use strict";a("cfff")},"56d7":function(e,t,a){"use strict";a.r(t);a("88a7"),a("271a"),a("5494"),a("14d9"),a("d9e2");var n=a("7a23"),o=a("b05d"),l=a("0180"),i=(a("da96"),a("0ca9"),a("7d6e"),a("e54f"),a("a4b7"),a("05bc"),a("0d0e"),a("573e"),{config:{},plugins:{}}),r=a("cee4"),s=a("69d7"),c=a("1bd4"),d=a("0a46"),p=a("1fb9"),u=a("1bbd"),b=a("08ca"),m=a("054d"),g=(a("b7ef"),a("c46f")),f=a("9def"),_=(a("c1ea"),a("8833")),h=(a("d7d5"),a("d5e0"),a("0109"),a("bbca"),a("ade3"));class y{constructor(){throw new Error("Configuration is a static class and cannot be instantiated")}static getExternalApiBaseUrl(e){if(!e)throw new Error("getExternalApiBaseUrl() requires a protocol argument");y.GB_SOURCE!=y.GB_SOURCE_LOCAL&&(e+="s");let t=`${e}://${y.GB_HOST}`;return y.GB_SOURCE==y.GB_SOURCE_LOCAL?t+=":":t+="/proxy/",t+=y.GB_PORT+"/",t}static getAppBaseUrl(e,t){if(!e)throw new Error("getAppBaseUrl() requires a protocol argument");y.GB_SOURCE!=y.GB_SOURCE_LOCAL&&(e+="s");let a=`${e}://${y.GB_HOST}`;return y.GB_SOURCE==y.GB_SOURCE_LOCAL?a+=":":a+="/proxy/",a+=t+"/",a}static getAppAssetsBaseUrl(e,t){if(!e)throw new Error("getAppAssetsBaseUrl() requires a protocol argument");y.GB_SOURCE!=y.GB_SOURCE_LOCAL&&(e+="s");let a=`${e}://${y.GB_HOST}`;return y.GB_SOURCE==y.GB_SOURCE_LOCAL&&(a+=":",a+=t+"/"),a}}Object(h["a"])(y,"appid",""),Object(h["a"])(y,"currentPageIndex",0),Object(h["a"])(y,"appport",""),Object(h["a"])(y,"CHANNEL__",""),Object(h["a"])(y,"GB_SOURCE_LOCAL","local"),Object(h["a"])(y,"GB_SOURCE_CLOUD","cloud"),Object(h["a"])(y,"GB_SOURCE",""),Object(h["a"])(y,"GB_HOST",""),Object(h["a"])(y,"GB_PORT",""),Object(h["a"])(y,"ask_ai_url","https://aiapis.hosting.genieframework.com/api/"),Object(h["a"])(y,"TERMS_OF_USE_URL","https://genielicensing.hosting.genieframework.com/documents/terms.pdf"),Object(h["a"])(y,"IS_PRO",!1),Object(h["a"])(y,"LICENSE_TYPE","Unknown");const v=Object(l["b"])();function O(){r["a"].interceptors.request.use((function(e){return e.url.startsWith(y.ask_ai_url)&&delete e.headers["gb-sessionid"],e}),(function(e){return console.error("Axios interceptor REQUEST ERROR: ",e),Promise.reject(e)})),r["a"].interceptors.response.use((function(e){return e}),(function(e){return console.error("Axios interceptor RESPONSE ERROR: ",e),429!=e.response.status&&402!=e.response.status||v(e.response.message||"There was a problem with your subscription. Please try again later or contact support."),Promise.reject(e)}))}a("04d1");const j=e=>(Object(n["J"])("data-v-6c90e336"),e=e(),Object(n["H"])(),e),w={style:{position:"relative"}},k={key:0},x=j(()=>Object(n["k"])("i",{class:"fa fa-chevron-right"},null,-1)),C=[x],D={key:1},S=j(()=>Object(n["k"])("i",{class:"fa fa-chevron-down"},null,-1)),P=[S];var T={__name:"PanelTitle",props:["title","expanded"],emits:["expand"],setup(e,{emit:t}){const a=e;let o=Object(n["L"])(a.expanded);function l(){t("expand",o.value)}return Object(n["ab"])(a,e=>{o.value=e.expanded}),(t,a)=>(Object(n["G"])(),Object(n["j"])("div",w,[Object(n["k"])("div",{class:"title",onClick:l},Object(n["R"])(e.title),1),Object(n["k"])("div",{class:"expandBtn",onClick:l},[Object(n["U"])(o)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("span",k,C)),Object(n["U"])(o)?(Object(n["G"])(),Object(n["j"])("span",D,P)):Object(n["i"])("",!0)])]))}},L=(a("49e5"),a("6b0d")),U=a.n(L);const A=U()(T,[["__scopeId","data-v-6c90e336"]]);var I=A;const E={style:{height:"100%"}},R={class:"panelContent",style:{height:"calc(100% - 25px)",overflow:"auto"}};var N={__name:"Panel",props:["title","hideTitle"],emits:["update:expanded"],setup(e,{expose:t,emit:a}){const o=e;let l=Object(n["L"])(!0);function i(){r(!l.value)}function r(e){l.value=e,s(),a("update:expanded",e)}function s(){localStorage.setItem("panelExpandedState_"+o.title,l.value)}function c(){let e=localStorage.getItem("panelExpandedState_"+o.title);"false"===e&&(l.value=!1)}return c(),t({expanded:l,expand:r}),(t,a)=>(Object(n["G"])(),Object(n["j"])("div",E,[e.hideTitle?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["h"])(I,{key:0,expanded:Object(n["U"])(l),title:e.title,onExpand:i},null,8,["expanded","title"])),Object(n["cb"])(Object(n["k"])("div",R,[Object(n["N"])(t.$slots,"default")],512),[[n["Z"],Object(n["U"])(l)]])]))}};a("b9b0");const M=U()(N,[["__scopeId","data-v-5a3f81bc"]]);var G=M;const H={id:"tab-headers"},B=["onClick"],q={id:"active-tab",style:{"flex-grow":"1",display:"flex",height:"calc(100% - 120px)"}};var F={__name:"Tabs",props:["customClass"],emits:["changeTab"],setup(e,{emit:t}){let a=Object(n["L"])(null),o=Object(n["L"])(null),l=Object(n["L"])(null),i=Object(n["L"])(0);Object(n["D"])(()=>{l.value=[...a.value.querySelectorAll(".tab")];for(let e of l.value)e.classList.contains("active")&&(i=l.value.indexOf(e))});const r=e=>{i=e;for(let t of[...l.value,...o.value])t.classList.remove("active");l.value[i].classList.add("active"),o.value[i].classList.add("active"),t("changeTab",i)};return(t,s)=>(Object(n["G"])(),Object(n["j"])("div",{id:"tabs-container",class:Object(n["w"])(e.customClass),ref_key:"tabContainer",ref:a,style:{height:"100%",display:"flex","flex-direction":"column"}},[Object(n["k"])("div",H,[Object(n["k"])("ul",null,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(Object(n["U"])(l),(e,t)=>(Object(n["G"])(),Object(n["j"])("li",{key:t,class:Object(n["w"])(Object(n["U"])(i)==t?"active":""),onClick:e=>r(t),ref_for:!0,ref_key:"tabHeaders",ref:o},Object(n["R"])(e.title),11,B))),128))])]),Object(n["k"])("div",q,[Object(n["N"])(t.$slots,"default")])],2))}};a("e9ee");const z=F;var V=z,$={__name:"Tab",props:["active"],setup(e){return(t,a)=>(Object(n["G"])(),Object(n["j"])("div",{class:Object(n["w"])(["tab","true"==e.active?"active":""]),ref:"tabs"},[Object(n["N"])(t.$slots,"default")],2))}};a("77a2");const W=$;var J=W;const Q={style:{position:"relative"}},Y={style:{"overflow-y":"auto"}},X=["title","onMouseover","onMousedown","datatype","bindingname"],Z=["datatype","bindingname","src"];var K={__name:"BindingsPanel",props:["appData"],emits:["bindingOvered"],setup(e,{expose:t,emit:a}){const o=e;let l,i,r=Object(n["L"])("type");function s(e){l=e.dragStart,i=e.dragStop}const c=Object(n["f"])(()=>{let e=[];return d.value.forEach(t=>{e.push({id:"tempplaceholder",type:"tempplaceholder",label:"Temp PlaceHolder",tagName:"TEMPPLACEHOLDER",content:`<tempplaceholder datatype="${t.type}" bindingname="${t.name}" isbinding="true"style="padding: 10px;">Binding '${t.name}' (${t.type})</tempplaceholder>`,properties:[],droppable:!1,editable:!1,draggable:!0,binding:t})}),e}),d=Object(n["f"])(()=>{let e;return o.appData.pages[y.currentPageIndex].model.fields&&("az"==r.value?e=g["a"].sortBy(o.appData.pages[y.currentPageIndex].model.fields,e=>e.name.toLowerCase()):"type"==r.value&&(e=g["a"].sortBy(o.appData.pages[y.currentPageIndex].model.fields,e=>e.type.toLowerCase()+"_"+e.name.toLowerCase()))),e}),p=function(e,t){let n=t.target;a("bindingOvered",{element:n,binding:e})},u=function(){a("bindingOvered",{element:null,binding:null})};return t({setHandleBlocks:s}),(e,t)=>(Object(n["G"])(),Object(n["j"])("div",Q,[Object(n["k"])("div",Y,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(c.value,e=>(Object(n["G"])(),Object(n["j"])("div",{title:e.binding.type,isbinding:"true",onMouseover:t=>p(e.binding,t),onMouseout:u,onMousedown:t=>Object(n["U"])(l)(e),datatype:e.binding.type,bindingname:e.binding.name,class:"bindingItem",key:e.binding.name},[Object(n["k"])("img",{datatype:e.binding.type,bindingname:e.binding.name,src:"img/icons/type_"+e.binding.type+".png",class:"typeIcon"},null,8,Z),Object(n["l"])(" "+Object(n["R"])(e.binding.name),1)],40,X))),128))])]))}};a("41c8");const ee=U()(K,[["__scopeId","data-v-0b09cf83"]]);var te=ee,ae=a("2ef0"),ne=a.n(ae);a("98c5"),a("13d5");let oe=[{id:"Area Chart",icon:"areaChart",proRequired:!1,traceTemplate:{gbtype:"Area Chart",x:["2024-01-01","2024-01-02","2024-01-03"],y:[10,15,13],type:"scatter",name:"Trace",fill:"tozeroy",mode:"none"}},{id:"Bar Chart",icon:"barChart",proRequired:!1,traceTemplate:{gbtype:"Bar Chart",x:["Category 1","Category 2","Category 3"],y:[9,10,20],type:"bar",name:"Trace"}},{id:"Box",icon:"boxChart",proRequired:!0,traceTemplate:{gbtype:"Box",y:[1,2,3,4,7,9],type:"box",name:"Trace"}},{id:"Candlestick",icon:"candlestickChart",proRequired:!0,traceTemplate:{gbtype:"Candlestick",x:["2024-01-01","2024-01-02","2024-01-03"],close:[10,12,11],high:[11,13,12],low:[9,11,10],open:[9,11,11],type:"candlestick",name:"Trace"}},{id:"Choropleth",icon:"choroplethChart",proRequired:!0,traceTemplate:{gbtype:"Choropleth",locationmode:"country names",locations:["Canada","United States","Mexico"],z:[10,20,30],type:"choropleth",name:"Trace"}},{id:"Cone",icon:"coneChart",proRequired:!0,traceTemplate:{gbtype:"Cone",x:[1,2,3],y:[1,2,3],z:[1,2,3],u:[1,0,0],v:[0,1,0],w:[0,0,1],type:"cone",name:"Trace",sizemode:"absolute"}},{id:"Contour",icon:"contourChart",proRequired:!0,traceTemplate:{gbtype:"Contour",x:[1,2,3],y:[1,2,3],z:[[10,10,10],[20,20,20],[30,30,30]],type:"contour",name:"Trace"}},{id:"Funnel",icon:"funnelChart",proRequired:!0,traceTemplate:{gbtype:"Funnel",x:[10,20,30],y:["Stage 1","Stage 2","Stage 3"],type:"funnel",name:"Trace"}},{id:"Funnel Area",icon:"funnelAreaChart",proRequired:!0,traceTemplate:{gbtype:"Funnel Area",values:[100,80,60,40,20],text:["Stage 1","Stage 2","Stage 3","Stage 4","Stage 5"],type:"funnelarea",name:"Trace"}},{id:"Heatmap",icon:"heatmapChart",proRequired:!1,traceTemplate:{gbtype:"Heatmap",x:["A","B","C"],y:["1","2","3"],z:[[1,20,30],[20,1,60],[30,60,1]],type:"heatmap",name:"Trace"}},{id:"Heatmap GL",icon:"heatmapGLChart",proRequired:!0,traceTemplate:{gbtype:"Heatmap GL",x:["A","B","C"],y:["1","2","3"],z:[[1,20,30],[20,1,60],[30,60,1]],type:"heatmapgl",name:"Trace"}},{id:"Histogram",icon:"histogramChart",proRequired:!1,traceTemplate:{gbtype:"Histogram",x:[1,2,3,2,3,2,3,7,6,8,5,8,1,1,1,9],type:"histogram",name:"Trace"}},{id:"Histogram 2D",icon:"histogram2DChart",proRequired:!0,traceTemplate:{gbtype:"Histogram 2D",x:[1,2,2,3,4],y:[6,6,7,8,8],type:"histogram2d",name:"Trace"}},{id:"Histogram 2D Contour",icon:"histogram2DContourChart",proRequired:!0,traceTemplate:{gbtype:"Histogram 2D Contour",x:[1,2,2,3,4],y:[6,6,7,8,8],type:"histogram2dcontour",name:"Trace"}},{id:"Indicator",icon:"indicatorChart",proRequired:!0,traceTemplate:{gbtype:"Indicator",mode:"number+delta",value:400,delta:{reference:350},type:"indicator",name:"Trace"}},{id:"Isosurface",icon:"isosurfaceChart",proRequired:!0,traceTemplate:{gbtype:"Isosurface",x:[0,0,0,0,1,1,1,1],y:[0,0,1,1,0,0,1,1],z:[0,1,0,1,0,1,0,1],value:[1,2,3,4,5,6,7,8],isomin:2,isomax:6,type:"isosurface",name:"Trace"}},{id:"Line Chart",icon:"lineChart",proRequired:!1,traceTemplate:{gbtype:"Line Chart",x:["2024-01-01","2024-01-02","2024-01-03"],y:[5,6,7],type:"scatter",mode:"lines",name:"Trace"}},{id:"Mash 3D",icon:"mash3DChart",proRequired:!0,traceTemplate:{gbtype:"Mash 3D",x:[0,1,2,0],y:[0,0,1,2],z:[0,2,0,1],i:[0,0,0,1],j:[1,2,3,2],k:[2,3,1,3],type:"mesh3d",name:"Trace"}},{id:"OHLC",icon:"ohlcChart",proRequired:!0,traceTemplate:{gbtype:"OHLC",x:["2024-01-01","2024-01-02","2024-01-03"],open:[100,110,120],high:[105,115,125],low:[95,105,115],close:[102,112,122],type:"ohlc",name:"Trace"}},{id:"Pie Chart",icon:"pieChart",proRequired:!1,traceTemplate:{gbtype:"Pie Chart",labels:["Slice 1","Slice 2","Slice 3"],values:[10,20,30],type:"pie",name:"Trace"}},{id:"Scatter",icon:"scatterChart",proRequired:!1,traceTemplate:{gbtype:"Scatter",x:[5,10,15],y:[10,15,5],type:"scatter",mode:"markers",name:"Trace"}},{id:"Scatter 3D",icon:"scatter3DChart",proRequired:!0,traceTemplate:{gbtype:"Scatter 3D",x:[1,2,3,4],y:[4,3,2,1],z:[1,2,3,4],mode:"markers",type:"scatter3d",name:"Trace"}},{id:"Scatter Geo",icon:"scatterGeoChart",proRequired:!0,traceTemplate:{gbtype:"Scatter Geo",lat:[40.712776,34.052235,41.878113],lon:[-74.005974,-118.243685,-87.629798],mode:"markers",type:"scattergeo",name:"Trace"}},{id:"Scatter GL",icon:"scatterGLChart",proRequired:!0,traceTemplate:{gbtype:"Scatter GL",x:[1,2,3,4],y:[10,11,12,13],mode:"markers",type:"scattergl",name:"Trace"}},{id:"Surface",icon:"surfaceChart",proRequired:!0,traceTemplate:{gbtype:"Surface",x:[1,2,3,4,5],y:[1,2,3,4,5],z:[[1,2,3,4,5],[2,4,6,8,10],[3,6,9,12,15],[4,8,12,16,20],[5,10,15,20,25]],type:"surface",name:"Trace"}},{id:"Table",icon:"tableChart",proRequired:!0,traceTemplate:{gbtype:"Table",header:{values:[["Header 1"],["Header 2"],["Header 3"]],align:"center",line:{width:1,color:"black"},fill:{color:"grey"},font:{family:"Arial",size:12,color:"white"}},cells:{values:[["Row 1","Row 2","Row 3"],["1","2","3"],["a","b","c"]],align:"center",line:{width:1,color:"black"},fill:{color:"white"},font:{family:"Arial",size:11,color:"black"}},type:"table",name:"Trace"}},{id:"Timeline",icon:"timelineChart",proRequired:!0,traceTemplate:{gbtype:"Timeline",x:["Start Date 1","Start Date 2","Start Date 3"],xend:["End Date 1","End Date 2","End Date 3"],y:["Task 1","Task 2","Task 3"],type:"scatter",mode:"lines",line:{width:4},name:"Trace"}},{id:"Violin",icon:"violinChart",proRequired:!0,traceTemplate:{gbtype:"Violin",y:[20,30,40,50,60,70,80,90,100,110],type:"violin",name:"Trace",box:{visible:!0},meanline:{visible:!0}}},{id:"Waterfall",icon:"waterfallChart",proRequired:!0,traceTemplate:{gbtype:"Waterfall",x:["Product Revenue","Services Revenue","Total Revenue","Fixed Costs","Variable Costs","Total Costs","Net Profit"],y:[60,80,0,-40,-20,0,40],type:"waterfall",name:"Trace",text:["$60","$80","","-$40","-$20","","$40"],textposition:"outside",connector:{line:{color:"rgb(63, 63, 63)"}},increasing:{marker:{color:"Green"}},decreasing:{marker:{color:"Red"}},totals:{marker:{color:"DeepSkyBlue"}}}},{id:"Scatter Mapbox",icon:"scatterMapboxChart",proRequired:!0,traceTemplate:{gbtype:"Scatter Mapbox",lat:[40.712776,34.052235],lon:[-74.005974,-118.243685],mode:"markers",type:"scattermapbox",name:"Trace"},traceLayout:{dragmode:"zoom",mapbox:{style:"open-street-map",center:{lat:38,lon:-90},zoom:3},margin:{r:0,t:0,b:0,l:0}}},{id:"Streamtube",icon:"streamtubeChart",proRequired:!0,traceTemplate:{gbtype:"Streamtube",type:"streamtube",x:[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],y:[0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2],z:[0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2],u:[1,1,1,1,1,1,1,1,1,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427],v:[1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365,1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365,1,1,1,.5403023059,.5403023059,.5403023059,.4161468365,.4161468365,.4161468365],w:[0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742,0,.088656062,.169392742],sizeref:.5,cmin:0,cmax:3,name:"Trace"}},{id:"Volume",icon:"volumeChart",proRequired:!0,traceTemplate:le()}];function le(){const e=3;let t=[],a=[],n=[],o=[];for(let r=1;r<=e;r++)for(let l=1;l<=e;l++)for(let i=1;i<=e;i++)t.push(r),a.push(l),n.push(i),o.push(0);for(let r=0;r<15;r++){const e=Math.floor(Math.random()*o.length);o[e]=1}o=o.map((t,a)=>{const n=[o[a-1]||0,o[a+1]||0,o[a-e]||0,o[a+e]||0,o[a-e*e]||0,o[a+e*e]||0],l=n.reduce((e,t)=>e+t,0);return(t+l/n.length)/2});const l=Math.max(...o);o=o.map(e=>e/l);const i={type:"volume",x:t,y:a,z:n,value:o,isomin:.1,isomax:.8,opacity:.1,surface_count:25};return i}const ie=e=>(Object(n["J"])("data-v-0f497cd9"),e=e(),Object(n["H"])(),e),re={class:"componentAddDialogContainer"},se={class:"componentAddDialog"},ce=ie(()=>Object(n["k"])("p",{style:{"margin-bottom":"6px","font-size":"12px","font-weight":"400",opacity:"0.7"}},"Add component for binding",-1)),de={style:{"padding-bottom":"10px","border-bottom":"1px solid #cccccc50"}},pe=["src"],ue=ie(()=>Object(n["k"])("div",{style:{"font-size":"14px",padding:"20px 0px 15px"}},"Suggested Components:",-1)),be={class:"compGroupsContainer"},me=["onClick","title"],ge={class:"compName"},fe=["src"],_e={key:0,src:"img/icons/pro_badge.png",class:"proBadge",style:{}};var he={__name:"ComponentAddDialog",props:["appData","componentPlaceHolderData"],emits:["closeDialog"],setup(e,{emit:t}){const a=e;console.log("props.componentPlaceHolderData: ",a.componentPlaceHolderData);const o=y.IS_PRO;function l(e=!0){window.showUpgradeLicenseDialog(e)}function i(e){console.log("chartTypes",oe);let t=oe.find(t=>t.id==e);return t?t.traceTemplate:(console.error("Could not find chart with id: "+e),"")}const r=function(e){let t;t=e.icon?e.icon:e.type.split("q-").join("")+".png";const a="img/block_icons/"+t;return a};function s(e,t){console.log("selectCompProp(comp, prop",e,t),window.logUserEvent("component::addFromBinding",{component:e.type,bindingDataType:a.componentPlaceHolderData.datatype});let n=(new DOMParser).parseFromString(e.content,"text/html").body.childNodes[0],o=t,l=a.componentPlaceHolderData.bindingname;if("DataFrames.DataFrame"==a.componentPlaceHolderData.datatype){let t=d(a.componentPlaceHolderData.bindingname);l+="."+t,l="$_{"+l+"}";let r=i(e.label);null!=r.x&&(r.x=l),null!=r.y&&(r.y=l),null!=r.z&&(r.z=l),null!=r.labels&&(r.labels=l),null!=r.values&&(r.values=l),console.log("traceTemplate: ",r),l=`[${JSON.stringify(r)}]`,l=btoa(l),n.removeAttribute("gb_c__data"),console.log("finalBindingName",l),n.setAttribute("gb_c__"+o,l)}else"DataTable.DataFrames.DataFrame"==a.componentPlaceHolderData.datatype?(n.removeAttribute("gb_c__data"),l+=".data",n.setAttribute("gb_b__"+o,l),n.setAttribute("gb_b__columns",a.componentPlaceHolderData.bindingname+".columns")):n.setAttribute("gb_b__"+o,l);let r=n.outerHTML;editor.getSelected().replaceWith(r),c(!1)}function c(e){t("closeDialog",e)}function d(e){let t=a.appData.pages[y.currentPageIndex].model.fields.filter(t=>t.name==e);return 0==t.length?(console.error("Could not find dataframe with name: "+e),""):t[0].columns&&0!=t[0].columns.length?t[0].columns[0]:(console.error("Dataframe "+e+" has no columns"),"")}return(e,t)=>(Object(n["G"])(),Object(n["j"])("div",re,[Object(n["k"])("div",se,[Object(n["k"])("div",{class:"closeButton",onClick:t[0]||(t[0]=e=>c(!0))},"X"),ce,Object(n["k"])("div",de,[Object(n["k"])("img",{src:"img/icons/type_"+a.componentPlaceHolderData.datatype+".png",style:{height:"17px","vertical-align":"middle",display:"inline-block"}},null,8,pe),Object(n["l"])(" "+Object(n["R"])(a.componentPlaceHolderData.bindingname),1)]),ue,Object(n["k"])("div",be,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(a.componentPlaceHolderData.components,e=>(Object(n["G"])(),Object(n["j"])("div",{class:Object(n["w"])({compGroup:!0,compGroupDisabled:e.proRequired&&!Object(n["U"])(o)}),key:e.type,onClick:t=>!e.proRequired||e.proRequired&&Object(n["U"])(o)?s(e,e.matchingProperties[0]):l(!0),title:e.proRequired&&!Object(n["U"])(o)?"Upgrade to PRO plan to use this component and many more!":e.label},[Object(n["k"])("div",ge,[Object(n["k"])("div",{class:Object(n["w"])({compNameLabel:!0,compNameLabelProRequired:e.proRequired&&!Object(n["U"])(o)})},Object(n["R"])(e.label),3),Object(n["k"])("div",{class:Object(n["w"])({compNameIconContainer:!0,compNameIconContainerProRequired:e.proRequired&&!Object(n["U"])(o)})},[Object(n["k"])("img",{src:r(e),class:Object(n["w"])({typeIcon:!0,typeIconProRequired:e.proRequired&&!Object(n["U"])(o)}),style:{filter:"var(--library-icon-filter)","max-height":"20px","margin-top":"6px","pointer-events":"none"}},null,10,fe)],2),e.proRequired&&!Object(n["U"])(o)?(Object(n["G"])(),Object(n["j"])("img",_e)):Object(n["i"])("",!0)])],10,me))),128))])])]))}};a("d955");const ye=U()(he,[["__scopeId","data-v-0f497cd9"]]);var ve=ye,Oe=a("d6e4");let je,we,ke,xe={supportedIcons:["search","search","home","account_circle","settings","done","info","check_circle","delete","visibility","shopping_cart","favorite","description","logout","favorite_border","lock","schedule","language","help_outline","face","manage_accounts","verified","filter_alt","thumb_up","event","fingerprint","dashboard","list","login","visibility_off","check_circle_outline","calendar_today","highlight_off","help","paid","task_alt","question_answer","date_range","article","open_in_new","shopping_bag","lightbulb","credit_card","perm_identity","history","trending_up","account_balance","delete_outline","fact_check","report_problem","verified_user","assignment","star_rate","arrow_right_alt","account_balance_wallet","autorenew","build","view_list","work","print","store","analytics","delete_forever","today","calendar_month","admin_panel_settings","lock_open","watch_later","grade","update","savings","room","code","receipt","add_shopping_cart","contact_support","power_settings_new","done_all","pets","explore","bookmark","account_box","note_add","reorder","bookmark_border","pending_actions","shopping_basket","payment","launch","drag_indicator","supervisor_account","touch_app","pending","zoom_in","assessment","leaderboard","thumb_up_off_alt","open_in_full","preview","done_outline","exit_to_app","assignment_ind","published_with_changes","card_giftcard","view_in_ar","feedback","work_outline","timeline","swap_horiz","assignment_turned_in","dns","stars","sync_alt","label","flight_takeoff","tips_and_updates","book","contact_page","alarm","space_dashboard","bug_report","cached","gavel","translate","pan_tool","edit_calendar","supervised_user_circle","minimize","extension","accessibility","android","rocket_launch","get_app","question_mark","record_voice_over","add_task","trending_flat","help_center","hourglass_empty","accessibility_new","rule","thumb_down","sticky_note_2","settings_applications","source","dashboard_customize","find_in_page","ads_click","support","flutter_dash","close_fullscreen","redeem","announcement","loyalty","swap_vert","arrow_circle_right","view_headline","restore","dangerous","euro_symbol","group_work","sensors","compare_arrows","subject","table_view","disabled_by_default","privacy_tip","nightlight_round","https","toc","track_changes","arrow_circle_up","bookmarks","copyright","grading","currency_exchange","input","api","perm_media","query_builder","view_module","build_circle","zoom_out","perm_contact_calendar","settings_phone","backup","open_with","circle_notifications","perm_phone_msg","book_online","speaker_notes","label_important","wysiwyg","card_membership","file_present","arrow_circle_down","pageview","3d_rotation","upgrade","integration_instructions","change_history","trending_down","swipe","class","percent","accessible","g_translate","settings_accessibility","expand","offline_bolt","settings_backup_restore","production_quantity_limits","arrow_circle_left","aspect_ratio","model_training","view_column","donut_large","segment","calendar_view_month","schedule_send","alarm_on","maximize","bookmark_add","thumbs_up_down","settings_ethernet","theaters","view_agenda","thumb_down_off_alt","important_devices","unpublished","invert_colors","opacity","commute","open_in_browser","system_update_alt","no_accounts","addchart","history_toggle_off","view_week","youtube_searched_for","tour","shopping_cart_checkout","hide_source","bookmark_added","mark_as_unread","settings_input_antenna","shop","plagiarism","turned_in","search_off","not_started","flight_land","assignment_late","assignment_return","donut_small","saved_search","filter_alt_off","contactless","highlight_alt","hotel_class","settings_input_component","balance","view_carousel","view_quilt","anchor","all_inbox","turned_in_not","mediation","settings_remote","edit_off","hourglass_full","fit_screen","flaky","rocket","toll","remove_shopping_cart","lock_clock","swap_horizontal_circle","settings_voice","view_sidebar","event_seat","online_prediction","vertical_split","next_plan","pregnant_woman","data_exploration","terminal","restore_from_trash","lock_reset","camera_enhance","markunread_mailbox","dynamic_form","tab","calendar_view_week","view_stream","accessible_forward","request_page","token","remove_done","settings_power","smart_button","add_to_drive","card_travel","outbox","try","offline_pin","calendar_view_day","find_replace","density_medium","rowing","compress","chrome_reader_mode","fax","outlet","assignment_returned","http","settings_brightness","add_card","alarm_add","generating_tokens","new_label","backup_table","spellcheck","restore_page","credit_card_off","wifi_protected_setup","play_for_work","free_cancellation","settings_overscan","work_history","123","gif","outbound","disabled_visible","swap_vertical_circle","settings_input_composite","cancel_schedule_send","quickreply","view_day","event_repeat","comment_bank","assured_workload","switch_access_shortcut","display_settings","view_timeline","line_weight","pan_tool_alt","horizontal_split","noise_control_off","webhook","satellite_alt","polymer","batch_prediction","send_and_archive","picture_in_picture","manage_history","code_off","bookmark_remove","settings_bluetooth","shop_two","output","html","flip_to_front","gif_box","eject","speaker_notes_off","alarm_off","perm_data_setting","settings_input_hdmi","perm_scan_wifi","hourglass_disabled","troubleshoot","switch_access_shortcut_add","sensors_off","settings_cell","work_off","app_blocking","picture_in_picture_alt","line_style","perm_device_information","join_full","subtitles_off","update_disabled","app_shortcut","javascript","abc","swipe_left","voice_over_off","private_connectivity","lightbulb_circle","settings_input_svideo","join_inner","flip_to_back","view_array","swipe_right","install_desktop","open_in_new_off","swipe_up","all_out","shop_2","label_off","density_small","tab_unselected","rounded_corner","data_thresholding","text_rotate_vertical","arrow_outward","commit","explore_off","install_mobile","text_rotation_none","view_kanban","not_accessible","css","swipe_down","lock_person","pin_invoke","join_left","extension_off","spatial_audio_off","perm_camera_mic","pinch","swipe_vertical","noise_aware","pin_end","view_cozy","join_right","swipe_right_alt","text_rotate_up","text_rotation_angleup","text_rotation_down","text_rotation_angledown","browse_gallery","php","view_comfy_alt","view_compact_alt","network_ping","swipe_down_alt","add_home","density_large","on_device_training","swipe_left_alt","spatial_tracking","swipe_up_alt","unfold_more_double","spatial_audio","width_full","unfold_less_double","repartition","width_normal","transcribe","width_wide","hls","hls_off","face_unlock","close","close","menu","expand_more","arrow_back","chevron_right","arrow_forward_ios","arrow_back_ios","cancel","arrow_drop_down","more_vert","arrow_forward","chevron_left","expand_less","check","more_horiz","refresh","apps","payments","arrow_upward","east","campaign","arrow_back_ios_new","arrow_downward","arrow_right","menu_open","fullscreen","arrow_drop_up","unfold_more","double_arrow","maps_home_work","west","expand_circle_down","south","arrow_left","north_east","north","home_work","first_page","fullscreen_exit","arrow_drop_down_circle","last_page","unfold_less","subdirectory_arrow_right","legend_toggle","south_east","app_settings_alt","assistant_direction","subdirectory_arrow_left","north_west","waterfall_chart","switch_left","south_west","pivot_table_chart","switch_right","apps_outage","offline_share","add_home_work","person","person","notifications","groups","people","share","school","person_outline","person_add","public","emoji_events","group","engineering","notifications_active","construction","people_alt","group_add","psychology","health_and_safety","thumb_up_alt","travel_explore","water_drop","notifications_none","emoji_emotions","sports_esports","sentiment_very_satisfied","location_city","ios_share","precision_manufacturing","sentiment_satisfied","workspace_premium","person_add_alt","military_tech","science","emoji_objects","history_edu","cake","sentiment_dissatisfied","sentiment_very_dissatisfied","handshake","emoji_people","coronavirus","self_improvement","person_remove","poll","whatshot","sports_soccer","domain","mood","recommend","people_outline","female","recycling","person_off","male","person_add_alt_1","connect_without_contact","sentiment_neutral","back_hand","hiking","waving_hand","architecture","masks","notifications_off","thumb_down_alt","luggage","real_estate_agent","front_hand","vaccines","mood_bad","emoji_nature","switch_account","nights_stay","king_bed","catching_pokemon","interests","compost","sports_basketball","notification_add","diversity_3","sports_kabaddi","sports","emoji_symbols","reduce_capacity","emoji_food_beverage","cruelty_free","man","sick","emoji_transportation","sports_tennis","cookie","heart_broken","transgender","elderly","add_moderator","outdoor_grill","deck","woman","add_reaction","social_distance","personal_injury","follow_the_signs","plus_one","fireplace","wallet","scale","clean_hands","piano","pix","surfing","sanitizer","sports_motorsports","diversity_1","sports_handball","sports_baseball","edit_notifications","hive","sports_volleyball","pages","groups_2","sports_football","downhill_skiing","kayaking","psychology_alt","public_off","single_bed","remove_moderator","group_remove","skateboarding","co2","notifications_paused","boy","person_remove_alt_1","safety_divider","diversity_2","domain_add","fitbit","sports_cricket","group_off","sports_mma","nordic_walking","sports_martial_arts","sports_golf","girl","thunderstorm","paragliding","6_ft_apart","party_mode","snowboarding","kitesurfing","sports_gymnastics","groups_3","face_6","snowshoeing","sports_hockey","ice_skating","south_america","sports_rugby","face_3","elderly_woman","sledding","scoreboard","person_2","face_2","face_4","sign_language","no_luggage","cyclone","person_4","face_5","person_3","piano_off","flood","scuba_diving","severe_cold","tsunami","roller_skating","tornado","landslide","assist_walker","woman_2","man_2","volcano","18_up_rating","blind","no_adult_content","man_4","man_3","add","add","add_circle_outline","content_copy","add_circle","send","clear","save","mail","link","remove","filter_list","inventory_2","inventory","insights","remove_circle_outline","sort","bolt","flag","reply","add_box","remove_circle","push_pin","block","calculate","create","undo","how_to_reg","content_paste","report","file_copy","backspace","shield","archive","save_alt","policy","tag","change_circle","redo","forward","content_cut","outlined_flag","inbox","link_off","ballot","drafts","biotech","report_gmailerrorred","delete_sweep","stacked_bar_chart","markunread","square_foot","add_link","stream","where_to_vote","dynamic_feed","copy_all","move_to_inbox","waves","unarchive","content_paste_search","reply_all","select_all","low_priority","text_format","save_as","font_download","weekend","how_to_vote","upcoming","gesture","attribution","flag_circle","content_paste_go","filter_list_off","next_week","content_paste_off","report_off","web_stories","deselect","font_download_off","edit","edit","navigate_next","photo_camera","image","tune","picture_as_pdf","receipt_long","circle","timer","auto_stories","collections","auto_awesome","navigate_before","add_a_photo","palette","remove_red_eye","music_note","add_photo_alternate","wb_sunny","brush","euro","flash_on","looks_one","auto_fix_high","control_point","style","adjust","straighten","photo_library","camera","portrait","camera_alt","audiotrack","video_camera_front","rotate_right","color_lens","grid_on","crop_free","timelapse","landscape","slideshow","currency_rupee","collections_bookmark","crop_square","lens","panorama_fish_eye","looks_two","filter_vintage","compare","looks_3","filter_drama","image_search","healing","auto_awesome_motion","rotate_left","center_focus_strong","crop","blur_on","wb_incandescent","flare","face_retouching_natural","wb_cloudy","assistant","broken_image","cases","colorize","filter_none","brightness_4","filter_center_focus","crop_original","auto_fix_normal","dehaze","nature_people","photo","flash_off","auto_awesome_mosaic","tag_faces","brightness_6","brightness_5","details","grain","flip_camera_android","brightness_1","flip","loupe","image_not_supported","flip_camera_ios","view_comfy","filter_1","movie_creation","add_to_photos","panorama","bedtime","animation","center_focus_weak","looks_4","movie_filter","crop_din","filter","control_point_duplicate","brightness_7","leak_add","currency_bitcoin","nature","incomplete_circle","texture","view_compact","timer_off","photo_size_select_actual","video_camera_back","transform","currency_yen","motion_photos_on","photo_camera_front","rotate_90_degrees_ccw","looks_5","mic_external_on","gradient","assistant_photo","wb_twilight","currency_pound","contrast","hide_image","music_off","exposure_plus_1","crop_16_9","thermostat_auto","filter_2","shutter_speed","exposure","photo_album","filter_tilt_shift","hdr_strong","looks","vrpano","linked_camera","brightness_3","looks_6","blur_circular","flash_auto","motion_photos_auto","crop_portrait","photo_filter","iso","brightness_2","tonality","photo_size_select_small","filter_hdr","crop_7_5","rotate_90_degrees_cw","crop_rotate","photo_size_select_large","filter_3","exposure_zero","hdr_weak","currency_ruble","camera_front","crop_5_4","filter_frames","burst_mode","camera_roll","logo_dev","filter_b_and_w","blur_linear","crop_3_2","crop_landscape","switch_camera","switch_video","filter_7","exposure_plus_2","filter_4","filter_9_plus","grid_off","wb_iridescent","motion_photos_paused","monochrome_photos","photo_camera_back","filter_5","auto_fix_off","face_retouching_off","exposure_neg_1","panorama_photosphere","filter_8","leak_remove","filter_9","video_stable","timer_10","filter_6","wb_shade","blur_off","motion_photos_off","raw_on","motion_photos_pause","hdr_on","vignette","panorama_horizontal","30fps_select","image_aspect_ratio","dirty_lens","deblur","camera_rear","60fps_select","timer_3","panorama_wide_angle_select","24mp","exposure_neg_2","currency_yuan","currency_lira","autofps_select","panorama_horizontal_select","panorama_photosphere_select","hdr_plus","wb_auto","panorama_wide_angle","panorama_vertical_select","mic_external_off","12mp","panorama_vertical","mp","hdr_enhanced_select","currency_franc","hevc","18mp","10mp","raw_off","23mp","bedtime_off","hdr_off","11mp","20mp","3mp","5mp","13mp","15mp","16mp","21mp","2mp","17mp","14mp","22mp","19mp","9mp","4mp","7mp","8mp","6mp","email","email","location_on","call","phone","business","chat","mail_outline","list_alt","qr_code_scanner","vpn_key","chat_bubble_outline","alternate_email","forum","chat_bubble","textsms","contact_mail","person_search","sentiment_satisfied_alt","qr_code","qr_code_2","message","contacts","comment","key","import_contacts","app_registration","contact_phone","import_export","live_help","forward_to_inbox","hourglass_bottom","hourglass_top","rss_feed","mark_email_read","hub","read_more","document_scanner","more_time","mark_email_unread","call_end","clear_all","dialpad","phone_enabled","mark_chat_unread","cancel_presentation","3p","call_made","screen_share","call_split","unsubscribe","present_to_all","domain_verification","mark_chat_read","add_ic_call","co_present","phonelink_ring","stay_current_portrait","call_received","phonelink_lock","phone_disabled","ring_volume","location_off","phonelink_setup","duo","cell_tower","stay_primary_portrait","swap_calls","voicemail","call_merge","mobile_screen_share","phonelink_erase","person_add_disabled","domain_disabled","call_missed_outgoing","speaker_phone","spoke","cell_wifi","desktop_access_disabled","stop_screen_share","print_disabled","call_missed","mark_unread_chat_alt","pause_presentation","dialer_sip","invert_colors_off","comments_disabled","contact_emergency","wifi_calling","rtt","portable_wifi_off","send_time_extension","mail_lock","stay_current_landscape","sip","nat","stay_primary_landscape","no_sim","key_off","vpn_key_off","local_shipping","local_shipping","place","menu_book","local_offer","badge","map","category","restaurant","directions_car","local_fire_department","volunteer_activism","my_location","flight","local_mall","near_me","handyman","directions_run","restaurant_menu","layers","medical_services","directions_walk","lunch_dining","local_hospital","celebration","local_library","pin_drop","park","local_atm","local_activity","person_pin","design_services","local_cafe","rate_review","delivery_dining","directions_bus","local_police","directions_bike","fastfood","directions_car_filled","home_repair_service","zoom_out_map","hotel","cleaning_services","local_phone","local_grocery_store","miscellaneous_services","navigation","local_gas_station","train","person_pin_circle","local_parking","local_florist","diamond","local_post_office","money","directions","two_wheeler","factory","add_business","traffic","electrical_services","local_bar","route","directions_boat","alt_route","agriculture","pedal_bike","beenhere","360","warehouse","liquor","emergency","moving","local_airport","sailing","add_location_alt","local_dining","maps_ugc","local_taxi","ramen_dining","trip_origin","hail","local_drink","local_laundry_service","directions_bus_filled","local_printshop","theater_comedy","local_pizza","not_listed_location","add_location","transfer_within_a_station","dinner_dining","bakery_dining","forest","wine_bar","terrain","multiple_stop","takeout_dining","store_mall_directory","icecream","museum","nightlife","local_pharmacy","hardware","add_road","departure_board","set_meal","ev_station","local_see","electric_car","festival","plumbing","layers_clear","car_rental","attractions","edit_location","local_convenience_store","zoom_in_map","pest_control","medical_information","dry_cleaning","run_circle","edit_road","edit_attributes","edit_location_alt","church","moped","wrong_location","car_repair","local_movies","satellite","directions_boat_filled","tram","soup_kitchen","taxi_alert","breakfast_dining","signpost","atm","subway","transit_enterexit","straight","merge","brunch_dining","hvac","electric_bike","directions_transit","crisis_alert","electric_scooter","connecting_airports","bus_alert","egg","local_car_wash","local_hotel","mode_of_travel","stadium","castle","streetview","safety_check","directions_subway","car_crash","mosque","compass_calibration","electric_rickshaw","turn_right","airline_stops","directions_railway","no_meals","fork_right","railway_alert","electric_moped","local_play","bike_scooter","no_crash","turn_left","airlines","pest_control_rodent","near_me_disabled","snowmobile","u_turn_left","directions_transit_filled","egg_alt","no_transfer","file_download","play_arrow","star","warning","support_agent","attach_money","keyboard_arrow_down","light_mode","storefront","manage_search","sensor_door"].sort(),supportedColors:["primary","secondary","accent","dark","positive","negative","info","warning"]};function Ce(){return je}function De(e){r["a"].get("data/blockDefinitions.json").then(t=>{je=t.data,Se(),Pe(),e(je)}).catch(e=>{console.error("Error loading block definitions: ",e)})}function Se(){je=je.filter(e=>e.enabled),je.forEach(e=>{let t=e.properties.findIndex(e=>"v-model"==e.name);t>-1&&e.properties.splice(t,1);let a=e.properties.findIndex(e=>"model-value"==e.name);a>-1&&(e.properties[a].name="v-model",e.properties[a].label="Data Binding"),(e.content.indexOf("v-on:click")>-1||e.content.indexOf("v-model")>-1)&&(e.content=e.content.replace('v-on:click="-"','v-on:click=""'),e.content=e.content.replace('v-model="-"','v-model=""')),e.properties.push({name:"v-if",label:"Condition (if)",type:"Boolean",uitype:"String",desc:'Defines a conditional which, when true, will show the element in the document.\nYou can use JS code, i.e. "value > 10"'}),e.properties.push({name:"v-else-if",label:"Condition (else-if)",type:"Boolean",uitype:"String",desc:'Defines a conditional which, when true, will show the element in the document.\nYou can use JS code, i.e. "value > 10"'}),e.properties.push({name:"v-else",label:"Condition (else)",type:"Boolean",uitype:"String",desc:'Defines a conditional which, when previous if/else-if statements are false, will show the element in the document."'}),e.properties.push({name:"v-for",label:"Loop (for)",type:"Array",desc:"Sets the element to iterate over a list of values, producing multiple instances.\nYou can declare iterator values pointing to the list elements and indexes, and use them in other props.\nI.e.: \n- item in list\n- (item, index) in list"});let n=e.properties;n.forEach(e=>{for(let t in e){let a=e[t];if("string"==typeof a&&0==a.indexOf("${")){let n=a.slice(2,-1),o=xe[n];e[t]=o}Array.isArray(a)&&(e[t]=a[0])}})})}function Pe(){je.push({type:"tempplaceholder",label:"Temp PlaceHolder",tagName:"TEMPPLACEHOLDER",content:"<tempplaceholder>TEMP Place holder</tempplaceholder>",properties:[],droppable:!1,editable:!1,draggable:!0}),oe.forEach(e=>{let t=btoa(JSON.stringify([e.traceTemplate])),a=e.traceLayout,n=a?btoa(JSON.stringify(a)):"eyJ0aXRsZSI6Ik15IENoYXJ0In0=";je.push({type:"plotly",label:e.id,tagName:"PLOTLY",category:"Charts",content:`<plotly gb_c__data="${t}" gb_c__layout="${n}" gb_c__config="e30="></plotly>`,renderContent:'<img src="img/block_icons/areaChart.png" />',icon:e.icon+".png",proRequired:e.proRequired,properties:[{label:"Data",name:"data",type:"PlotlyBase.GenericTrace"},{label:"Layout",name:"layout",type:"PlotlyBase.Layout"},{label:"Config",name:"config",type:"Object"}]})})}function Te(){null==we&&(we=Ce(),ke={},we.forEach(e=>{ke[e.tagName]=e}))}class Le{constructor(){throw new Error("HtmlTemplateParser is a static class and cannot be instantiated")}static replaceSpecialElements(e){return e.replace(/<%/g,"<JULIA_CODE>").replace(/%>/g,"</JULIA_CODE>")}static restoreSpecialElements(e){return e.replace(/<JULIA_CODE>/gi,"<% ").replace(/<\/JULIA_CODE>/gi," %>")}static encodeAttributesInDOM(e){if(!(e instanceof Node))throw new Error("Element is not a Node");Le.replaceElementAttributes(e);for(let t=0;t<e.childNodes.length;t++)Le.encodeAttributesInDOM(e.childNodes[t])}static parseVFor(e){const t=/^\s*\(?([^)]+)\)?\s+in\s+(\S+)\s*$/,a=e.match(t);if(a){let e=a[1].replace(/\s/g,"");const t=/{([^}]+)}/g,n=/\[([^\]]+)\]/g;let o,l=[];while(null!==(o=t.exec(e)))l.push(...o[1].split(","));while(null!==(o=n.exec(e)))l.push(...o[1].split(","));e=e.replace(t,"").replace(n,"").split(",").filter(e=>e);const i=[...l,...e],r=a[2];return{variables:i,iterated:r}}return null}static extractVforVariablesAncestors(e){let t=[],a=e,n=!1,o=1e3,l=0;try{while(!n){let e=a.getAttributeNames();if(e.includes("gb_c__v-for")){let e=a.getAttribute("gb_c__v-for"),n=Le.parseVFor(e).variables;n.forEach(e=>{0==t.includes(e)&&t.push(e)})}let i="gbTemplateContainer"==a.parentElement.id||"BODY"==a.parentElement.tagName;l>=o||i?n=!0:(l++,a=a.parentElement)}}catch(i){console.error("Error retrieving v-for variables recursively: ",i)}return t}static replaceElementAttributes(e){Te();let t=window.sharedData.modelFieldsByName,a="gb_",n=a+"c__",o=a+"b__",l=["v-model","v-bind","v-on:click","v-for","v-if","v-else-if","v-else","v-html"],i=["class","style","id"],r=e.nodeName,s=ke[r];if(!s)return;let c=s.properties,d=e.getAttributeNames(),p=Le.extractVforVariablesAncestors(e);d.forEach(a=>{if(i.indexOf(a)>-1)return;let r=a.startsWith(":"),s=r?a.slice(1):a,d=r||l.some(e=>0===a.indexOf(e)),u=e.getAttribute(a),b=c.find(e=>e.name===s),m=null!=t[u],g=p.includes(u);b&&(d?m||g?e.setAttribute(o+s,u):e.setAttribute(n+s,u):""==u?e.setAttribute(n+s,"true"):e.setAttribute(n+s,u),e.removeAttribute(a))})}static revertElementAttributes(e){Te();let t="gb_",a=t+"c__",n=t+"b__",o=e.nodeName,l=ke[o];if(!l)return;let i=l.properties,r=e.getAttributeNames();r.forEach(t=>{let l=e.getAttribute(t);if(t.startsWith(a)){let n=t.replace(a,""),r=i.find(e=>e.name===n);if(!r)throw new Error("Attribute definition not found for: "+n);let s=r.type;"PLOTLY"==o&&["data","layout","config"].includes(n)||"String"==s||n.startsWith("v-on:")||"v-for"==n||"v-if"==n||"v-else-if"==n||"v-else"==n||"v-html"==n||(n=":"+n),e.setAttribute(n,l),e.removeAttribute(t)}else if(t.startsWith(n)){let a=t.replace(n,""),o="v-model"===a||a.startsWith("v-on:")||"v-for"==a||"v-if"==a||"v-else-if"==a||"v-else"==a||"v-html"==a?"":":";e.setAttribute(o+a,l),e.removeAttribute(t)}})}static decodeAttributesInDOM(e,t=!1){let a=e.querySelectorAll("*");a.forEach(e=>{Le.revertElementAttributes(e),t&&Le.decodeAttributesInDOM(e,t)})}static guessDataType(e){return"number"===typeof e||/^-?\d*\.?\d+$/.test(e)?"Number":"true"===e||"false"===e||"boolean"===typeof e?"Boolean":Array.isArray(e)||/^\[.*\]$/.test(e)?"Array":"String"}static removeInvalidNodes(e){const t=new DOMParser,a=t.parseFromString(e,"text/html"),n=e=>e.nodeType===Node.TEXT_NODE&&!/\S/.test(e.nodeValue),o=["template"],l=e=>o.includes(e.nodeName.toLowerCase()),i=e=>{const t=Array.from(e.childNodes);t.forEach(t=>{n(t)||l(e)?e.removeChild(t):i(t)})};i(a.body);const r=new XMLSerializer,s=r.serializeToString(a.body);return s.replace(/^<body>|<\/body>$/g,"")}static generateBlocksMandatoryProperties(){let e={};return we.forEach(t=>{let a=e[t.type]={type:t.type,mandatoryProperties:[]},n=t.content,o=new DOMParser,l=o.parseFromString(n,"text/html"),i=l.body.firstChild;for(let e=0;e<i.attributes.length;e++){let t=i.attributes[e],n=t.name;n=t.name.replace("gb_b__v-on:","v-on:"),n=n.replace("gb_b__v-model","v-model"),n=n.replace("gb_b__",":"),n=n.replace("gb_c__",""),a.mandatoryProperties.push({name:n,value:t.value})}}),console.log(e),e}static addMandatoryProperties(e,t){let a=new DOMParser,n=a.parseFromString(e,"text/html"),o=n.body;function l(e){if(1==e.nodeType){let a=e.tagName.toLowerCase();if(t[a]){let n=t[a];n.mandatoryProperties.forEach(t=>{e.getAttribute(t.name)||e.getAttribute(":"+t.name)||e.setAttribute(t.name,t.value)})}e.childNodes.forEach(e=>l(e))}}return l(o),o.innerHTML}static cleanNodes(e){let t=new DOMParser,a=t.parseFromString(e,"text/html"),n=a.body;return n.innerHTML}static cleanNodes(e){if(1!=e.nodeType)return;let t=e.tagName.toLowerCase();switch(t){case"q-badge":e.innerHTML="";break;case"q-table":let t=e.getAttribute(":columns");t&&(t.startsWith("{")||t.startsWith("[")?e.removeAttribute(":columns"):t.endsWith(".columns")||e.setAttribute(":columns",t+".columns"));let a=e.getAttribute(":data"),n=e.getAttribute(":rows");a?a.startsWith("{")||a.startsWith("[")?(e.removeAttribute(":data"),isRemoved=!0):a.endsWith(".data")||e.setAttribute(":data",a+".data"):n&&(n.startsWith("{")||n.startsWith("[")||n.endsWith(".data")||e.setAttribute(":data",n+".data"),e.removeAttribute(":rows"));break;default:break}for(let a=0;a<e.attributes.length;a++){let t=e.attributes[a],n=t.name,o=t.value,l=["v-on:click","@click"];l.includes(n)&&""==o&&e.setAttribute(n,"undefined");let i=["v-model"];i.includes(n)&&""==o&&e.setAttr(n)}e.childNodes.forEach(e=>Le.cleanNodes(e))}static cleanHtml(e){let t=new DOMParser;e=Le.removeInvalidNodes(e);let a=t.parseFromString(e,"text/html"),n=a.body;Le.cleanNodes(n);const o=new XMLSerializer;e=o.serializeToString(a.body);let l=Le.generateBlocksMandatoryProperties();return e=Le.addMandatoryProperties(e,l),e}}const Ue=e=>(Object(n["J"])("data-v-5ea3bfd2"),e=e(),Object(n["H"])(),e),Ae={style:{height:"100%"}},Ie=Ue(()=>Object(n["k"])("div",{id:"gjs",style:{height:"300px"}},null,-1)),Ee={id:"customLibrary",style:{display:"none"}},Re={class:"blocks"},Ne=["onMousedown"],Me={class:"block-label"},Ge={key:0,id:"canvasBlockerPreloader"},He=Ue(()=>Object(n["k"])("div",null,"Updating UI, please wait...",-1)),Be=Ue(()=>Object(n["k"])("div",null,[Object(n["k"])("img",{src:"img/icons/loading_58.svg",alt:"Loading",style:{position:"relative",bottom:"0",right:"0",width:"58px",height:"58px"}})],-1)),qe=[He,Be],Fe={key:1,id:"canvasBlockerDialog"},ze=Ue(()=>Object(n["k"])("div",{style:{"margin-bottom":"5px"}},"AI Code Assistant changes applied!",-1));var Ve={__name:"CanvasPanel",props:["appData"],emits:["componentSelected","bindingDroppedOnComponent","saveTriggered","autoSaveTriggered"],setup(e,{expose:t,emit:a}){const o=e;window.HtmlTemplateParser=Le;let l=Object(n["L"])(o.appData.pages[y.currentPageIndex].model.fields),i={};l.value.forEach(e=>{i[e.name]=e});let s=blockDefinitions.map(e=>{let t={type:e.type,label:e.label,tagName:e.tagName,id:e.type,category:e.category,content:e.content,droppable:e.droppable,draggable:e.draggable,editable:e.editable,activate:!0};return t});window.selectedComponent=null;let c=Object(n["L"])(null),d=Object(n["L"])(null),p=Object(n["L"])({}),u=Object(n["L"])(null),b=Object(n["L"])("hidden");function m(e){const t=editor.UndoManager;t.undo(),window.logUserEvent("ai-code-panel::revert",{}),editor.setComponents(window.lastHtmlBeforeAiReplace),b.value="hidden",a("saveTriggered")}function g(){window.logUserEvent("ai-code-panel::accept",{}),b.value="hidden",a("saveTriggered")}function f(e){e&&(editor.getSelected().remove(),window.selectedComponent=null,editor.select(null)),c.value=null}function _(e){if(editor.select(e),"tempplaceholder"==e.attributes.tagName){var t;let n=e.view.$el[0].parentNode,o=null===(t=n.grapesModel)||void 0===t?void 0:t.attributes.type;"plotly"==o&&e.attributes.attributes.bindingname&&e.attributes.attributes.datatype?a("bindingDroppedOnComponent",{newComponentModel:e,targetModel:n.grapesModel,bindingInfo:e.attributes.attributes}):h(e.attributes.attributes.bindingname,e.attributes.attributes.datatype)}}function h(e,t){let a=blockDefinitions,n=[];a.forEach(e=>{let a=e.type,o=e.properties,l=o.filter(e=>{let a=e.type==t,n="v-model"==e.name;return a&&n}).map(e=>e.name);l.length>0&&l.includes("v-model")&&n.push({type:a,label:e.label,content:e.content,matchingProperties:l,proRequired:e.proRequired}),("DataFrames.DataFrame"==t&&"plotly"==a||"DataTable.DataFrames.DataFrame"==t&&"q-table"==a)&&n.push({type:a,label:e.label,content:e.content,icon:e.icon,matchingProperties:["data"],proRequired:e.proRequired})}),c.value={components:n,bindingname:e,datatype:t}}window.sharedData={externalData:null,setExternalData:function(e){for(let a in e)this.externalData[a]=e[a];const t=new CustomEvent("sharedDataChanged",{detail:this.externalData});for(let a in window.canvasComponents){let e=window.canvasComponents[a];null!=e&&e.onExternalDataChanged&&e.onExternalDataChanged(t)}}},window.sharedData.externalData={initialProperty:"initialValue"},window.sharedData.getComponentDefinitionByType=w,window.sharedData.modelFieldsByName=i;let v,O,j=y.getAppBaseUrl("ws",y.appport);function w(e){let t=blockDefinitions,a=t.find(t=>t.type.toLowerCase()==e.toLowerCase());return a}function k(e,t){p.value[e]=t,window.sharedData.setExternalData(p.value)}function x(e,t={}){let a=JSON.stringify({channel:y.CHANNEL__,message:e,payload:t});v.send(a)}function C(){let e=JSON.stringify({channel:"autoreload",message:"subscribe",payload:{}});v.send(e)}function D(){return v=new WebSocket(j),v.addEventListener("open",e=>{x("subscribe"),C()}),v.addEventListener("message",e=>{if("Subscription: OK"!=e.data){if(0==e.data.indexOf("{")){let t=JSON.parse(e.data);null!=t.key&&k(t.key,t.value)}}else x("watchers",{payload:{field:"isready",newval:!0,oldval:!1}})}),v.addEventListener("close",e=>{}),v.addEventListener("error",e=>{}),v}function S(e,t){var a=document.createElement("script");a.src=e,a.onload=()=>t(e),a.onerror=()=>console.error("Error loading script: "+e),document.head.appendChild(a)}function P(){let e=o.appData.pages[y.currentPageIndex].deps.scripts,t=y.getAppAssetsBaseUrl("http",o.appData.port);"/"==t[t.length-1]&&(t=t.substring(0,t.length-1));let a=["assets/js/vue.js","assets/js/channels.js","assets/js/stipplecore.js","assets/js/watchers.js"],n=[];e.forEach(e=>{let o=t+e;e.endsWith("_reactivemodel.js")?n.push(o):a.forEach(t=>{e.indexOf(t)>-1&&n.push(o)})}),window.autorun=!1;let l=0;n.forEach(e=>{S(e,(function(){l++,l===n.length&&(initStipple("#Main_App_varMain_App_ReactiveModel"),window.sharedData.setExternalData(window.GENIEMODEL._data),D(),T())}))})}function T(){let e=o.appData.pages[y.currentPageIndex].deps.scripts,t=y.getAppAssetsBaseUrl("http",o.appData.port);"/"==t[t.length-1]&&(t=t.substring(0,t.length-1));let n=["assets/js/channels.js","assets/js/watchers.js","assets/js/keepalive.js","assets/js/syncplot.js","assets/js/autoreload.js","assets/js/main_app_varmain_app_reactivemodel.js"],l=[];e.forEach(e=>{let a=!1;if(n.forEach(t=>{e.indexOf(t)>-1&&(a=!0)}),!a){let a=t+e;l.push(a)}});let i=[];i.push("https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons"),o.appData.pages[y.currentPageIndex].deps.styles.forEach(e=>{let a=t+e;i.push(a)});let c=o.appData.pages[y.currentPageIndex].assets;if(c&&c.includes("public/css/theme.css")){let e=y.getAppBaseUrl("http",y.appport);i.push(e+"css/theme.css")}c.forEach(e=>{if(e.endsWith(".css")&&!e.endsWith("theme.css")&&!e.endsWith("autogenerated.css")){let a=t+e.split("public/").join("/");i.push(a)}}),o.appData.pages[y.currentPageIndex].assets.forEach(e=>{if(e.endsWith(".css"));else if(e.endsWith(".js")){let a=t+e.split("public/").join("/");l.push(a)}}),l.push("data/contentMain.js"),i.push("data/grapesCanvas.css"),window.customComponentsCssPaths&&window.customComponentsCssPaths.forEach(e=>{i.push(e)});const p=window.editor=grapesjs.init({container:"#gjs",fromElement:!0,storageManager:!1,canvas:{scripts:l,styles:i},i18n:{locale:"en",detectLocale:!1,messages:{en:{domComponents:{names:{div:"Div"}}}}},layerManager:{root:"#gbTemplateContainer",appendTo:"#layersContainer",sortable:!0,hidable:!0},blockManager:{custom:!0,blocks:s},styleManager:{appendTo:"#myStyleEditorContainerSections",sectors:[{name:"General",properties:[{extend:"float",type:"radio",default:"none",options:[{value:"none",className:"fa fa-times"},{value:"left",className:"fa fa-align-left"},{value:"right",className:"fa fa-align-right"}]},"display",{extend:"position",type:"select"},"top","right","left","bottom"]},{name:"Dimension",open:!1,properties:["width",{id:"flex-width",type:"integer",name:"Width",units:["px","%"],property:"flex-basis",toRequire:1},"height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height",{extend:"text-align",options:[{id:"left",label:"Left",className:"fa fa-align-left"},{id:"center",label:"Center",className:"fa fa-align-center"},{id:"right",label:"Right",className:"fa fa-align-right"},{id:"justify",label:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",default:"none",options:[{id:"none",label:"None",className:"fa fa-times"},{id:"underline",label:"underline",className:"fa fa-underline"},{id:"line-through",label:"Line-through",className:"fa fa-strikethrough"}]},"text-shadow"]},{name:"Decorations",open:!1,properties:["opacity","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]},{name:"Flex",open:!1,properties:[{name:"Flex Container",property:"display",type:"select",defaults:"block",list:[{value:"block",name:"Disable"},{value:"flex",name:"Enable"}]},{name:"Flex Parent",property:"label-parent-flex",type:"integer"},{name:"Direction",property:"flex-direction",type:"radio",defaults:"row",list:[{value:"row",name:"Row",className:"icons-flex icon-dir-row",title:"Row"},{value:"row-reverse",name:"Row reverse",className:"icons-flex icon-dir-row-rev",title:"Row reverse"},{value:"column",name:"Column",title:"Column",className:"icons-flex icon-dir-col"},{value:"column-reverse",name:"Column reverse",title:"Column reverse",className:"icons-flex icon-dir-col-rev"}]},{name:"Justify",property:"justify-content",type:"radio",defaults:"flex-start",list:[{value:"flex-start",className:"icons-flex icon-just-start",title:"Start"},{value:"flex-end",title:"End",className:"icons-flex icon-just-end"},{value:"space-between",title:"Space between",className:"icons-flex icon-just-sp-bet"},{value:"space-around",title:"Space around",className:"icons-flex icon-just-sp-ar"},{value:"center",title:"Center",className:"icons-flex icon-just-sp-cent"}]},{name:"Align",property:"align-items",type:"radio",defaults:"center",list:[{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]},{name:"Flex Children",property:"label-parent-flex",type:"integer"},{name:"Order",property:"order",type:"integer",defaults:0,min:0},{name:"Flex",property:"flex",type:"composite",properties:[{name:"Grow",property:"flex-grow",type:"integer",defaults:0,min:0},{name:"Shrink",property:"flex-shrink",type:"integer",defaults:0,min:0},{name:"Basis",property:"flex-basis",type:"integer",units:["px","%",""],unit:"",defaults:"auto"}]},{name:"Align",property:"align-self",type:"radio",defaults:"auto",list:[{value:"auto",name:"Auto"},{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]}]}]},selectorManager:{appendTo:"#myStyleEditorContainerClasses",componentFirst:!0},plugins:["grapesjs-plugin-ckeditor"],pluginsOpts:{"grapesjs-plugin-ckeditor":{options:{toolbar:[{name:"undo",items:["Undo","Redo"]},{name:"styles",items:["Font","FontSize"]},["Bold","Italic","Underline","Strike"],{name:"links",items:["Link","Unlink"]},{name:"colors",items:["TextColor","BGColor"]}]}}}}),{Panels:u}=p;u.getButton("views","open-blocks").set("active",!1);let b=!1;p.runCommand("sw-visibility"),p.on("rte:enable",()=>{setTimeout(()=>{p.trigger("frame:scroll")},1e3)}),p.on("component:add",e=>{"true"==e.attributes.attributes.iscomposite?(b=!0,setTimeout(()=>{b=!1,_(e),a("componentSelected",e),m()},200)):b||(_(e),m())}),p.on("component:remove",e=>{"true"==e.attributes.attributes.iscomposite?(b=!0,setTimeout(()=>{b=!1,a("componentSelected",null),m()},200)):b||(a("componentSelected",null),m())}),p.Commands.add("edit-child-elements",{run(e,t){mainController.value.startEditingComponentContent()}}),p.on("component:selected",e=>{var t;const n=p.getSelected();let o=null===(t=w(e.attributes.type))||void 0===t?void 0:t.nestable;if(n&&o){const e=n.get("toolbar")||[];let t=e.find(e=>"edit-child-elements"==e.command);t||(e.push({attributes:{class:"editChildElementsIcon",title:"Edit Child Elements"},command:"edit-child-elements"}),n.set("toolbar",e))}b||a("componentSelected",e)}),p.on("component:update",e=>{m()}),p.on("component:styleUpdate",e=>{m()}),p.on("property:compAdd:",e=>{m()}),p.on("property:compRemove:",e=>{m()}),p.on("property:compUpdate:",e=>{m()});let m=ne.a.debounce((function(){a("autoSaveTriggered")}),1e4);p.on("canvas:dragdata",(e,t,a)=>{if(e){let a=e.getData("text");a=JSON.parse(a),"binding"==a.objectType&&(t.content=`<tempplaceholder style="padding:10px;" bindingname="${a.bindingname}" datatype="${a.datatype}">{{ ${a.bindingname} }}</tempplaceholder>`)}else t.content=t.content.content}),p.DomComponents.addType("julia_code",{model:{defaults:{tagName:"julia_code",editable:!0,droppable:!1}},view:{events:{dblclick:"onActive",focusout:"onDisable"},onActive(){this.el.contentEditable=!0},onDisable(){const{el:e,model:t}=this;e.contentEditable=!1,t.set("content",e.innerHTML)}}}),p.DomComponents.addType("template",{isComponent:function(e){if("TEMPLATE"==e.tagName)return{type:"template",name:"Template",components:e.innerHTML}},model:{defaults:{tagName:"template",droppable:!0}},view:{onRender(){const{el:e,model:t}=this}}}),Object(Oe["registerPlotlyComponent"])(p),p.DomComponents.addType("row-div",{isComponent:e=>"DIV"===e.tagName&&e.classList.contains("row"),model:{defaults:{tagName:"div",classes:["row"],droppable:function(e){return!e.view.$el[0].classList.contains("row")}}},view:{}}),blockDefinitions.forEach(e=>{L(e)});let g=o.appData.pages[0].assets,f=g.find(e=>e.indexOf("autogenerated.css")>-1);if(f){let e=window.apibase+"apps/"+y.appid+"/edit?path="+encodeURIComponent(f);r["a"].get(e).then(e=>{p.setComponents(d.value),p.setStyle(e.data.content)}).catch(e=>{console.log("error loading autogenerated styles",e)})}else p.setComponents(d.value)}function L(e){const t=["plotly","tempplaceholder"];if(t.includes(e.type))return;const a=["H1","H2","H3","H4","H5","H6","P","SPAN","A"];a.includes(e.tagName)||(void 0!=e.attributeMatch||a.includes(e.type)?editor.DomComponents.addType(e.type,{isComponent:t=>{if(t.tagName==e.tagName&&t.hasAttribute(e.attributeMatch))return{type:e.type,name:e.label}},model:{defaults:{draggable:e.draggable,droppable:e.droppable,editable:e.editable,isComposite:e.isComposite}}}):editor.DomComponents.addType(e.type,{isComponent:t=>{if(t.tagName==e.tagName)return{type:e.type,name:e.label}},model:{defaults:{draggable:e.draggable,droppable:e.droppable,editable:e.editable,isComposite:e.isComposite,script:function(){var e=window.parent.sharedData.externalData;let t=this.attributes.id.nodeValue;function a(e){let t={},a=Object.getOwnPropertyNames(e);return a.forEach(a=>{let n=(e[a],e[a]);t[a]=n}),t}if(window.parent.addCanvasComponent(t,this),!this.grapesModel)return;let n=a(this.grapesModel.attributes.attributes);this.onExternalDataChanged=t=>{e=t.detail,n=a(this.attributes),this.vueApp.updateServerData(e)};let o=this.grapesModel.attributes.tagName,l=(this.grapesModel.attributes.attributes,window.parent.sharedData.getComponentDefinitionByType),i=window.parent.sharedData.modelFieldsByName,r=l(o);Vue.config.warnHandler=(e,a,n)=>{let o=document.getElementById(t);o.innerHTML=`<div class="componentError"><b style="font-size: 1.2em;">${r.label}</b><br/>${e}</div>`},Stipple.init({theme:"stipple-blue"}),this.vueApp=new Vue({el:"#vueinternal_"+t,data:function(){let t=e;return t.attributes=n,t.serverData=e,t},computed:{parsedAttributes(){let e={},t=this.attributes;for(let a in t){let n=":"==a[0]?a.substring(1):a,o=r.properties.find(e=>e.name==n),l=t[a],s=null!=i[l];"v-model"!=n?o?s?e[":"+n]=this.serverData[l]:"String"==o.type?e[""+n]=l:e[":"+n]=l:e[""+n]=l:e["v-model"]=this.serverData[l]}return e}},methods:{updateServerData(e){this.serverData=e},updateAttributes(e){this.attributes=a(e),n=this.attributes,this.updateServerData(this.serverData),this.$forceUpdate()}},mounted(){}})}},init(){this.listenTo(this,"change:attributes",this.onAttributeChange)},handleAttrChange(){},render:function(){this.view.onRender()},removed(){window.parent.postMessage({command:"removeCanvasComponent",uid:this.ccid},"*")}},view:{onAttributeChange(){},onRender(){var e;const{el:t,model:a}=this;let n=t.attributes.id.nodeValue;t.grapesModel=a;let o=t.grapesModel.attributes.tagName,l=t.grapesModel.attributes.attributes,r=w(o),s=`<div id="vueinternal_${n}" style="position: relative;">\n              <${o} `;for(let d in l){let e=d;0!=e.indexOf("gb_c__")&&0!=e.indexOf("gb_b__")||(e=e.substring(6));let t=r.properties.find(t=>t.name==e),a=l[d],n=null!=i[a];if(!n&&a.indexOf(".")>-1){let e=a.split("."),t=e[0],o=i[t];o&&"DataTable.DataFrames.DataFrame"==o.type&&o.props&&o.props.includes(e[1])&&(n=!0)}"v-model"!=e?t?n?s+=`:${e}="serverData.${a}" `:("q-img"!=r.type||"src"!=e||"String"!=t.type||a.startsWith("http")||(a=a.startsWith("/")?appBasePath+a:appBasePath+"/"+a),"v-if"==e||"v-for"==e||("String"==t.type||0==e.indexOf("v-on")?s+=`${e}="${a}" `:s+=`:${e}="${a}" `)):s+=`${e}="${a}" `:s+=""==a?'v-model="serverData.none" ':`v-model="serverData.${a}" `}s+=">";let c=null===(e=w(o))||void 0===e?void 0:e.nestable;if(c)if("q-tab-panels"==o||"q-tab-panel"==o||"q-card"==o||"q-card-section"==o){let e=a.getInnerHTML();const t=new DOMParser,n=t.parseFromString(e,"text/html"),o=n.body;Le.decodeAttributesInDOM(o),s+=o.innerHTML}else{let e=t.innerHTML;if(""!=e){const t=new DOMParser,a=t.parseFromString(e,"text/html"),n=a.body;n.children.forEach(e=>{Le.decodeAttributesInDOM(e);let t=e.innerHTML;s+=t})}}s+=`</${o}>\n              </div>\n            `,t.innerHTML=s}}}))}function U(e){b.value=e}function A(e){if("canvasBlocker"!=e.target.id)return;const t=document.getElementById("canvasBlockerDialog");t.classList.add("shake-effect"),t.addEventListener("animationend",()=>{t.classList.remove("shake-effect")},{once:!0})}function I(e){p.value=e}function E(e){e=Le.removeInvalidNodes(e),e=Le.replaceSpecialElements(e);let t=`\n    <div class="container layoutMockRoot" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n      <div class="row layoutMockRow" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n        <div class="col-12 layoutMockCol" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-droppable="false">\n          <div id="gbTemplateContainer" class="container" data-gjs-removable="false" data-gjs-draggable="false" data-gjs-type="default">\n            ${e}\n          </div>\n        </div>\n      </div>\n    </div>`;const a=new DOMParser,n=a.parseFromString(t,"text/html"),o=n.body;Le.encodeAttributesInDOM(o);const l=o.innerHTML;d.value=l,P()}return Object(n["D"])(()=>{}),t({updateReactiveModel:I,updateTemplateFile:E,showAiCodePreview:U}),(e,t)=>{const a=Object(n["O"])("vscode-button");return Object(n["G"])(),Object(n["j"])("div",Ae,[Ie,Object(n["U"])(c)?(Object(n["G"])(),Object(n["h"])(ve,{key:0,onCloseDialog:f,appData:o.appData,componentPlaceHolderData:Object(n["U"])(c)},null,8,["appData","componentPlaceHolderData"])):Object(n["i"])("",!0),Object(n["k"])("div",Ee,[Object(n["l"])(" Custom Blocks "),Object(n["k"])("div",Re,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(Object(n["U"])(s),e=>(Object(n["G"])(),Object(n["j"])("div",{class:"block",key:e.id,onMousedown:t=>Object(n["U"])(O)(e)},[Object(n["k"])("div",Me,Object(n["R"])(e.label),1)],40,Ne))),128))])]),"hidden"!=Object(n["U"])(b)?(Object(n["G"])(),Object(n["j"])("div",{key:1,id:"canvasBlocker",ref_key:"canvasBlocker",ref:u,onClick:A},["loading"==Object(n["U"])(b)?(Object(n["G"])(),Object(n["j"])("div",Ge,qe)):Object(n["i"])("",!0),"ready"==Object(n["U"])(b)?(Object(n["G"])(),Object(n["j"])("div",Fe,[ze,Object(n["m"])(a,{onClick:m,style:{width:"100px !important","margin-right":"10px","background-color":"#aaa"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Revert")]),_:1}),Object(n["m"])(a,{onClick:g,style:{width:"100px !important"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Keep")]),_:1})])):Object(n["i"])("",!0)],512)):Object(n["i"])("",!0)])}}},$e=(a("2d89"),a("4255"),a("eaac")),We=a("429b"),Je=a("068f"),Qe=a("adad"),Ye=a("823b"),Xe=a("f09f"),Ze=a("a370"),Ke=a("93dc"),et=a.n(Ke);const tt=U()(Ve,[["__scopeId","data-v-5ea3bfd2"]]);var at=tt;et()(Ve,"components",{QTable:$e["a"],QTabs:We["a"],QImg:Je["a"],QTabPanels:Qe["a"],QTabPanel:Ye["a"],QCard:Xe["a"],QCardSection:Ze["a"]});const nt=e=>(Object(n["J"])("data-v-2c25d534"),e=e(),Object(n["H"])(),e),ot={style:{"max-height":"100%","overflow-y":"auto","margin-top":"10px","user-select":"none","flex-grow":"1"}},lt={style:{display:"flex","flex-wrap":"wrap",gap:"5px","flex-direction":"column"}},it={style:{"font-weight":"bold","margin-bottom":"5px","text-transform":"capitalize","margin-top":"10px"}},rt={class:"uiItemContainer"},st=["blocktype","onMousedown","title"],ct=["src"],dt={key:0,src:"img/icons/pro_badge.png",class:"proBadge",style:{}},pt=nt(()=>Object(n["k"])("div",{class:"disabledProPanel"},null,-1));var ut={__name:"LibraryPanel",emits:["blockCustomTriggered"],setup(e,{emit:t}){const a=y.IS_PRO;function o(e=!0){window.showUpgradeLicenseDialog(e)}const l=["tempplaceholder","partial"];let i=blockDefinitions.filter(e=>-1===l.indexOf(e.type));i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"1-Col Row",properties:[],tagName:"DIV",type:"1column",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div></div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"2-Col Row",properties:[],tagName:"DIV",type:"2columns",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n</div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"3-Col Row",properties:[],tagName:"DIV",type:"3columns",content:'<div class="row">\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n<div class="st-col col-12 col-sm st-module"></div>\n</div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Column",properties:[],tagName:"DIV",type:"1column",content:'<div class="st-col col-12 col-sm st-module"></div>',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebar Left",properties:[],tagName:"DIV",type:"sidebar_left",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-3 col-sm st-module"></div>\n<div class="st-col col-9 st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebar Right",properties:[],tagName:"DIV",type:"sidebar_right",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-9 st-module"></div>\n<div class="st-col col-3 col-sm st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),i.push({description:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,label:"Sidebars",properties:[],tagName:"DIV",type:"sidebars",content:'<header class="st-header q-pa-sm">\n<h1 class="st-header__title text-h3">Header Text</h1>\n</header>\n<div class="row">\n<div class="st-col col-3 col-sm st-module"></div>\n<div class="st-col col-5 st-module"></div>\n<div class="st-col col-3 col-sm st-module"></div>\n</div>\n<footer class="st-module">Page footer</footer>\n',media:"",category:"Layout"}),i.push({label:"Header",tagName:"header",type:"header",description:"",category:"Layout",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:"<header ><h1>Page header</h1></header>"}),i.push({label:"Footer",tagName:"footer",type:"footer",description:"",category:"Layout",media:"",draggable:!0,droppable:!0,editable:!0,enabled:!0,properties:[],content:'<footer class="st-module">Page footer</footer>'});let r,s,c,d=["Layout","Text","Content","Forms","Widgets","Lists","Tables","Charts","Multimedia","Timeline","Other"],p=Object(n["L"])(null),u=Object(n["L"])(""),b=blockDefinitions.map(e=>{let t={type:e.type,label:e.label,tagName:e.tagName,id:e.type,category:e.category,content:e.content,droppable:e.droppable,draggable:e.draggable,editable:e.editable,activate:!0};return t});function m(e){b=e.blocks,r=t=>{window.logUserEvent("library::dragToCanvas",{component:t.type}),e.dragStart(t)},s=e.dragStop,t("blockCustomTriggered",e)}function g(e){O(),f(e)}function f(e){void 0!=e&&(u.value=e.target.value);let t=[],a={};return h.value.forEach(e=>{if(1==e.hideFromLibrary)return;let n=e.category||"other";a[n]||(a[n]={category:n,blocks:[]},t.push(a[n])),a[n].blocks.push(e)}),t.sort((e,t)=>{let a=d.indexOf(e.category),n=d.indexOf(t.category);return a>n?1:a<n?-1:0}),t.forEach(e=>{e.blocks.sort((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)}),p.value=t,_(),t}function _(){let e="Block Categories:\n--------------------\n";p.value.forEach(t=>{e+=t.category+"\n",t.blocks.forEach(t=>{e+="  "+t.label+"\n"})})}Object(n["D"])(()=>{c=setInterval(()=>{if(window.editor){clearInterval(c),window.editor.on("block:custom",m);const{Panels:e}=window.editor;e.getButton("views","open-blocks").set("active",!0)}},1e3)});const h=Object(n["f"])(()=>{if(!u.value)return i;let e=i.filter(e=>e.label.toLowerCase().indexOf(u.value.toLowerCase())>-1);return e});f();const v=function(e){let t,a;if(e.icon)if(e.icon.startsWith("{appPath}")){let n=y.getAppBaseUrl("http",y.appport);n.endsWith("/")&&(n=n.slice(0,-1)),t=e.icon.replace("{appPath}",""),a=n+t}else t=e.icon,a="img/block_icons/"+t;else t=e.type.split("q-").join("")+".png",a="img/block_icons/"+t;return a};let O=ne.a.debounce((function(){u.value.length>0&&window.logUserEvent("library::search",{searchTerm:u.value})}),1e3);return(e,t)=>{const l=Object(n["O"])("vscode-text-field");return Object(n["G"])(),Object(n["j"])(n["a"],null,[Object(n["k"])("div",null,[Object(n["m"])(l,{value:Object(n["U"])(u),onInput:t[0]||(t[0]=e=>g(e)),placeholder:"Search UI Components",style:{padding:"5px 10px",width:"90%"}},null,8,["value"])]),Object(n["k"])("div",ot,[Object(n["k"])("div",lt,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(Object(n["U"])(p),e=>(Object(n["G"])(),Object(n["j"])("div",{key:e.category,style:{display:"flex","flex-direction":"column",width:"100%"}},[Object(n["k"])("div",it,Object(n["R"])(e.category),1),Object(n["k"])("div",rt,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(e.blocks,e=>(Object(n["G"])(),Object(n["j"])("div",{key:e.id,blocktype:e.type,class:Object(n["w"])({uiItem:!0,uiItemProDisabled:e.proRequired&&!Object(n["U"])(a)}),onMousedown:t=>!e.proRequired||e.proRequired&&Object(n["U"])(a)?Object(n["U"])(r)(e):o(!0),title:e.proRequired&&!Object(n["U"])(a)?"Upgrade to PRO plan to use this component and many more!":e.label},[Object(n["k"])("div",{class:Object(n["w"])({uiItemLabel:!0,uiItemLabelProRequired:e.proRequired&&!Object(n["U"])(a)})},Object(n["R"])(e.label),3),Object(n["k"])("div",{class:Object(n["w"])({uiItemIcon:!0,uiItemIconProRequired:e.proRequired&&!Object(n["U"])(a)})},[Object(n["k"])("img",{src:v(e),class:"libraryIcon",style:{}},null,8,ct)],2),e.proRequired&&!Object(n["U"])(a)?(Object(n["G"])(),Object(n["j"])("img",dt)):Object(n["i"])("",!0)],42,st))),128)),pt])]))),128))])])],64)}}};a("9ebb");const bt=U()(ut,[["__scopeId","data-v-2c25d534"]]);var mt=bt;const gt=e=>(Object(n["J"])("data-v-7c578f7c"),e=e(),Object(n["H"])(),e),ft={class:"addPropsPanel"},_t=gt(()=>Object(n["k"])("div",{style:{"text-align":"center","font-size":"0.8em","font-weight":"bold","margin-bottom":"10px"}},"Add Property",-1)),ht=gt(()=>Object(n["k"])("i",{class:"fas fa-search",style:{position:"absolute",top:"47px",right:"15px",opacity:"0.5"}},null,-1)),yt={class:"addPropsList"},vt=["onClick","title"],Ot={style:{width:"70%"}},jt={style:{"text-transform":"capitalize",width:"30%","font-size":"0.8em",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex","justify-content":"right","align-items":"center",opacity:"0.6"}};var wt={__name:"AddPropertyDialog",props:["propslist","defObject","destination"],emits:["propAdded","close"],setup(e,{emit:t}){const a=e,o=Object(n["L"])(""),l=Object(n["L"])("");function i(e){e.target==l.value&&r()}function r(){t("close")}function s(){o.value=""}function c(e){o.value=e.target.value}function d(e){t("propAdded",e,a.defObject,a.destination)}function p(){let e=a.propslist;return""!=o.value&&(e=e.filter(e=>e.label.toLowerCase().indexOf(o.value.toLowerCase())>-1)),g["a"].sortBy(e,e=>e.label.toLowerCase())}return Object(n["D"])(()=>{document.querySelector("#addPropertyDialogSearch").focus()}),(e,t)=>{const a=Object(n["O"])("vscode-text-field");return Object(n["G"])(),Object(n["j"])("div",{class:"blocker",ref_key:"dialogBlocker",ref:l,onClick:t[1]||(t[1]=e=>i(e))},[Object(n["k"])("div",ft,[_t,Object(n["k"])("div",{class:"closeAddProp",onClick:r},"X"),Object(n["k"])("div",null,[Object(n["m"])(a,{id:"addPropertyDialogSearch",value:o.value,onInput:t[0]||(t[0]=e=>c(e)),onKeyup:Object(n["db"])(s,["escape"]),placeholder:"Search Properties",style:{padding:"5px 10px",width:"100%"}},null,8,["value","onKeyup"]),ht]),Object(n["k"])("div",yt,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(p(),e=>(Object(n["G"])(),Object(n["j"])("div",{class:"addPropRow",onClick:t=>d(e),title:e.desc||"Property description not available"},[Object(n["k"])("div",Ot,Object(n["R"])(e.label),1),Object(n["k"])("div",jt,Object(n["R"])(e.type),1)],8,vt))),256))])])],512)}}};a("49c3");const kt=U()(wt,[["__scopeId","data-v-7c578f7c"]]);var xt=kt;const Ct=e=>(Object(n["J"])("data-v-2c4c92e4"),e=e(),Object(n["H"])(),e),Dt={key:0,class:"foldableGroupHeader"},St={class:"groupHeaderContent"},Pt=["src"],Tt=Ct(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),Lt=[Tt],Ut={class:"col-1 removeBtnCnt",style:{width:"20px",position:"absolute"}},At=["onClick"],It=Ct(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),Et=[It],Rt=["title"],Nt={key:0,class:"col-7"},Mt=["onUpdate:modelValue","attrname"],Gt=["value"],Ht={key:1,class:"col-7"},Bt={key:0,class:"chartTypeContainer",style:{position:"relative"}},qt=["attrname"],Ft=["value"],zt={key:2,class:"col-7"},Vt=["value","onInput"],$t={key:3,class:"col-7"},Wt=["onUpdate:modelValue","attrname"],Jt=["value"],Qt={key:4,class:"col-7",style:{"align-items":"center",position:"relative",display:"flex"}},Yt=["onUpdate:modelValue"],Xt=["type","onUpdate:modelValue"],Zt=["onClick"],Kt={key:0,src:"img/icons/binding_on.png",style:{height:"16px"},draggable:"false"},ea={key:1,src:"img/icons/binding_off.png",style:{height:"16px"},draggable:"false"};var ta={__name:"ChartPropertiesSection",props:["dataSourceColumns","treeObject","propertiesDefinition","appData","modelFields","sectionIndex","showSectionTitle"],emits:["change"],setup(e,{emit:t}){const a=e;let o=n["L"][null];function l(e,t){try{const a=JSON.parse(t);Array.isArray(a)?e.valueHolderParent[e.propName]=a:console.error("Input is not an array.")}catch(a){console.error("Failed to parse input as JSON:",a)}}console.log("ChartSection.modelFields: ",a.modelFields);const i=Object(n["f"])(()=>{let e=oe.find(e=>e.id==o);return console.log("chartTypeDeffffff",e),e?e.icon:(console.error("Could not find chart type definition for: "+o),"scatterChart")});function r(){let e=a.sectionIndex;t("removeTrace",e)}function s(e){let t=e.id;console.log("removeTraceProperty before: ",e,a.treeObject),c(a.treeObject,t),console.log("removeTraceProperty after: ",e,a.treeObject),b()}function c(e,t){const a=t.split(".");function n(e,t){const o=a[t];if(t===a.length-1)return delete e[o],0===Object.keys(e).length;if(void 0!==e[o]){const a=n(e[o],t+1);if(a)return delete e[o],0===Object.keys(e).length}return!1}n(e,0)}function d(e){console.log("toggleDynamicAttribute",e);let t,a=e.valueHolderParent[e.propName];0==a.indexOf("$_{")?(t=a.replace("$_{",""),t=t.substring(0,t.length-1)):t="$_{"+a+"}",e.valueHolderParent[e.propName]=t,b()}function p(e){console.log("isPropValueBinding",e.propName,e);let t=e.valueHolderParent[e.propName];return"string"==typeof t&&0==t.indexOf("$_{")}function u(e){console.log("changeChartType",o,a.treeObject),console.log("chartTypes",oe);let t=oe.find(e=>e.id==o);console.log("chartTypeDef",t);let n={};for(let o in a.treeObject)n[o]=a.treeObject[o];for(let o in a.treeObject)delete a.treeObject[o];for(let o in t.traceTemplate)void 0!=n[o]&&"type"!=o&&"gbtype"!=o?a.treeObject[o]=n[o]:a.treeObject[o]=t.traceTemplate[o];console.log("props.treeObject FINAL:",a.treeObject),a.treeObject.gbtype=o,b()}function b(){t("change",a.treeObject)}function m(e,t){const a=t.split(".");if(1==a.length)return e;for(let n=0;n<a.length-1;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}function g(e,t){const a=t.split(".");for(let n=0;n<a.length;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}const f=Object(n["f"])(()=>{let e=[];for(let t=0;t<a.propertiesDefinition.length;t++){let n={...a.propertiesDefinition[t]},o=g(a.treeObject,n.id);void 0!==o&&(n.valueHolderParent=m(a.treeObject,n.id),n.propName=n.id.split(".").pop(),e.push(n))}return console.log("definitionsListWithValues",e),e});return(t,a)=>{const c=Object(n["O"])("vscode-text-field");return Object(n["G"])(),Object(n["j"])(n["a"],null,[e.showSectionTitle?(Object(n["G"])(),Object(n["j"])("div",Dt,[Object(n["k"])("div",St,[Object(n["k"])("img",{src:"img/block_icons/"+i.value+".png",class:"chartTypeIcon",style:{opacity:1}},null,8,Pt),Object(n["l"])(" "+Object(n["R"])(e.treeObject.name),1)]),Object(n["k"])("div",{class:"removeBtnCnt",style:{width:"20px"}},[Object(n["k"])("span",{onClick:r,title:"Remove Trace",class:"codicon codicon-settings"},Lt)])])):Object(n["i"])("",!0),(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(f.value,t=>(Object(n["G"])(),Object(n["j"])("div",{class:"row propRow",style:{position:"relative"},key:t.id},[Object(n["k"])("div",Ut,[Object(n["k"])("span",{onClick:e=>s(t),title:"Remove Property",class:"codicon codicon-settings"},Et,8,At)]),Object(n["k"])("div",{class:"col-4 propRowLabel",style:{},title:t.label},Object(n["R"])(t.label)+": ",9,Rt),p(t)?(Object(n["G"])(),Object(n["j"])("div",Nt,[Object(n["cb"])(Object(n["k"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b,attrname:t.propertyName},[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(e.modelFields,e=>(Object(n["G"])(),Object(n["j"])("option",{key:"binding_"+e.name,value:"$_{"+e.name+"}"},Object(n["R"])(e.name),9,Gt))),128))],40,Mt),[[n["X"],t.valueHolderParent[t.propName]]])])):"type"==t.id?(Object(n["G"])(),Object(n["j"])("div",Ht,["type"==t.id?(Object(n["G"])(),Object(n["j"])("div",Bt,[Object(n["cb"])(Object(n["k"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},onChange:u,"onUpdate:modelValue":a[0]||(a[0]=e=>Object(n["s"])(o)?o.value=e:o=e),attrname:t.propertyName},[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(Object(n["U"])(oe),e=>(Object(n["G"])(),Object(n["j"])("option",{key:"chartType_"+e.id,value:e.id},Object(n["R"])(e.id),9,Ft))),128))],40,qt),[[n["X"],Object(n["U"])(o)]])])):Object(n["i"])("",!0)])):"array"==t.type?(Object(n["G"])(),Object(n["j"])("div",zt,[Object(n["k"])("textarea",{name:"",id:"",rows:"3",value:JSON.stringify(t.valueHolderParent[t.propName]),onInput:e=>l(t,e.target.value),onChange:b},null,40,Vt)])):"enum"==t.type?(Object(n["G"])(),Object(n["j"])("div",$t,[Object(n["cb"])(Object(n["k"])("select",{class:"propInput propInputDynamic",style:{width:"100%",height:"25px"},"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b,attrname:t.propertyName},[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(t.options,e=>(Object(n["G"])(),Object(n["j"])("option",{key:"field_"+e,value:e},Object(n["R"])(e),9,Jt))),128))],40,Wt),[[n["X"],t.valueHolderParent[t.propName]]])])):(Object(n["G"])(),Object(n["j"])("div",Qt,["boolean"==t.type?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:0,type:"checkbox",name:"",id:"","onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b},null,40,Yt)),[[n["V"],t.valueHolderParent[t.propName]]]):Object(n["i"])("",!0),"color"==t.type?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:1,type:t.type,"onUpdate:modelValue":e=>t.valueHolderParent[t.propName]=e,onChange:b,style:{height:"23px",width:"23px","margin-right":"5px","background-color":"#ffffff00"}},null,40,Xt)),[[n["W"],t.valueHolderParent[t.propName]]]):Object(n["i"])("",!0),"color"==t.type?(Object(n["G"])(),Object(n["h"])(c,{key:2,type:"text",name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:b,style:{width:"80px"}},null,8,["value","onInput"])):Object(n["i"])("",!0),"string"==t.type||"number"==t.type?(Object(n["G"])(),Object(n["h"])(c,{key:3,type:t.type,name:"",id:"",value:t.valueHolderParent[t.propName],onInput:e=>t.valueHolderParent[t.propName]=e.target.value,onChange:b},null,8,["type","value","onInput"])):Object(n["i"])("",!0)])),"type"!=t.propName&&"name"!=t.propName?(Object(n["G"])(),Object(n["j"])("div",{key:5,class:"propRowDynamicSwitch",onClick:e=>d(t)},[p(t)?(Object(n["G"])(),Object(n["j"])("img",Kt)):Object(n["i"])("",!0),p(t)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("img",ea))],8,Zt)):Object(n["i"])("",!0)]))),128))],64)}}},aa=(a("2f4e"),a("0016"));const na=U()(ta,[["__scopeId","data-v-2c4c92e4"]]);var oa=na;et()(ta,"components",{QIcon:aa["a"]});const la={key:0,class:"chartConfigContainer"},ia={class:"tabSelector"},ra=["onClick"],sa={key:0,class:"tabSectionContainer"},ca={class:"tracesContainer"},da={class:"foldableGroupContent"},pa={class:"subgroup"},ua={class:"subgroupContent"},ba={class:"addPropertyButtonRow"},ma=["onClick"],ga={style:{"border-top":"solid 1px var(--badge-background)",padding:"20px","text-align":"center"}},fa={key:1,class:"tabSectionContainer"},_a={class:"subgroup"},ha={class:"subgroupContent"},ya={class:"addPropertyButtonRow"},va={key:2,class:"tabSectionContainer"},Oa={class:"subgroup"},ja={class:"subgroupContent"},wa={class:"addPropertyButtonRow"};var ka={__name:"ChartProperties",props:["appData","selectedComponent"],setup(e,{expose:t}){const a=e;let o=Object(n["L"])(0),l=Object(n["L"])([{name:"Data",id:0},{name:"Layout",id:1},{name:"Config",id:2}]),i=Object(n["L"])(null),r=(Object(n["L"])(!1),Object(n["L"])(null)),s=Object(n["L"])([]),c=Object(n["L"])([]),d=Object(n["L"])([]),p=Object(n["L"])(a.appData.pages[y.currentPageIndex].model.fields),u={};p.value.forEach(e=>{u[e.name]=e});let b=Object(n["L"])([{id:"name",label:"Name",type:"string",default:""},{id:"type",label:"Type",type:"enum",default:"scatter",options:["scatter","bar","histogram","pie","box","histogram2d","histogram2dcontour","parcats","heatmap","heatmapgl","contour","funnel","funnelarea","indicator","isosurface","mesh3d","ohlc","candlestick","scatter3d","scattergeo","scattergl","surface","table","timeline","violin","waterfall"]},{id:"mode",label:"Mode",type:"enum",default:"markers",options:["markers","lines","lines+markers","none","gauge","number","gauge+number","text"]},{id:"x",label:"X",type:"array",default:[0,1,2,3,4,5]},{id:"y",label:"Y",type:"array",default:[2,4,8,16,32]},{id:"z",label:"Z",type:"array",default:[3,5,7,9,11]},{id:"u",label:"U",type:"array",default:[]},{id:"v",label:"V",type:"array",default:[]},{id:"w",label:"W",type:"array",default:[]},{id:"i",label:"I",type:"array",default:[]},{id:"j",label:"J",type:"array",default:[]},{id:"k",label:"K",type:"array",default:[]},{id:"open",label:"Open",type:"array",default:[]},{id:"high",label:"High",type:"array",default:[]},{id:"low",label:"Low",type:"array",default:[]},{id:"close",label:"Close",type:"array",default:[]},{id:"dimensions",label:"Dimensions",type:"array",default:[]},{id:"counts",label:"Counts",type:"array",default:[]},{id:"values",label:"Values",type:"array",default:[1,3,5]},{id:"labels",label:"Labels",type:"array",default:["a","b","c"]},{id:"fill",label:"Fill",type:"enum",default:"tozeroy",options:["tozeroy","tonexty","toself","tonext"]},{id:"orientation",label:"Orientation",type:"enum",default:"v",options:["v","h"]},{id:"marker.size",label:"Marker Size",type:"number",default:5},{id:"marker.color",label:"Marker Color",type:"color",default:"#2578B4"},{id:"locationmode",label:"Locationmode",type:"string",default:"country names"},{id:"locations",label:"Locations",type:"array",default:[]},{id:"text",label:"Text",type:"array",default:[]},{id:"value",label:"Value",type:"number",default:0},{id:"delta.reference",label:"Delta Reference",type:"number",default:0},{id:"title.text",label:"Title Text",type:"string",default:"Title"},{id:"gauge.axis.range",label:"Gauge Axis Range",type:"array",default:[0,1]},{id:"error_y.type",label:"ErrorY Type",type:"string",default:"data"},{id:"error_y.array",label:"ErrorY Array",type:"array",default:[1,2,3,4,5]},{id:"error_y.visible",label:"ErrorY Visible",type:"boolean",default:!0},{id:"sizemode",label:"SizeMode",type:"string",default:"diameter"},{id:"sizeref",label:"SizeRef",type:"number",default:2},{id:"autobinx",label:"AutoBinX",type:"boolean",default:!0},{id:"nbinsx",label:"NBinsX",type:"number",default:10},{id:"autobiny",label:"AutoBinY",type:"boolean",default:!0},{id:"nbinsy",label:"NBinsY",type:"number",default:10},{id:"hoverinfo",label:"HoverInfo",type:"string",default:"all"},{id:"hovertemplate",label:"HoverTemplate",type:"string",default:""},{id:"boxpoints",label:"BoxPoints",type:"string",default:"all"},{id:"notched",label:"Notched",type:"boolean",default:!1},{id:"whiskerwidth",label:"WhiskerWidth",type:"number",default:.5},{id:"fillcolor",label:"FillColor",type:"color",default:"#888"},{id:"line.color",label:"Line Color",type:"color",default:"#888"},{id:"line.width",label:"Line Width",type:"number",default:2},{id:"line.shape",label:"Line Shape",type:"string",default:"linear"},{id:"line.smoothing",label:"Line Smoothing",type:"number",default:1.3},{id:"colorscale",label:"ColorScale",type:"string",default:"Viridis"},{id:"showscale",label:"ShowScale",type:"boolean",default:!0},{id:"reversescale",label:"ReverseScale",type:"boolean",default:!1},{id:"contours.coloring",label:"Contours Coloring",type:"string",default:"fill"},{id:"contours.start",label:"Contours Start",type:"number",default:0},{id:"contours.end",label:"Contours End",type:"number",default:10},{id:"contours.size",label:"Contours Size",type:"number",default:1},{id:"opacity",label:"Opacity",type:"number",default:.8},{id:"cmin",label:"Cmin",type:"number",default:0},{id:"cmax",label:"Cmax",type:"number",default:10},{id:"colorbar.title",label:"ColorBar Title",type:"string",default:"ColorBar"},{id:"colorbar.tickvals",label:"ColorBar TickVals",type:"array",default:[]},{id:"colorbar.ticktext",label:"ColorBar TickText",type:"array",default:[]},{id:"autocolorscale",label:"AutoColorScale",type:"boolean",default:!0},{id:"showlegend",label:"ShowLegend",type:"boolean",default:!0},{id:"legendgroup",label:"LegendGroup",type:"string",default:""},{id:"lat",label:"Lat",type:"array",default:[38]},{id:"lon",label:"Lon",type:"array",default:[-90]}]),m=Object(n["L"])([{id:"autosizable",label:"Autosizable",type:"boolean",default:!1},{id:"displaylogo",label:"Display Logo",type:"boolean",default:!0},{id:"scrollZoom",label:"Scroll Zoom",type:"boolean",default:!0},{id:"editable",label:"Editable",type:"boolean",default:!0},{id:"displayModeBar",label:"Mode Bar",type:"boolean",default:!0}]),g=Object(n["L"])([{id:"title",label:"Title",type:"string",default:"Hello Def"},{id:"showlegend",label:"Show Legend",type:"boolean",default:!0},{id:"legend.x",label:"Legend X",type:"number",default:1},{id:"legend.y",label:"Legend Y",type:"number",default:1},{id:"legend.xanchor",label:"Legend X-Anchor",type:"enum",default:"right",options:["left","right"]},{id:"legend.yanchor",label:"Legend Y-Anchor",type:"enum",default:"right",options:["left","right"]},{id:"legend.orientation",label:"Legend Orientation",type:"enum",default:"v",options:["v","h"]},{id:"paper_bgcolor",label:"Paper",type:"color",default:"#ffffff"},{id:"plot_bgcolor",label:"Background",type:"color",default:"#ffffff"},{id:"font.color",label:"Font Color",type:"color",default:"#000000"},{id:"font.size",label:"Font Size",type:"number",default:10},{id:"xaxis.title.text",label:"X-Axis Title Text",type:"string",default:"Axis Title"},{id:"xaxis.title.font.size",label:"X-Axis Title Font Size",type:"number",default:24},{id:"xaxis.title.font.color",label:"X-Axis Title Font Color",type:"color",default:"#000000"},{id:"yaxis.title.text",label:"Y-Axis Title Text",type:"string",default:"Axis Title"},{id:"yaxis.title.font.size",label:"Y-Axis Title Font Size",type:"number",default:24},{id:"yaxis.title.font.color",label:"Y-Axis Title Font Color",type:"color",default:"#000000"},{id:"dragmode",label:"Dragmode",type:"enum",default:"zoom",options:["zoom"]},{id:"mapbox.style",label:"Mabox Style",type:"enum",default:"open-street-map",options:["open-street-map"]},{id:"mapbox.center.lat",label:"Mapbox Center Lat",type:"number",default:38},{id:"mapbox.center.lon",label:"Mapbox Center Lon",type:"number",default:-90},{id:"mapbox.zoom",label:"Mapbox Zoom",type:"number",default:3},{id:"margin.l",label:"Margin L",type:"number",default:0},{id:"margin.t",label:"Margin T",type:"number",default:0},{id:"margin.r",label:"Margin R",type:"number",default:0},{id:"margin.b",label:"Margin B",type:"number",default:0},{id:"width",label:"Width",type:"number",default:500},{id:"height",label:"Height",type:"number",default:500},{id:"xaxis.showgrid",label:"Show X grid",type:"boolean",default:!0},{id:"yaxis.showgrid",label:"Show Y grid",type:"boolean",default:!0},{id:"xaxis.range",label:"X range",type:"array",default:[0,1500]},{id:"xaxis.visible",label:"X visible",type:"boolean",default:!1}]);Object(n["f"])(()=>y.IS_PRO);function f(){let e=a.appData.pages[y.currentPageIndex].model.fields.filter(e=>"DataFrames.DataFrame"==e.type||"PlotlyData"==e.type||"DataTable.DataFrames.DataFrame"==e.type);i.value=e}const _=Object(n["f"])(()=>{let e=a.appData.pages[y.currentPageIndex].model.fields,t=[];return e.forEach(e=>{if("DataTable.DataFrames.DataFrame"==e.type){let a=e.props;a&&a.forEach(a=>{t.push({name:e.name+"."+a,type:e.type})})}else if("DataFrames.DataFrame"==e.type){let a=e.columns;a&&a.forEach(a=>{t.push({name:e.name+"."+a,type:e.type})})}t.push({name:e.name,type:e.type})}),t.sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),t}),h=Object(n["f"])(()=>{let e=[];return console.log("dataSourceFields",i),i.value.forEach(t=>{if(0==t.type.indexOf("DataFrames.DataFrame")){let a=t.columns;a&&a.forEach(a=>{e.push(t.name+"."+a)})}let a=t.props;a&&a.forEach(a=>{e.push(t.name+"."+a)})}),a.appData.pages[y.currentPageIndex].model.fields.forEach(t=>{"Array"==t.type&&e.push(t.name)}),e});function v(e,t){let a=e.filter(e=>{let a=!1,n=S(t,e.id);return null!=n&&(a=!0),!a});return a}Object(n["f"])(()=>{let e=m.value.filter(e=>{let t=!1,a=S(r.value,e.id);return null!=a&&(t=!0),!t});return e});function O(e){T()}function j(e){T()}function w(e){T()}function k(e){console.log("removeTrace",e),console.log("traces.value before: ",s.value),s.value.splice(e,1),console.log("traces.value after: ",s.value),T()}function x(e){r.value=e}function C(){r.value=null}function D(e,t,a){let n=e.id,o=t.find(e=>e.id==n);P(a,n,o.default),T()}function S(e,t){const a=t.split(".");for(let n=0;n<a.length;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}function P(e,t,a){const n=t.split(".");for(let o=0;o<n.length-1;o++)e.hasOwnProperty(n[o])&&"object"===typeof e[n[o]]||(e[n[o]]={}),e=e[n[o]];e[n[n.length-1]]=a}function T(){let e=btoa(JSON.stringify(s.value)),t=btoa(JSON.stringify(c.value)),n=btoa(JSON.stringify(d.value));a.selectedComponent.setAttributes({gb_c__data:e,gb_c__config:t,gb_c__layout:n}),a.selectedComponent.view.$el[0].vueApp.updateAttributes({data:e,config:t,layout:n})}function L(e){if(!e||"plotly"!=e.attributes.type)return s.value=null,c.value=null,void(d.value=null);let t=e.getAttributes();t.gb_c__data&&(t.gb_c__data=atob(t.gb_c__data)),t.gb_c__config&&(t.gb_c__config=atob(t.gb_c__config)),t.gb_c__layout&&(t.gb_c__layout=atob(t.gb_c__layout));let a=t.gb_c__data||"[]";a=JSON.parse(a),s.value=a;let n=t.gb_c__config||"{}";n=JSON.parse(n),c.value=n;let o=t.gb_c__layout||"{}";o=JSON.parse(o),d.value=o}function U(){s.value.push({x:"",y:"",type:"scatter",name:"Trace"})}function A(e,t){s.value.push({x:e,y:t,type:"scatter",name:"Trace"}),T()}return Object(n["z"])(()=>{L(a.selectedComponent),f()}),t({setSelectedComponent:L,addNewTraceFromBinding:A}),(t,a)=>{const i=Object(n["O"])("vscode-button");return e.selectedComponent&&"plotly"==e.selectedComponent.attributes.type?(Object(n["G"])(),Object(n["j"])("div",la,[Object(n["k"])("div",ia,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(Object(n["U"])(l),e=>(Object(n["G"])(),Object(n["j"])("div",{onClick:t=>Object(n["s"])(o)?o.value=e.id:o=e.id,class:Object(n["w"])({tabItem:!0,tabItemSelected:e.id==Object(n["U"])(o)}),key:e},Object(n["R"])(e.name),11,ra))),128))]),0==Object(n["U"])(o)?(Object(n["G"])(),Object(n["j"])("div",sa,[Object(n["k"])("div",ca,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(Object(n["U"])(s),(e,t)=>(Object(n["G"])(),Object(n["j"])("div",{class:"foldableGroup",key:e},[Object(n["k"])("div",da,[Object(n["k"])("div",pa,[Object(n["k"])("div",ua,[Object(n["m"])(oa,{showSectionTitle:!0,sectionIndex:t,treeObject:e,dataSourceColumns:h.value,propertiesDefinition:Object(n["U"])(b),modelFields:_.value,onRemoveTrace:k,onChange:w},null,8,["sectionIndex","treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(n["k"])("div",ba,[Object(n["U"])(r)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("button",{key:0,class:"addPropertyButton",onClick:t=>x(e)},"+",8,ma))]),Object(n["U"])(r)==e?(Object(n["G"])(),Object(n["h"])(xt,{key:0,defObject:Object(n["U"])(b),destination:Object(n["U"])(r),propslist:v(Object(n["U"])(b),e),onPropAdded:D,onClose:C},null,8,["defObject","destination","propslist"])):Object(n["i"])("",!0)])]))),128))]),Object(n["k"])("div",ga,[Object(n["m"])(i,{class:"addTraceButton",onClick:U},{default:Object(n["bb"])(()=>[Object(n["l"])("+ Trace")]),_:1})])])):Object(n["i"])("",!0),1==Object(n["U"])(o)?(Object(n["G"])(),Object(n["j"])("div",fa,[Object(n["k"])("div",_a,[Object(n["k"])("div",ha,[Object(n["m"])(oa,{treeObject:Object(n["U"])(d),dataSourceColumns:h.value,propertiesDefinition:Object(n["U"])(g),modelFields:_.value,onChange:O},null,8,["treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(n["k"])("div",ya,[Object(n["U"])(r)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("button",{key:0,class:"addPropertyButton",onClick:a[0]||(a[0]=e=>x(Object(n["U"])(d)))},"+"))]),Object(n["U"])(r)==Object(n["U"])(d)?(Object(n["G"])(),Object(n["h"])(xt,{key:0,defObject:Object(n["U"])(g),destination:Object(n["U"])(d),propslist:v(Object(n["U"])(g),Object(n["U"])(d)),onPropAdded:D,onClose:C},null,8,["defObject","destination","propslist"])):Object(n["i"])("",!0)])):Object(n["i"])("",!0),2==Object(n["U"])(o)?(Object(n["G"])(),Object(n["j"])("div",va,[Object(n["k"])("div",Oa,[Object(n["k"])("div",ja,[Object(n["m"])(oa,{treeObject:Object(n["U"])(c),dataSourceColumns:h.value,propertiesDefinition:Object(n["U"])(m),modelFields:_.value,onChange:j},null,8,["treeObject","dataSourceColumns","propertiesDefinition","modelFields"])])]),Object(n["k"])("div",wa,[Object(n["U"])(r)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("button",{key:0,class:"addPropertyButton",onClick:a[1]||(a[1]=e=>x(Object(n["U"])(c)))},"+"))]),Object(n["U"])(r)==Object(n["U"])(c)?(Object(n["G"])(),Object(n["h"])(xt,{key:0,defObject:Object(n["U"])(m),destination:Object(n["U"])(c),propslist:v(Object(n["U"])(m),Object(n["U"])(c)),onPropAdded:D,onClose:C},null,8,["defObject","destination","propslist"])):Object(n["i"])("",!0)])):Object(n["i"])("",!0)])):Object(n["i"])("",!0)}}};a("774b");const xa=U()(ka,[["__scopeId","data-v-5cfb1d82"]]);var Ca=xa;const Da=e=>(Object(n["J"])("data-v-5460919c"),e=e(),Object(n["H"])(),e),Sa={key:0,class:"nothingSelected"},Pa=Da(()=>Object(n["k"])("i",null,"Nothing selected",-1)),Ta=[Pa],La={key:1,class:"notProUI"},Ua=Da(()=>Object(n["k"])("br",null,null,-1)),Aa=Da(()=>Object(n["k"])("br",null,null,-1)),Ia=Da(()=>Object(n["k"])("br",null,null,-1)),Ea={key:2},Ra={style:{"user-select":"none"}},Na={class:"removeBtnCnt",style:{width:"20px"}},Ma=["onClick"],Ga=Da(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"14px",padding:"0px"}},"delete",-1)),Ha=[Ga],Ba=["title"],qa={key:0,class:"propRowControl"},Fa={slot:"selected-value",class:"codicon codicon-settings"},za={slot:"selected-value",class:"codicon codicon-settings"},Va={"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px",padding:"5px"}},$a={"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px"}},Wa={slot:"selected-value"},Ja=["attrname","onDrop","onUpdate:modelValue"],Qa=["attrname","onDrop","onUpdate:modelValue"],Ya=["attrname","onDrop","onUpdate:modelValue"],Xa=["attrname","onDrop","onUpdate:modelValue"],Za=["attrname","onDrop","onUpdate:modelValue"],Ka=["attrname","onDrop","onUpdate:modelValue"],en={key:1,class:"propRowControl"},tn=["onUpdate:modelValue","onDrop","attrname"],an=["value"],nn=["onClick"],on={key:0,src:"img/icons/binding_on.png",style:{height:"16px"},draggable:"false"},ln={key:1,src:"img/icons/binding_off.png",style:{height:"16px"},draggable:"false"},rn={key:3,class:"propRowDynamicSwitch",draggable:"false",style:{cursor:"auto"}},sn={key:0,class:"suggestedPropertiesContainer",style:{margin:"20px 0px 0px 0px"}},cn=Da(()=>Object(n["k"])("div",{class:"suggestedPropertiesTitle",style:{"margin-bottom":"10px","font-weight":"bold","font-size":"0.9em"}},"Suggested Properties:",-1)),dn={class:"propRowLabel",style:{"font-weight":"bold","text-align":"left:"}},pn={class:"propRowControl",style:{"text-align":"left","font-size":"0.8em","user-select":"none"}},un=["onClick"],bn=Da(()=>Object(n["k"])("i",{class:"fa fa-plus"},null,-1)),mn=[bn],gn=Da(()=>Object(n["k"])("br",null,null,-1)),fn={key:1,style:{"font-size":"0.8em"}},_n=Da(()=>Object(n["k"])("i",null,"Nothing selected",-1)),hn=[_n];var yn={__name:"PropertiesPanel",props:["title","appData","selectedComponent","parentPanel"],setup(e,{expose:t}){const a=e;function o(){window.showUpgradeLicenseDialog(!1)}function l(e){if(y.IS_PRO)return!0;let t=e.attributes.tagName,a=k(t),n=null===a||void 0===a?void 0:a.proRequired;return!n}const i=Object(n["L"])(null);let r=Object(n["L"])(null),s=Object(n["L"])(!1),c=Object(n["L"])(a.appData.pages[y.currentPageIndex].model.fields),d={};c.value.forEach(e=>{d[e.name]=e});const p=blockDefinitions.reduce((e,t)=>(e[t.type]=t,e),{});function u(e){try{return 0==e.indexOf("gb_c__")||0==e.indexOf("gb_b__")?e.substring(6):e}catch(t){console.error("Error in getAttributeCleanRealName: ",e,t)}}function b(e){r.value.removeAttributes([e.name]),C(),window.logUserEvent("component-property::removed",{component:r.value.attributes.tagName,property:u(e.name)})}function m(){let e=k(r.value.attributes.tagName);if(!e)return[];let t=f().map(e=>e.cleanName),a=e.properties.filter(e=>1==e.suggested),n=a.filter(e=>-1==t.indexOf(e.name));return n}function g(e,t){var a;let n=[];if(null!==t&&void 0!==t&&null!==(a=t.view)&&void 0!==a&&a.el){let e=Le.extractVforVariablesAncestors(t.view.el);e.forEach(e=>{n.push({name:e,label:e+" *"})})}return c.value.forEach(t=>{if("Any"==e.def.type||t.type==e.def.type)n.push(t);else if("DataTable.DataFrames.DataFrame"==t.type){let e=t.props;e&&e.forEach(e=>{n.push({name:t.name+"."+e})})}}),n}function f(){const e=r.value.attributes.attributes;let t=[],n={};for(let a in e)if(a.startsWith("gb_c__")||a.startsWith("gb_b__")){let o=u(a).toLowerCase();if("id"!=o&&"charttype"!=o&&"class"!=o){let l=_(o);l||console.error("Definition not found for: ",a,o,e[a]),t.push({name:a,cleanName:o,value:e[a],def:l}),n[a]=e[a]}}return a.selectedComponent.view.el.vueApp&&a.selectedComponent.view.el.vueApp.updateAttributes(n),t=ne.a.sortBy(t,"cleanName"),t}function _(e){let t=r.value.attributes.type;"text"==t&&(t=r.value.attributes.tagName);let a=k(t);if(!a)return null;let n=a.properties.find(t=>t.name==e);return n}function h(e){let t=0==e.indexOf("gb_b_");return t}function v(e){let t=JSON.parse(e.dataTransfer.getData("text")),a=e.target.getAttribute("attrname");if(0==a.indexOf("gb_c__"))D(a,t.bindingname);else{let e={};e[a]=t.bindingname,r.value.addAttributes(e)}}function O(){s.value=!0}function j(){s.value=!1}function w(e){let t={Boolean:!0,String:"",Number:0,Array:[],Function:""},a={},n="gb_c__"+e.name,o=null!=t[e.type]?t[e.type]:"";a[n]=o,r.value.addAttributes(a),C(),window.logUserEvent("component-property::added",{component:r.value.attributes.tagName,property:u(e.name)})}function k(e){let t=p[e];return t}const x=Object(n["f"])(()=>{let e=k(r.value.attributes.tagName);if(!e)return[];let t=e.properties,a=r.value.getAttributes(),n=[];for(let l in a){let e=u(l);n.push(e)}let o=[];return t.forEach(e=>{let t=u(e.name);-1==n.indexOf(t)&&o.push(e)}),o});function C(){let e=r.value.attributes.attributes;for(let a in e)!0===e[a]&&(e[a]="true"),!1===e[a]&&(e[a]="false");let t=selectedComponent.toHTML();editor.getSelected().replaceWith(t);let n={},o=Object.getOwnPropertyNames(e);o.forEach(t=>{let a;a=void 0!=e[t]&&void 0!=e[t].nodeValue?e[t].nodeValue:e[t],n[t]=a}),a.selectedComponent.setAttributes(n);let l=a.selectedComponent.view.$el[0].vueApp;l&&l.updateAttributes(n)}function D(e,t){let a=0==e.indexOf("gb_b__")?e.replace("gb_b__","gb_c__"):e.replace("gb_c__","gb_b__");r.value.removeAttributes([e]);let n={};if(0==a.indexOf("gb_b__"))if(null!=d[t])n[a]=t;else{let e=u(a).toLowerCase(),t=_(e),o={def:t},l=g(o);l.length>0?n[a]=l[0].name:n[a]="Not Set"}else n[a]=t;r.value.addAttributes(n),C()}function S(e){a.parentPanel&&(e?a.parentPanel.expand(!0):a.parentPanel.expand(!1)),r.value=e,e&&"plotly"==e.attributes.type&&i.value.setSelectedComponent(e)}return Object(n["D"])(()=>{S(window.selectedComponent)}),t({setSelectedComponent:S,chartPropertiesPanel:i}),(t,a)=>{const c=Object(n["O"])("vscode-button"),d=Object(n["O"])("vscode-option"),p=Object(n["O"])("vscode-dropdown"),u=Object(n["O"])("q-icon");return Object(n["G"])(),Object(n["j"])("div",null,[Object(n["U"])(r)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("div",Sa,Ta)),Object(n["U"])(r)&&!l(Object(n["U"])(r))?(Object(n["G"])(),Object(n["j"])("div",La,[Object(n["l"])(" This component requires a Pro license."),Ua,Object(n["l"])(" Upgrade to Pro and start using it now!"),Aa,Object(n["l"])(),Ia,Object(n["m"])(c,{onClick:o,style:{"margin-right":"3px"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Upgrade")]),_:1})])):Object(n["i"])("",!0),Object(n["U"])(r)&&l(Object(n["U"])(r))&&"tempplaceholder"!=Object(n["U"])(r).attributes.type&&"plotly"!=Object(n["U"])(r).attributes.type?(Object(n["G"])(),Object(n["j"])("div",Ea,[Object(n["k"])("div",Ra,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(f(),e=>{var t;return Object(n["G"])(),Object(n["j"])("div",{key:e.name,class:"propRow"},[Object(n["k"])("div",Na,[1!=(null===(t=e.def)||void 0===t?void 0:t.mandatory)&&"gb_b__v-model"!=e.name?(Object(n["G"])(),Object(n["j"])("span",{key:0,onClick:t=>b(e),title:"Remove Property",class:"codicon codicon-settings"},Ha,8,Ma)):Object(n["i"])("",!0)]),Object(n["k"])("div",{class:"propRowLabel",title:e.def.name+": "+e.def.desc},Object(n["R"])(e.def.label)+": ",9,Ba),h(e.name)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("div",qa,["select"==e.def.uitype?(Object(n["G"])(),Object(n["h"])(p,{key:0,style:{width:"100%","min-width":"unset"},value:Object(n["U"])(r).attributes.attributes[e.name],onInput:t=>Object(n["U"])(r).attributes.attributes[e.name]=t.target.value,onChange:C},{default:Object(n["bb"])(()=>[Object(n["k"])("span",Fa,Object(n["R"])(Object(n["U"])(r).attributes.attributes[e.name]),1),(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(e.def.options,e=>(Object(n["G"])(),Object(n["h"])(d,{value:e,style:{padding:"5px"}},{default:Object(n["bb"])(()=>[Object(n["l"])(Object(n["R"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"enum_icons"==e.def.uitype?(Object(n["G"])(),Object(n["h"])(p,{key:1,style:{width:"100%","min-width":"unset"},value:Object(n["U"])(r).attributes.attributes[e.name],onInput:t=>Object(n["U"])(r).attributes.attributes[e.name]=t.target.value,onChange:C},{default:Object(n["bb"])(()=>[Object(n["k"])("span",za,[Object(n["k"])("i",Va,Object(n["R"])(Object(n["U"])(r).attributes.attributes[e.name]),1),Object(n["l"])(" "+Object(n["R"])(Object(n["U"])(r).attributes.attributes[e.name]),1)]),(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(e.def.options,e=>(Object(n["G"])(),Object(n["h"])(d,{value:e,style:{padding:"5px"}},{default:Object(n["bb"])(()=>[Object(n["k"])("i",$a,Object(n["R"])(e),1),Object(n["l"])(" "+Object(n["R"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"enum_colors"==e.def.uitype?(Object(n["G"])(),Object(n["h"])(p,{key:2,style:{width:"100%","min-width":"unset"},value:Object(n["U"])(r).attributes.attributes[e.name],onInput:t=>Object(n["U"])(r).attributes.attributes[e.name]=t.target.value,onChange:C},{default:Object(n["bb"])(()=>[Object(n["k"])("span",Wa,[Object(n["m"])(u,{name:"circle",color:Object(n["U"])(r).attributes.attributes[e.name],style:{"margin-right":"5px"}},null,8,["color"]),Object(n["l"])(" "+Object(n["R"])(Object(n["U"])(r).attributes.attributes[e.name]),1)]),(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(e.def.options,e=>(Object(n["G"])(),Object(n["h"])(d,{value:e,style:{padding:"5px"}},{default:Object(n["bb"])(()=>[Object(n["m"])(u,{name:"circle",color:e,style:{"margin-right":"5px"}},null,8,["color"]),Object(n["l"])(" "+Object(n["R"])(e),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onInput"])):"String"==e.def.uitype||"String"==e.def.type&&-1==e.cleanName.indexOf("color")?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:3,attrname:e.name,type:"text",onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[0]||(a[0]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[1]||(a[1]=Object(n["eb"])(()=>{},["prevent"])),class:"propInput",onChange:C,"onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,Ja)),[[n["Y"],Object(n["U"])(r).attributes.attributes[e.name]]]):"Array"==e.def.type?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:4,attrname:e.name,type:"text",onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[2]||(a[2]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[3]||(a[3]=Object(n["eb"])(()=>{},["prevent"])),class:"propInput",onChange:C,"onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,Qa)),[[n["Y"],Object(n["U"])(r).attributes.attributes[e.name]]]):"Function"==e.def.type?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:5,attrname:e.name,type:"text",onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[4]||(a[4]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[5]||(a[5]=Object(n["eb"])(()=>{},["prevent"])),class:"propInput",onChange:C,"onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t,style:{width:"220px%"}},null,40,Ya)),[[n["Y"],Object(n["U"])(r).attributes.attributes[e.name]]]):"String"==e.def.type&&e.name.indexOf("color")>-1?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:6,attrname:e.name,type:"color",onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[6]||(a[6]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[7]||(a[7]=Object(n["eb"])(()=>{},["prevent"])),class:"propInput",onChange:C,"onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t,style:{padding:"0px 2px",height:"21px"}},null,40,Xa)),[[n["Y"],Object(n["U"])(r).attributes.attributes[e.name]]]):"Number"==e.def.type?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:7,attrname:e.name,type:"number",onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[8]||(a[8]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[9]||(a[9]=Object(n["eb"])(()=>{},["prevent"])),class:"propInput",onChange:C,"onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t},null,40,Za)),[[n["Y"],Object(n["U"])(r).attributes.attributes[e.name]]]):"Boolean"==e.def.type?Object(n["cb"])((Object(n["G"])(),Object(n["j"])("input",{key:8,attrname:e.name,type:"checkbox",onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[10]||(a[10]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[11]||(a[11]=Object(n["eb"])(()=>{},["prevent"])),class:"propInput",onChange:C,"onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t,style:{width:"auto"}},null,40,Ka)),[[n["V"],Object(n["U"])(r).attributes.attributes[e.name]]]):Object(n["i"])("",!0)])),h(e.name)?(Object(n["G"])(),Object(n["j"])("div",en,[Object(n["cb"])(Object(n["k"])("select",{class:"propInput propInputDynamic","onUpdate:modelValue":t=>Object(n["U"])(r).attributes.attributes[e.name]=t,name:"cars",id:"cars",onChange:C,onDrop:Object(n["eb"])(v,["prevent"]),onDragenter:a[12]||(a[12]=Object(n["eb"])(()=>{},["prevent"])),onDragover:a[13]||(a[13]=Object(n["eb"])(()=>{},["prevent"])),attrname:e.name},[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(g(e,Object(n["U"])(r)),e=>(Object(n["G"])(),Object(n["j"])("option",{key:"binding_"+e.name,value:e.name},Object(n["R"])(e.label?e.label:e.name),9,an))),128))],40,tn),[[n["X"],Object(n["U"])(r).attributes.attributes[e.name]]])])):Object(n["i"])("",!0),"gb_b__v-model"!=e.name&&"gb_c__v-for"!=e.name?(Object(n["G"])(),Object(n["j"])("div",{key:2,onClick:t=>D(e.name,e.value),class:"propRowDynamicSwitch"},[h(e.name)?(Object(n["G"])(),Object(n["j"])("img",on)):Object(n["i"])("",!0),h(e.name)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("img",ln))],8,nn)):(Object(n["G"])(),Object(n["j"])("div",rn))])}),128)),m().length>0?(Object(n["G"])(),Object(n["j"])("div",sn,[cn,(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(m(),e=>(Object(n["G"])(),Object(n["j"])("div",{key:e.name,class:"propRow"},[Object(n["k"])("div",dn,Object(n["R"])(e.label)+": ",1),Object(n["k"])("div",pn,Object(n["R"])(e.desc),1),Object(n["k"])("div",{class:"propRowDynamicSwitch",draggable:"false",title:"Add property",onClick:t=>w(e)},mn,8,un)]))),128))])):Object(n["i"])("",!0)]),gn,!Object(n["U"])(s)&&Object(n["U"])(r)?(Object(n["G"])(),Object(n["h"])(c,{key:0,onClick:O},{default:Object(n["bb"])(()=>[Object(n["l"])("Add Property")]),_:1})):Object(n["i"])("",!0),Object(n["U"])(r)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("div",fn,hn)),Object(n["U"])(s)?(Object(n["G"])(),Object(n["h"])(xt,{key:2,propslist:x.value,onPropAdded:w,onClose:j},null,8,["propslist"])):Object(n["i"])("",!0)])):Object(n["i"])("",!0),Object(n["m"])(Ca,{ref_key:"chartPropertiesPanel",ref:i,appData:e.appData,selectedComponent:e.selectedComponent,style:{height:"100%"}},null,8,["appData","selectedComponent"])])}}};a("7e31");const vn=U()(yn,[["__scopeId","data-v-5460919c"]]);var On=vn;et()(yn,"components",{QIcon:aa["a"]});var jn=a("1020"),wn=a.n(jn),kn=a("4dd1"),xn=a.n(kn),Cn=a("de09"),Dn=a.n(Cn);a("9f21");const Sn=e=>(Object(n["J"])("data-v-0ebb8bf8"),e=e(),Object(n["H"])(),e),Pn={class:"logsPanel",style:{position:"relative"}},Tn={class:"toolBar"},Ln=Sn(()=>Object(n["k"])("option",{value:"1"},"Info",-1)),Un=Sn(()=>Object(n["k"])("option",{value:"2"},"Warning",-1)),An=Sn(()=>Object(n["k"])("option",{value:"3"},"Error",-1)),In=[Ln,Un,An],En=Sn(()=>Object(n["k"])("span",{class:"codicon codicon-settings"},[Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{"font-size":"16px",padding:"5px"}},"delete")],-1)),Rn=[En],Nn={class:"timeStamp"},Mn={class:"logLevel"},Gn=["onClick"];var Hn={__name:"LogsPanel",props:["appData"],setup(e,{expose:t}){const a=Object(n["L"])(!0),o=Object(n["L"])(!0),l=Object(n["L"])(1),i=Object(n["L"])("all"),r=Object(n["L"])(""),s=Object(n["L"])(null);wn.a.registerLanguage("javascript",xn.a),wn.a.registerLanguage("sql",Dn.a);const c={mounted(e,t){const a=t.value||"",n=wn.a.highlight("sql",a).value;e.innerHTML=`<pre style="white-space: pre-wrap; word-wrap: break-word;"><code style="display: block; width: 100%;">${n}</code></pre>`},updated(e,t){const a=t.value||"",n=wn.a.highlight("sql",a).value;e.innerHTML=`<pre style="white-space: pre-wrap; word-wrap: break-word;"><code style="display: block; width: 100%;">${n}</code></pre>`}},d=c,p=Object(n["L"])([{id:"all",label:"All"},{id:0,label:"GB"}]),u={info:1,warning:2,error:3},b=Object(n["L"])([]);window.logs=b;const m=Object(n["f"])(()=>{let e=b.value.filter(e=>{let t="server"==e.source&&a.value||"client"==e.source&&o.value,n=u[e.level]>=l.value,s="all"==i.value||e.appid==i.value,c=""==r.value||e.message.toLowerCase().indexOf(r.value.toLowerCase())>=0;return t&&n&&c&&s});return e});function g(){b.value=[]}function f(e){let t=y.appid,a=e.appid;if(void 0!=a&&a!=t)return;let n="log:message ";if(0==e.message.indexOf(n)){p.value.find(t=>t.id==e.appid)||p.value.push({id:e.appid,label:e.appid});let t=e.message.slice(n.length);0==t.indexOf("Info: ")?(e.level="info",t=t.slice("Info: ".length)):0==t.indexOf("Warning: ")?(e.level="warning",t=t.slice("Warning: ".length)):0==t.indexOf("Error: ")&&(e.level="error",t=t.slice("Error: ".length)),t=t.split(" ┌").join("┌"),e.message=t,e.appSource="0"==e.appid?"GB":"app "+e.appid,e.timestamp=e.timestamp.replace("T"," ").replace("Z","").split(".")[0],e.expanded=!1,b.value.push(e),s.value.scrollTop=s.value.scrollHeight}}return t({addLog:f}),(e,t)=>(Object(n["G"])(),Object(n["j"])("div",Pn,[Object(n["k"])("div",Tn,[Object(n["k"])("div",null,[Object(n["cb"])(Object(n["k"])("input",{type:"checkbox",id:"showServerLogs",name:"showServerLogs","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e)},null,512),[[n["V"],a.value]]),Object(n["l"])(" GB Server ")]),Object(n["k"])("div",null,[Object(n["cb"])(Object(n["k"])("input",{type:"checkbox",id:"showClientLogs",name:"showClientLogs","onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e)},null,512),[[n["V"],o.value]]),Object(n["l"])(" Client ")]),Object(n["k"])("div",null,[Object(n["cb"])(Object(n["k"])("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e)},In,512),[[n["X"],l.value]])]),Object(n["k"])("div",null,[Object(n["l"])(" Search: "),Object(n["cb"])(Object(n["k"])("input",{type:"text",id:"searchString",name:"searchString","onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e),style:{width:"200px"}},null,512),[[n["Y"],r.value]])]),Object(n["k"])("div",{style:{"text-align":"right","flex-grow":"1","flex-basis":"0"}},[Object(n["k"])("button",{class:"clearLogsButton",onClick:g,title:"Clear Logs"},Rn)])]),Object(n["k"])("div",{ref_key:"logsContainer",ref:s,class:"logsContainer"},[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(m.value,(e,t)=>(Object(n["G"])(),Object(n["j"])("div",{class:Object(n["w"])({logItem:!0,levelInfo:"info"==e.level,levelWarning:"warning"==e.level,levelError:"error"==e.level}),key:"logItem_"+t},[Object(n["k"])("div",Nn,Object(n["R"])(e.timestamp),1),Object(n["k"])("div",Mn,Object(n["R"])(e.level),1),Object(n["cb"])(Object(n["k"])("div",{class:Object(n["w"])({logMessage:!0,logMessageExpanded:e.expanded}),onClick:t=>e.expanded=!e.expanded},null,10,Gn),[[Object(n["U"])(d),e.message]])],2))),128))],512)]))}};a("2a61");const Bn=U()(Hn,[["__scopeId","data-v-0ebb8bf8"]]);var qn=Bn;et()(Hn,"components",{QIcon:aa["a"]});const Fn={class:"bindingsConnectorsContainer"},zn={width:"100%",height:"100%",style:{position:"absolute","z-index":"11","pointer-events":"none"}},Vn=["x","y","width","height"],$n=["d"];var Wn={__name:"BindingsConnector",setup(e,{expose:t}){const a=Object(n["L"])([]),o=Object(n["L"])([]),l=Object(n["L"])(null),i=Object(n["L"])(null);function r(e){let t=e,a=s(),n=Math.abs(t.x+t.width-a.x),o=.5*n,l=`M ${t.x+t.width} ${t.y+.5*t.height} C ${t.x+t.width+o} ${t.y+.5*t.height}, ${a.x-o} ${a.y+7}, ${a.x} ${a.y+7}`;return l}function s(){let e=c(i.value.element);return e}function c(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top}}function d(e){a.value=e,p()}function p(){null==l.value&&u();let e=l.value,t=a.value.map(t=>({x:t.x+e.x,y:t.y+e.y,width:t.width,height:t.height}));o.value=t}function u(){let e=document.querySelector(".gjs-frame");l.value=c(e),p()}function b(e){i.value=e}return t({updateElementsPositions:d,updateIframePosition:u,onBindingOvered:b}),(e,t)=>(Object(n["G"])(),Object(n["j"])("div",Fn,[(Object(n["G"])(),Object(n["j"])("svg",zn,[(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(o.value,e=>(Object(n["G"])(),Object(n["j"])("rect",{key:e.id,x:e.x,y:e.y,width:e.width,height:e.height,style:{fill:"transparent","stroke-width":"3",stroke:"#0099ff"}},null,8,Vn))),128)),(Object(n["G"])(!0),Object(n["j"])(n["a"],null,Object(n["M"])(o.value,e=>(Object(n["G"])(),Object(n["j"])("path",{key:e.id,d:r(e),stroke:"#0099ff","stroke-width":"2",fill:"transparent"},null,8,$n))),128))]))]))}};a("c0b1");const Jn=U()(Wn,[["__scopeId","data-v-571588a7"]]);var Qn=Jn;const Yn=e=>(Object(n["J"])("data-v-3c7358a6"),e=e(),Object(n["H"])(),e),Xn={key:0,class:"notProUI"},Zn=Yn(()=>Object(n["k"])("br",null,null,-1)),Kn=Yn(()=>Object(n["k"])("br",null,null,-1)),eo=Yn(()=>Object(n["k"])("br",null,null,-1)),to={key:1},ao={style:{position:"relative",width:"280px"}},no={class:"flex flex-col items-center justify-center p-6",style:{padding:"0px"}},oo={class:"mb-4 w-full max-w-xl"},lo={key:0,class:""},io={class:"text-red-600",style:{"margin-top":"-15px"}},ro={class:"terms",style:{"margin-top":"10px"}};var so={__name:"AiHelpPanel",props:["appData"],setup(e){const t=Object(n["f"])(()=>y.IS_PRO),a=Object(n["L"])(""),o=Object(n["L"])(null);function l(){window.showUpgradeLicenseDialog(!1)}const i=async()=>{""!==a.value.trim()?(window.parent.postMessage({command:"openAiDocs",query:a.value},"*"),a.value="",o.value=null,window.logUserEvent("ai-help-panel::ask",{})):o.value="Please enter a question."};function r(e){console.log("aiCodePanel :: openLink: ",e),window.parent.postMessage({command:"openLink",url:e,name:"Genie Builder Docs"},"*")}return(e,s)=>{const c=Object(n["O"])("vscode-button");return Object(n["G"])(),Object(n["j"])("div",null,[t.value?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("div",Xn,[Object(n["l"])(" AI Help is a Pro feature."),Zn,Object(n["l"])(" Upgrade to Pro and start using it now!"),Kn,Object(n["l"])(),eo,Object(n["m"])(c,{onClick:l,style:{"margin-right":"3px"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Upgrade")]),_:1})])),t.value?(Object(n["G"])(),Object(n["j"])("div",to,[Object(n["k"])("div",ao,[Object(n["k"])("div",no,[Object(n["k"])("div",oo,[Object(n["cb"])(Object(n["k"])("textarea",{rows:"2","onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),placeholder:"Ask AI for help on how to use Genie",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[n["Y"],a.value]])]),o.value?(Object(n["G"])(),Object(n["j"])("div",lo,[Object(n["k"])("p",io,Object(n["R"])(o.value),1)])):Object(n["i"])("",!0),Object(n["m"])(c,{onClick:i,style:{width:"100px !important"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Ask AI")]),_:1}),Object(n["k"])("div",ro,[Object(n["l"])(" Use of the AI features implies acceptance of the Genie AI "),Object(n["k"])("span",{onClick:s[1]||(s[1]=e=>r(Object(n["U"])(y).TERMS_OF_USE_URL)),style:{"text-decoration":"underline"}},"terms of use"),Object(n["l"])(". AI results can be incorrect. ")])])])])):Object(n["i"])("",!0)])}}};a("9825");const co=U()(so,[["__scopeId","data-v-3c7358a6"]]);var po=co;const uo=e=>(Object(n["J"])("data-v-b9355142"),e=e(),Object(n["H"])(),e),bo={key:0,class:"notProUI"},mo=uo(()=>Object(n["k"])("br",null,null,-1)),go=uo(()=>Object(n["k"])("br",null,null,-1)),fo=uo(()=>Object(n["k"])("br",null,null,-1)),_o={key:1},ho={key:0,class:"nothingSelected"},yo=uo(()=>Object(n["k"])("i",null,"Nothing selected",-1)),vo=[yo],Oo={key:1,style:{position:"relative"}},jo={class:"flex flex-col items-center justify-center p-6",style:{padding:"0px"}},wo={class:"mb-4 w-full max-w-xl"},ko=["disabled"],xo={key:0,class:""},Co={class:"text-red-600",style:{"margin-top":"-15px"}},Do={class:"terms",style:{"margin-top":"10px"}};var So={__name:"AiCodePanel",props:["appData","selectedComponent"],emits:["aiCodeChanged"],setup(e,{expose:t,emit:a}){const o=Object(n["f"])(()=>y.IS_PRO);let l=Object(n["L"])(null),i=Object(n["L"])(""),s=Object(n["L"])(!1),c=y.ask_ai_url+"codegen",d=Object(n["L"])({});function p(e){l.value=e}function u(){window.showUpgradeLicenseDialog(!1)}function b(e,t){const a=t.match(/#[^\{]+\{[^\}]+\}/g),n={};a&&a.forEach(e=>{const t=e.split("{"),a=t[0].trim().substring(1),o=t[1].trim().slice(0,-1);n[a]=o});const o=new DOMParser,l=o.parseFromString(`<body>${e}</body>`,"text/html");return Object.keys(n).forEach(e=>{const t=l.getElementById(e);t&&(t.style.cssText+=n[e])}),l.body.innerHTML}function m(e){window.parent.postMessage({command:"openLink",url:e},"*")}function g(e,t,n){const o=new DOMParser,l=new XMLSerializer,p=o.parseFromString(e,"text/html"),u={};p.querySelectorAll("plotly").forEach(e=>{t.forEach(t=>{if(e.hasAttribute(t)){const a=e.id;u[a]||(u[a]={}),u[a][t]=e.getAttribute(t)}})});let m=b(e,editor.getCss());a("aiCodeChanged","loading"),s.value=!0,r["a"].post(c,{content_type:"html",sessionid:y.SESSIONID,prompt:d.value.userPrompt,code:m}).then(e=>{s.value=!1;let t=JSON.parse(e.request.response);if(t.error)d.value.aiError=t.error,a("aiCodeChanged","hidden");else{s.value=!1,i.value="";let e=t.response,o=new DOMParser;const r=o.parseFromString(e,"text/html");Object.keys(u).forEach(e=>{const t=r.getElementById(e);t&&Object.entries(u[e]).forEach(([e,a])=>{t.setAttribute(e,a)})});let c,p=l.serializeToString(r.body);try{c=Le.cleanHtml(p)}catch(n){d.value.aiError=n.message,a("aiCodeChanged","hidden")}const b=o.parseFromString(c,"text/html"),m=b.body||null;Le.encodeAttributesInDOM(m);const g=m.innerHTML;d.value.aiApiResponse=g,window.lastHtmlBeforeAiReplace=editor.getHtml(),"gbTemplateContainer"==editor.getSelected().attributes.attributes.id?editor.getSelected().components(g):editor.getSelected().replaceWith(g),a("aiCodeChanged","ready")}}).catch(e=>{s.value=!1,d.value.aiError=e.message,a("aiCodeChanged","hidden")})}function f(){let e=l.value,t=e.toHTML(),a=editor.getCss({component:e,keepUnusedStyles:!1,avoidProtected:!0}),n=appData.value.pages[y.currentPageIndex].model.fields.map(e=>{let t={name:e.name,type:e.type};return null!=e.columns&&(t.columns=e.columns.map(e=>e)),t});n=JSON.stringify(n,null,4);let o=`\nUser Request: ${i.value}\n\nInstructions for AI:\n1. Layout: Utilize DIV elements with "row" and "st-col col-x col-sm st-module" classes for creating a responsive layout. The layout should be divided into the sections described above. For columns, ("col-x"), "x" is a number between 1 and 12. \n2. Components: Wherever possible, employ Quasar 1 components for UI elements. For date selection, use 'q-date' instead of standard HTML input components. Refer to the supported components list provided below.\n3. never nest a "row" directly as a child of a "row" or a "col" directly as a child of a "col".\n4. For 'q-table' elements, bind data using only "DataTable" or Array types, never DataFrames.\n5. Data Binding: Properly assign data to UI components, ensuring mandatory attributes like 'v-model' are used for input components such as textfields, select, and checkbox. \n6. Rules:\n   - Avoid using '<template>' tags.\n   - In dynamic attributes (starting with ':'), do not use interpolated values (e.g., avoid '{{value}}').\n   - Never return an element with a CSS class whose name is or starts with "gbTemplateContainer"\n7. Other components: \n7.1. For "big numbers" use this component template (use colon in attributes for bindings if necessary):\n<st-big-number number="0" title="Label"></st-big-number>\n7.2. For date pickers use this component template (use colon in attributes for bindings if necessary, and note that v-model value must match for the INPUT and the q-date components):\n<q-input iscomposite="true" v-model="undefined" clearable="true" filled="true" label="Pick a date"><q-icon class="cursor-pointer" name="event" style="height: 100%;"><q-popup-proxy><q-date v-model="undefined" mask="YYYY-MM-DD" no-unset="true" today-btn="true"></q-date></q-popup-proxy></q-icon></q-input>\n7.3. For date pickers use this component template (use colon in attributes for bindings if necessary, and note that v-model value must match for the INPUT and the q-date components):\n<q-input v-model="undefined" clearable="true" filled="true" label="Pick a time"><q-icon class="cursor-pointer" name="alarm" style="height: 100%;"><q-popup-proxy><q-time v-model="undefined" mask="HH:mm:ss"></q-time></q-popup-proxy></q-icon></q-input>\n7.4. For charts, use Plotly library, with this component template below, replacing binding names as needed and preserving the $_{} syntax found in the template. When binding to DataFrame data, never bind directly to it, always bind to a nested column (i.e. myDataFrame.myColumn), and use the syntax found in the template ( i.e. $_{myDataFrame.myColumn} ). Do not use the colon ":" prefix inside attribute values, that's only for dynamic attribute names when appropriate. Make sure the plot data is properly bsae64 encoded.\n8. Styles should always be applied inline. If user provides current css styles (see below), make sure to apply them inline to your answer, unless user requests to change or remove them,\n\n<plotly data="W3siZ2J0eXBlIjoiU2NhdHRlciIsIngiOiIkX3tCSU5ESU5HX05BTUV9IiwieSI6IiRfe0FOT1RIRVJfQklORElOR19OQU1FfSIsInR5cGUiOiJzY2F0dGVyIiwibW9kZSI6ImxpbmVzIiwibmFtZSI6IlRyYWNlIn1d" config="e30=" layout="eyJ0aXRsZSI6Ik15IENoYXJ0In0="></plotly>\n\nAvailable Data (Bindings):\n${n}\n\nSupported Quasar Components:\n["q-input", "q-btn", "q-select", "q-radio", "q-checkbox", "q-toggle", "q-slider", "q-range", "q-date", "q-time", "q-knob", "q-list", "q-table", "q-img", "q-video", "q-avatar", "q-badge", "q-chip", "q-icon", "q-rating", "q-spinner", "q-timeline", "q-timeline-entry", "q-scroll-area"]\n\nRelated CSS styles:\n${a}\n`;d.value={selectedHtml:t,userPrompt:o},d.value.previousPrompt=i.value;const r=d.value.selectedHtml,s=new DOMParser,c=s.parseFromString(r,"text/html"),p=c.body||null;Le.decodeAttributesInDOM(p);const u=p.innerHTML;g(u,["data","config","layout"],e=>{}),window.logUserEvent("ai-code-panel::ask",{})}return t({setSelectedComponent:p}),(e,t)=>{const a=Object(n["O"])("vscode-button");return Object(n["G"])(),Object(n["j"])("div",null,[o.value?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("div",bo,[Object(n["l"])(" The AI Assistant is a Pro feature."),mo,Object(n["l"])(" Upgrade to Pro and start using it now!"),go,Object(n["l"])(),fo,Object(n["m"])(a,{onClick:u,style:{"margin-right":"3px"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Upgrade")]),_:1})])),o.value?(Object(n["G"])(),Object(n["j"])("div",_o,[Object(n["U"])(l)?(Object(n["G"])(),Object(n["j"])("div",Oo,[Object(n["k"])("div",jo,[Object(n["k"])("div",wo,[Object(n["cb"])(Object(n["k"])("textarea",{rows:"2","onUpdate:modelValue":t[0]||(t[0]=e=>Object(n["s"])(i)?i.value=e:i=e),disabled:Object(n["U"])(s),placeholder:"Select a UI component and ask AI to style or edit it",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,8,ko),[[n["Y"],Object(n["U"])(i)]])]),Object(n["U"])(d).aiError?(Object(n["G"])(),Object(n["j"])("div",xo,[Object(n["k"])("p",Co,Object(n["R"])(Object(n["U"])(d).aiError),1)])):Object(n["i"])("",!0),Object(n["U"])(s)?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["h"])(a,{key:1,onClick:f,style:{width:"100px !important"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Ask AI")]),_:1})),Object(n["U"])(s)?(Object(n["G"])(),Object(n["h"])(a,{key:2,disabled:"",style:{width:"100px !important"}},{default:Object(n["bb"])(()=>[Object(n["l"])("Plese wait...")]),_:1})):Object(n["i"])("",!0),Object(n["k"])("div",Do,[Object(n["l"])(" Use of the AI features implies acceptance of the Genie AI "),Object(n["k"])("span",{onClick:t[1]||(t[1]=e=>m(Object(n["U"])(y).TERMS_OF_USE_URL)),style:{"text-decoration":"underline"}},"terms of use"),Object(n["l"])(". AI results can be incorrect. ")])])])):(Object(n["G"])(),Object(n["j"])("div",ho,vo))])):Object(n["i"])("",!0)])}}},Po=(a("e804"),a("52ee")),To=a("27f9"),Lo=a("7cbe"),Uo=a("ca78"),Ao=a("9c40"),Io=a("ddd8"),Eo=a("3786"),Ro=a("8f8e"),No=a("9564"),Mo=a("c1d0"),Go=a("7bbf"),Ho=a("3845"),Bo=a("1c1c"),qo=a("6ac0"),Fo=a("cb32"),zo=a("58a8"),Vo=a("b047"),$o=a("daf4"),Wo=a("0d59"),Jo=a("05eb"),Qo=a("74af"),Yo=a("4983");const Xo=U()(So,[["__scopeId","data-v-b9355142"]]);var Zo=Xo;et()(So,"components",{QDate:Po["a"],QTable:$e["a"],QInput:To["a"],QIcon:aa["a"],QPopupProxy:Lo["a"],QTime:Uo["a"],QBtn:Ao["a"],QSelect:Io["a"],QRadio:Eo["a"],QCheckbox:Ro["a"],QToggle:No["a"],QSlider:Mo["a"],QRange:Go["a"],QKnob:Ho["a"],QList:Bo["a"],QImg:Je["a"],QVideo:qo["a"],QAvatar:Fo["a"],QBadge:zo["a"],QChip:Vo["a"],QRating:$o["a"],QSpinner:Wo["a"],QTimeline:Jo["a"],QTimelineEntry:Qo["a"],QScrollArea:Yo["a"]});class Ko{constructor(e,t,a){this.wsEndpoint=y.getExternalApiBaseUrl("ws"),this.ws=null,this.onOpenHandler=e,this.onCloseHandler=t,this.onMessageHandler=a}connect(){this.ws=new WebSocket(this.wsEndpoint),this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onclose=this.onClose.bind(this)}restart(e){e=e||1,setTimeout(()=>{this.connect()},1e3*e)}onOpen(){this.ws.send(JSON.stringify({channel:"geniebuilder",message:"subscribe",payload:{}})),this.onOpenHandler()}onMessage(e){this.onMessageHandler(e)}onClose(){this.onCloseHandler()}}const el=e=>(Object(n["J"])("data-v-2fb0aa2c"),e=e(),Object(n["H"])(),e),tl={key:0,class:"mainContainer"},al={class:"topBar"},nl={style:{width:"100%",display:"flex","flex-direction":"row","justify-content":"end","padding-right":"12px"}},ol=el(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"feedback",-1)),ll=[ol],il=el(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"help",-1)),rl=[il],sl=el(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"palette",-1)),cl=el(()=>Object(n["k"])("img",{src:"img/icons/pro_badge.png",class:"proBadge",style:{height:"10px",position:"absolute",top:"20px",right:"-4px","pointer-events":"none"}},null,-1)),dl=[sl,cl],pl=el(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"refresh",-1)),ul=[pl],bl=el(()=>Object(n["k"])("i",{"aria-hidden":"true",role:"img",class:"q-icon notranslate material-icons",style:{}},"save",-1)),ml=[bl],gl={class:"topToolBar",style:{display:"flex","flex-direction":"row"}},fl={key:0,style:{"flex-grow":"1","text-align":"left","padding-left":"15px"}},_l={style:{display:"flex","flex-direction":"column"}},hl=["innerHTML"],yl={style:{"margin-right":"10px",color:"rgb(204, 204, 204)",width:"100%",padding:"3px 0px","font-size":"0.9em",position:"relative",top:"-8px",opacity:"0.7"}},vl={class:"rowStack"},Ol={class:"centralBar"},jl={class:"panel canvasPanel",style:{}},wl={class:"panel logsPanel"},kl={class:"panel bindingsPanel fullHeight"},xl=el(()=>Object(n["k"])("div",{id:"myStyleEditorContainer"},[Object(n["k"])("div",{id:"myStyleEditorContainerClasses"}),Object(n["k"])("div",{id:"myStyleEditorContainerSections"})],-1)),Cl=el(()=>Object(n["k"])("div",{id:"layersContainer"},null,-1)),Dl={class:"nothingSelected"},Sl=el(()=>Object(n["k"])("i",null,"Nothing selected",-1)),Pl=[Sl],Tl={id:"customCodeEditor"},Ll={class:"panel propertiesPanel fullHeight"},Ul={class:"panel aiHelpPanel fullHeight"};var Al={__name:"Main",setup(e,{expose:t}){O();const a="1.0.2";let o=Object(n["L"])(null),l=Object(n["L"])("test <p>para</p>"),i=Object(n["L"])({mode:"text/xml",theme:"neat",lineWrapping:!0}),s={indent_size:4,indent_char:" ",max_preserve_newlines:5,preserve_newlines:!0,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"collapse",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!1,wrap_line_length:0,indent_inner_html:!1,comma_first:!1,e4x:!1,indent_empty_lines:!1,inline_custom_elements:!1},c="",d="",p="",u=Object(n["L"])(null),b=localStorage.getItem("panelStates");b?u.value=JSON.parse(b):(u.value={bindingsPanelContainer:{expanded:!0,size:10},propertiesPanelContainer:{expanded:!0,size:10},aiHelpPanelContainer:{expanded:!0,size:10}},R());const m=Object(n["L"])(null),h=Object(n["L"])(null),v=Object(n["L"])(null),j=Object(n["L"])(null),w=Object(n["L"])(null),k=Object(n["L"])(null),x=Object(n["L"])(null),C=Object(n["L"])(null),D=Object(n["L"])(null),S=Object(n["L"])(null),P=Object(n["L"])(null),T=Object(n["L"])(null);let L=null,U=!1,A=window.appData=Object(n["L"])(null);const I=window.statusMonitor=new Ko(_e,ye,he),E=Object(n["f"])(()=>{let e="Properties";return T&&T.value?T.value.attributes.name&&(e+=" - "+T.value.attributes.name):e+=" (nothing selected)",e});function R(){try{u.value.bindingsPanelContainer.size=Math.round(document.getElementById("bindingsPanelContainer_Pane").style.height.split("%").join("")),u.value.propertiesPanelContainer.size=Math.round(document.getElementById("propertiesPanelContainer_Pane").style.height.split("%").join("")),u.value.aiHelpPanelContainer.size=Math.round(document.getElementById("aiHelpPanelContainer_Pane").style.height.split("%").join(""))}catch(e){console.error("savePanelStates error",e)}localStorage.setItem("panelStates",JSON.stringify(u.value))}function N(){R()}function M(e,t){u.value[e].expanded=t,R()}function H(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function B(){return y.IS_PRO}function q(){let e='Genie Builder <span style=" font-weight: bold;">';return e+=H(B()?y.LICENSE_TYPE:"Lite"),e+="</span>",e}function F(e){4==e&&setTimeout(()=>{Z()},200)}function z(e){w.value.showAiCodePreview(e)}function $(){let e=l.value;const t=new DOMParser,a=t.parseFromString(e,"text/html"),n=a.body;Le.encodeAttributesInDOM(n);const o=n.innerHTML;let i=editor.getCss();editor.getSelected().replaceWith(o),editor.setStyle(i),window.logUserEvent("code-editor::appliedChanges",{component:window.selectedComponent.attributes.tagName})}function W(e){k.value.setHandleBlocks(e)}function Q(e){P.value.onBindingOvered(e);let t=document.querySelector(".gjs-frame");if(e.binding){let a={target:"main-controller",payload:{command:"reportElementsUsingBinding",bindingName:e.binding.name}};t.contentWindow.postMessage(a,"*")}else P.value.updateElementsPositions([])}function Y(e){var t;let a=e.bindingInfo.bindingname,n=null===(t=sharedData.modelFieldsByName[a])||void 0===t?void 0:t.columns;if(n&&n.length>0){let t,o;t=o=`$_{${a}.${n[0]}}`,n.length>1&&(o=`$_{${a}.${n[1]}}`);let l=e.newComponentModel;editor.select(e.targetModel),setTimeout(()=>{var a;let n=null===(a=C.value)||void 0===a?void 0:a.chartPropertiesPanel;n&&n.addNewTraceFromBinding(t,o),editor.select(l);let i=l.collection;i.remove(l),editor.select(e.targetModel)},100)}}function X(e){window.selectedComponent=T.value=e,C.value&&C.value.setSelectedComponent(e),S.value&&S.value.setSelectedComponent(e),Z()}function Z(){let e=T.value;if(!e)return;let t=e.toHTML();const a=t,n=new DOMParser,i=n.parseFromString(a,"text/html"),r=i;Le.decodeAttributesInDOM(r),t=r.querySelector("body").innerHTML;let c=html_beautify(t,s);l.value=c,o.value.refresh()}function K(e=!0){window.showUpgradeLicenseDialog(e)}function ee(){y.IS_PRO?window.parent.postMessage({command:"openThemeEditor",appid:y.appid},"*"):window.showUpgradeLicenseDialog(),window.logUserEvent("toolbar::click",{element:"themeEditor",available:y.IS_PRO})}function ae(){window.location.reload(),window.logUserEvent("toolbar::click",{element:"reloadNocodeEditor"})}function ne(e){A.value=e}function oe(e){const t={"{Function}":"Function","{Bool}":"Boolean","{String}":"String","{Char}":"String","{Date}":"Date","{Number}":"Number","{Int64}":"Number","{Int32}":"Number","{Int16}":"Number","{Int8}":"Number","{Float64}":"Number","{Float32}":"Number","{Float16}":"Number","{Float8}":"Number","{Vector}":"Array","{Vector{Any}}":"Array","{Vector{Bool}}":"Array","{Vector{String}}":"Array","{Vector{Char}}":"Array","{Vector{Number}}":"Array","{Vector{Float64}}":"Array","{Vector{Int64}}":"Array","{Vector{Int32}}":"Array","{Vector{Int16}}":"Array","{Vector{Int8}}":"Array","Vector{Dict}":"Array","{Object}":"Object","{NamedTuple{(:min, :max), Tuple{Int64, Int64}}}":"Object","{Dict}":"Object","{RangeData{Int64}}":"Object","{Vector{PlotlyBase.GenericTrace{Dict{Symbol, Any}}}}":"PlotlyBase.GenericTrace","{PlotlyBase.Layout{Dict{Symbol, Any}}}":"PlotlyBase.Layout","{DataTable{DataFrames.DataFrame}}":"DataTable.DataFrames.DataFrame","{DataFrames.DataFrame}":"DataFrames.DataFrame","{DataFrame}":"DataFrames.DataFrame","{PlotlyData}":"PlotlyData","{DataTablePagination}":"DataTablePagination"};e.forEach(e=>{e.model.fields=e.model.fields.filter(e=>e.isreactive),e.model.fields.forEach(e=>{let a=e.type,n=a.replace("Reactive",""),o=t[n];void 0!=o||0!=n.indexOf("{Vector{Dict{")&&0!=n.indexOf("{Vector{Vector{")||(o="Array"),e.type=o||"UnknownType"}),e.model.fields=g["a"].sortBy(e.model.fields,e=>e.name.toLowerCase())})}function le(){let e=editor.getCss();const t=editor.getHtml({cleanId:!0}),a=new DOMParser,n=a.parseFromString(t,"text/html"),o=n.body.querySelector("#gbTemplateContainer")||null;let l=/\*\s*{[^}]*}|body\s*{[^}]*}/g;e=e.replace(l,""),Le.decodeAttributesInDOM(o);const i=o.innerHTML;let r=html_beautify(i,s);return r=Le.restoreSpecialElements(r),{beautifiedHtml:r,editedHtmlCss:e}}function ie(e,t){function a(e){const t=/([^{]+)\{([^}]+)\}/g;let a;const n={};while(null!==(a=t.exec(e))){const e=a[1].trim(),t=a[2].trim();n[e]=t}return n}function n(e){return Object.entries(e).map(([e,t])=>`${e} { ${t} }`).join(" ")}const o=a(e),l=a(t);for(const[i,r]of Object.entries(l))o[i]=r;return n(o)}function re(e){let t=new DOMParser,a=t.parseFromString(e,"text/html");const n=a.body||null,o=n.innerHTML;let l=html_beautify(o,s);return l=Le.restoreSpecialElements(l),l}function se(){ce()}function ce(e){e&&window.logUserEvent("toolbar::click",{element:"save"});let{beautifiedHtml:t,editedHtmlCss:a}=le(),n=t.indexOf("<tempplaceholder")>-1;if(n)return;let o=re(t),l=re(p),i=l!=o;if(!i&&!e)return;if(p=t,y.elementid){const e=new DOMParser,a=e.parseFromString(c,"text/html");let n=a.querySelector("#"+y.elementid);n.innerHTML=t;const o=a.body,l=o.innerHTML;t=html_beautify(l,s),t=Le.restoreSpecialElements(t)}let u=L.view,b=encodeURIComponent(u),m=`${apibase}apps/${y.appid}/save?path=${b}`;U=!0,r["a"].post(m,{payload:t}).then(e=>{if(200==e.status){if(y.elementid){let e=ie(d,a);a=e}setTimeout(()=>{let e=`${apibase}apps/${y.appid}/save?path=public/css/autogenerated.css`;r["a"].post(e,{payload:a}).then(e=>{U=!1}).catch(e=>{})},1e3)}else fe(`There was an issue saving your changes (code ${e.status}). If the problem persists please try reloading this window.`)}).catch(e=>{fe("There was an issue saving your changes (Network error). If the problem persists please try reloading this window.")})}function de(){let e=L.config.app_path+"/"+L.view;localStorage.removeItem("unsavedChanges__"+e)}function pe(){let e=L.config.app_path+"/"+L.view,t=localStorage.getItem("unsavedChanges__"+e);return t&&(t=JSON.parse(t)),t}function ue(){let e=L.config.app_path+"/"+L.view,t=le();t=JSON.stringify(t),localStorage.setItem("unsavedChanges__"+e,t)}function be(){window.parent.postMessage({command:"openFeedbackForm"},"*"),window.logUserEvent("toolbar::click",{element:"feedbackForm"})}function me(){window.parent.postMessage({command:"openHelpPage"},"*"),window.logUserEvent("toolbar::click",{element:"getSupport"})}function ge(){window.parent.postMessage({command:"informNoCodeVersion",metadata:{nocodeVersion:a}},"*")}function fe(e){window.parent.postMessage({command:"showApiErrorAlert",message:e},"*")}function _e(e){}function he(e){let t=JSON.parse(e.data);if(t.message&&0==t.message.indexOf("base64:")&&(t.message=atob(t.message.replace("base64:",""))),t.message&&0==t.message.indexOf("filechanged:")){let e=t.message.replace("filechanged:",""),a=L.config.app_path+"/"+L.view,n=e==a,o=e.indexOf("autogenerated.css")>-1,l=e.indexOf("theme.css")>-1;(l||!o&&!U)&&(n||ue(),window.location.reload())}else j&&j.value&&j.value.addLog({appid:t.appid,timestamp:t.timestamp,source:"server",level:t.type,message:t.message+": "+t.status})}function ye(e){I.restart(5)}function ve(){const e=editor.getSelected();window.logUserEvent("component::editNested",{component:e.attributes.tagName}),window.parent.postMessage({command:"editNestedComponent",appid:searchParams.appid,filepath:searchParams.filepath,ccid:e.getId()},"*")}function Oe(){ge(),window.showUpgradeLicenseDialog=(e=!0)=>{window.parent.postMessage({command:"showUpgradeLicenseDialog",metadata:{showDialog:e}},"*")},window.canvasPanel=w,document.addEventListener("scroll",e=>{let t=P.value;null!=t&&t.updateIframePosition()}),document.addEventListener("keydown",e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"s":e.preventDefault(),ce();break;case"z":e.preventDefault(),e.shiftKey?document.execCommand("redo"):document.execCommand("undo");break;case"c":e.preventDefault(),document.execCommand("copy");break;case"v":e.preventDefault(),document.execCommand("paste");break;case"x":e.preventDefault(),document.execCommand("cut");case"a":e.preventDefault(),document.execCommand("selectAll")}}),window.addEventListener("message",e=>{if("nocode-builder"!==e.data.target)return;let t=P.value;null!=t&&t.updateElementsPositions(e.data.payload)},!1),apibase&&y.appid&&(r["a"].get(apibase+"apps").then(e=>{let t=e.data.applications.find(e=>e.id.value.toString()==y.appid),a=t;null!=t&&r["a"].get(apibase+"apps/"+y.appid+"/pages").then(e=>{oe(e.data.pages),a.pages=e.data.pages,ne(a),setTimeout(()=>{L=e.data.pages[y.currentPageIndex];let t,a=pe();if(a)de(),t=a.beautifiedHtml,p=t,w.value.updateTemplateFile(t);else{let e=apibase+"apps/"+y.appid+"/edit?path="+encodeURIComponent(L.view);r["a"].get(e).then(e=>{if(y.elementid){c=e.data.content;const a=new DOMParser,n=a.parseFromString(e.data.content,"text/html");t=n.querySelector("#"+y.elementid).innerHTML;let o=`${apibase}apps/${y.appid}/edit?path=public/css/autogenerated.css`;r["a"].get(o).then(e=>{d=e.data.content}).catch(e=>{console.error("error loading full css file: ",o,e)})}else t=e.data.content;p=t,w.value.updateTemplateFile(t)}).catch(t=>{console.error("error loading template file: ",e,t)})}},300)}).catch(e=>{})}).catch(e=>{}),I.connect())}return window.switchCodeEditorTheme=()=>{"light"==window.currentThemeType?i.value.theme="neat":i.value.theme="dracula",themeType=window.currentThemeType,o.value&&o.value.refresh()},t({startEditingComponentContent:ve}),Object(n["D"])(()=>{Oe()}),(e,t)=>{const r=Object(n["O"])("vscode-button");return Object(n["U"])(A)?(Object(n["G"])(),Object(n["j"])("div",tl,[Object(n["k"])("div",al,[Object(n["k"])("div",nl,[Object(n["k"])("div",{class:"topbarButton",onClick:be,title:"Give Feedback",style:{"padding-top":"5px"}},ll),Object(n["k"])("div",{class:"topbarButton",onClick:me,title:"Get Support"},rl),Object(n["k"])("div",{class:"topbarButton",onClick:ee,title:"Theme Editor"},dl),Object(n["k"])("div",{class:"topbarButton",onClick:ae,title:"Reload"},ul),Object(n["k"])("div",{class:"topbarButton",onClick:t[0]||(t[0]=e=>ce(!0)),title:"Save"},ml)]),Object(n["k"])("div",gl,[B()?Object(n["i"])("",!0):(Object(n["G"])(),Object(n["j"])("div",fl,[Object(n["m"])(r,{onClick:t[1]||(t[1]=e=>K(!1)),style:{}},{default:Object(n["bb"])(()=>[Object(n["l"])("Upgrade to PRO")]),_:1})])),Object(n["k"])("div",_l,[Object(n["k"])("div",{class:"gbLogo",innerHTML:q()},null,8,hl),Object(n["k"])("div",yl,"v "+Object(n["R"])(Object(n["U"])(a)),1)])])]),Object(n["k"])("div",vl,[Object(n["k"])("div",Ol,[Object(n["k"])("div",jl,[Object(n["m"])(at,{ref_key:"canvasPanel",ref:w,onAutoSaveTriggered:se,onSaveTriggered:t[2]||(t[2]=e=>ce(!0)),onComponentSelected:X,onBindingDroppedOnComponent:Y,appData:Object(n["U"])(A)},null,8,["appData"])]),Object(n["k"])("div",wl,[Object(n["m"])(G,{title:"Logs"},{default:Object(n["bb"])(()=>[Object(n["m"])(qn,{ref_key:"logsPanel",ref:j,appData:Object(n["U"])(A)},null,8,["appData"])]),_:1})])]),Object(n["m"])(Object(n["U"])(f["b"]),{horizontal:"",class:"rightBar",onResized:N},{default:Object(n["bb"])(()=>[Object(n["m"])(Object(n["U"])(f["a"]),{id:"bindingsPanelContainer_Pane",size:Object(n["U"])(u).bindingsPanelContainer.size,style:Object(n["x"])({minHeight:Object(n["U"])(u).bindingsPanelContainer.expanded?"200px":"25px",maxHeight:Object(n["U"])(u).bindingsPanelContainer.expanded?"100%":"25px"})},{default:Object(n["bb"])(()=>[Object(n["k"])("div",kl,[Object(n["m"])(G,{title:"Library & Bindings",ref_key:"bindingsPanelContainer",ref:m,"onUpdate:expanded":t[4]||(t[4]=e=>M("bindingsPanelContainer",e)),class:"fullHeight"},{default:Object(n["bb"])(()=>[Object(n["m"])(V,{mode:"light",onChangeTab:F,style:{height:"100%",display:"flex","flex-direction":"column"}},{default:Object(n["bb"])(()=>[Object(n["m"])(J,{title:"UI Library",active:"true",style:{}},{default:Object(n["bb"])(()=>[Object(n["m"])(mt,{ref_key:"libraryPanel",ref:x,onBlockCustomTriggered:W},null,512)]),_:1}),Object(n["m"])(J,{title:"Styles"},{default:Object(n["bb"])(()=>[xl]),_:1}),Object(n["m"])(J,{title:"Bindings"},{default:Object(n["bb"])(()=>[Object(n["m"])(te,{ref_key:"bindingsPanel",ref:k,appData:Object(n["U"])(A),onBindingOvered:Q},null,8,["appData"])]),_:1}),Object(n["m"])(J,{title:"Layers"},{default:Object(n["bb"])(()=>[Cl]),_:1}),Object(n["m"])(J,{title:"Code",style:{width:"100%"}},{default:Object(n["bb"])(()=>[Object(n["cb"])(Object(n["k"])("div",Dl,Pl,512),[[n["Z"],!T.value]]),Object(n["cb"])(Object(n["k"])("div",Tl,[Object(n["m"])(Object(n["U"])(_["a"]),{ref_key:"codeEditor",ref:o,value:Object(n["U"])(l),"onUpdate:value":t[3]||(t[3]=e=>Object(n["s"])(l)?l.value=e:l=e),options:Object(n["U"])(i),border:"",placeholder:"test placeholder",height:200},null,8,["value","options"]),Object(n["m"])(r,{onClick:$},{default:Object(n["bb"])(()=>[Object(n["l"])("Apply")]),_:1})],512),[[n["Z"],T.value]])]),_:1})]),_:1})]),_:1},512)])]),_:1},8,["size","style"]),Object(n["m"])(Object(n["U"])(f["a"]),{id:"propertiesPanelContainer_Pane",size:Object(n["U"])(u).propertiesPanelContainer.size,style:Object(n["x"])({minHeight:Object(n["U"])(u).propertiesPanelContainer.expanded?"100px":"25px",maxHeight:Object(n["U"])(u).propertiesPanelContainer.expanded?"100%":"25px"})},{default:Object(n["bb"])(()=>[Object(n["k"])("div",Ll,[Object(n["m"])(G,{title:E.value,ref_key:"propertiesPanelContainer",ref:h,"onUpdate:expanded":t[5]||(t[5]=e=>M("propertiesPanelContainer",e)),class:"fullHeight"},{default:Object(n["bb"])(()=>[Object(n["m"])(On,{ref_key:"propertiesPanel",ref:C,appData:Object(n["U"])(A),selectedComponent:T.value,class:"fullHeight",parentPanel:h.value},null,8,["appData","selectedComponent","parentPanel"])]),_:1},8,["title"])])]),_:1},8,["size","style"]),Object(n["m"])(Object(n["U"])(f["a"]),{id:"aiHelpPanelContainer_Pane",size:Object(n["U"])(u).aiHelpPanelContainer.size,style:Object(n["x"])({minHeight:Object(n["U"])(u).aiHelpPanelContainer.expanded?"150px":"25px",maxHeight:Object(n["U"])(u).aiHelpPanelContainer.expanded?"100%":"25px"})},{default:Object(n["bb"])(()=>[Object(n["k"])("div",Ul,[Object(n["m"])(G,{title:"AI Assistant",ref_key:"aiHelpPanelContainer",ref:v,"onUpdate:expanded":t[6]||(t[6]=e=>M("aiHelpPanelContainer",e)),class:"fullHeight"},{default:Object(n["bb"])(()=>[Object(n["m"])(V,{mode:"light",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:Object(n["bb"])(()=>[Object(n["m"])(J,{title:"UI",active:"true"},{default:Object(n["bb"])(()=>[Object(n["m"])(Zo,{ref_key:"aiCodePanel",ref:S,appData:Object(n["U"])(A),onAiCodeChanged:z,selectedComponent:T.value,class:"fullHeight"},null,8,["appData","selectedComponent"])]),_:1}),Object(n["m"])(J,{title:"Help",style:{}},{default:Object(n["bb"])(()=>[Object(n["m"])(po,{ref_key:"aiHelpPanel",ref:D,appData:Object(n["U"])(A),selectedComponent:T.value,class:"fullHeight"},null,8,["appData","selectedComponent"])]),_:1})]),_:1})]),_:1},512)])]),_:1},8,["size","style"])]),_:1})]),Object(n["m"])(Qn,{ref_key:"bindingConnectorsManager",ref:P,appData:Object(n["U"])(A)},null,8,["appData"])])):Object(n["i"])("",!0)}}};a("e1f3");const Il=U()(Al,[["__scopeId","data-v-2fb0aa2c"]]);var El=Il;et()(Al,"components",{QIcon:aa["a"]});var Rl={__name:"App",setup(e){window.uikit=s,window.provideVSCodeDesignSystem=c["a"];const t=Object(n["L"])(null);function a(){window.mainController=t}return Object(c["a"])().register(Object(d["c"])(),Object(p["c"])(),Object(u["b"])(),Object(b["b"])(),Object(m["b"])()),Object(n["D"])(()=>{a()}),(e,a)=>(Object(n["G"])(),Object(n["h"])(El,{ref_key:"mainController",ref:t,msg:"Genie Builder No-Code Editor"},null,512))}};a("2e33");const Nl=Rl;var Ml=Nl,Gl=a("5502"),Hl=Object(Gl["a"])({state:{},mutations:{},actions:{},modules:{}});function Bl(e,t,a){const n=e.map(e=>fetch(e).then(t=>{if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.statusText}`);return t.json()}));Promise.all(n).then(e=>{e.forEach(e=>{t(e)})}).catch(e=>{console.error("One or more requests failed:",e)}).finally(()=>{a()})}function ql(){let e=["appid","appport","CHANNEL__","GB_SOURCE","GB_HOST","GB_PORT","USER_EMAIL","SESSIONID"],t=[];window.searchParams=getSearchParams();let a="NCD. URL Params\n------------------------";if(e.forEach(e=>{a+=`\n  - ${e}: ${searchParams[e]}`,void 0==searchParams[e]?t.push(e):y[e]=searchParams[e]}),y.elementid=searchParams.elementid,t.length>0){let e="Missing URL params: "+t.join(", ");throw alert(e),new Error(e)}r["a"].defaults.headers.common["gb-sessionid"]=""+y.SESSIONID,window.apibase=y.getExternalApiBaseUrl("http")+"api/v1/",window.themeType="dark","light"==searchParams.theme&&(themeType="light"),setTheme(themeType),y.IS_PRO="true"==searchParams.ispro,y.LICENSE_TYPE=searchParams.license_type,y.currentPageIndex=searchParams.pageindex,apibase&&y.appid&&r["a"].get(apibase+"apps").then(e=>{let t=e.data.applications.find(e=>e.id.value.toString()==y.appid);window.fullAppData=t,null!=t&&r["a"].get(apibase+"apps/"+y.appid+"/pages").then(e=>{let t=e.data.pages[0],a=extractCustomComponentsFromPageAssets(t.gb_components),r=y.getAppBaseUrl("http",y.appport);a=a.map(e=>{e.startsWith("/")&&(e=e.substring(1));let t=r+e;return t});let s=[];Bl(a,e=>{let a=e,n=t,o=a.gbPluginId,l=n.gb_components[o],i=l.find(e=>e.endsWith("png"));if(i){let e="{appPath}"+i;a.icon=e}s.push(a)},()=>{De(e=>{window.blockDefinitions=e,s.forEach(e=>{window.blockDefinitions.push(e)});let t=Object(n["g"])(Ml);const a={position:"top-right",timeout:5e4,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!1,showCloseButtonOnHover:!0,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};t.use(l["a"],a),t.use(o["a"],i).use(Hl).mount("#app")})})}).catch(e=>{console.log("error",e)})}).catch(e=>{console.log("error",e)})}window.axios=r["a"],window.currentThemeType="light",window.canvasComponents={},window.addCanvasComponent=function(e,t){window.canvasComponents[e]=t},window.removeCanvasComponent=function(e){delete window.canvasComponents[e]},window.setTheme=function(e){document.querySelector("body").setAttribute("style",""),"dark"===e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light"),window.currentThemeType=e,window.switchCodeEditorTheme&&window.switchCodeEditorTheme(e)},window.getSearchParams=()=>{const e=new URLSearchParams(window.location.search),t={};for(const[a,n]of e.entries())t[a]=n;return t},window.addEventListener("message",e=>{"removeCanvasComponent"===e.data.command?window.removeCanvasComponent(e.data.uid):"updateTheme"===e.data.command&&window.setTheme(e.data.themeType)},!1),window.customComponentsCssPaths=[],window.extractCustomComponentsFromPageAssets=function(e){let t=y.getAppBaseUrl("http",y.appport),a=[];for(let n in e){let o=e[n];o.forEach((e,n)=>{if(e.startsWith("/")&&(e=e.substring(1)),e.endsWith("definitions.json"))a.push(e);else if(e.endsWith(".css")){let a=t+e;customComponentsCssPaths.push(a)}})}return a},window.logUserEvent=(e,t)=>{void 0!=e&&void 0!=t&&window.parent.postMessage({command:"logUserEvent",name:e,data:t},"*")},ql()},"5bdb":function(e,t,a){},"60cf":function(e,t,a){},"626f":function(e,t,a){},"6d13":function(e,t,a){},"6f71":function(e,t,a){},"763e":function(e,t,a){},"774b":function(e,t,a){"use strict";a("5bdb")},"77a2":function(e,t,a){"use strict";a("03c2")},"7e31":function(e,t,a){"use strict";a("f975")},9825:function(e,t,a){"use strict";a("2435")},"9ebb":function(e,t,a){"use strict";a("106b")},"9ff3":function(e,t,a){},ab4e:function(e,t,a){},b9b0:function(e,t,a){"use strict";a("ec77")},bba6:function(e,t,a){},c0b1:function(e,t,a){"use strict";a("763e")},cfff:function(e,t,a){},d322:function(e,t,a){},d6e4:function(e,t,a){function n(e){e.DomComponents.addType("plotly",{isComponent:function(e){if("PLOTLY"===e.tagName)return{type:"plotly",name:"Plotly"}},model:{defaults:{removable:!0,draggable:!0,droppable:"tempplaceholder",badgable:!0,stylable:!0,highlightable:!0,copyable:!1,resizable:!1,editable:!1,hoverable:!0,traits:[],script:function(){var e=window.parent.sharedData.externalData;let t=this.attributes.id.nodeValue;function a(t){let a={},n=Object.getOwnPropertyNames(t);return n.forEach(n=>{let o=n.replace("gb_c__",""),l=void 0!==t[n].nodeValue?t[n].nodeValue:t[n];["data","layout","config"].includes(o)&&(l=atob(l),void 0!==e[l]?a[":"+o]=e[l]:a[":"+o]=JSON.parse(l))}),a}function n(t){for(let a in t)if("object"===typeof t[a]&&null!==t[a])n(t[a]);else if("string"===typeof t[a]){const n=t[a].match(/\$_{(.+?)}/);if(n&&n[1]){const l=n[1];t[a]=o(e,l)}}}function o(e,t){const a=t.split(".");for(let n=0;n<a.length;n++){if(!e||!e.hasOwnProperty(a[n]))return;e=e[a[n]]}return e}this.onExternalDataChanged=t=>{e=t.detail,l=a(this.attributes),this.vueApp.updateServerData(e)},window.parent.addCanvasComponent(t,this);let l=a(this.attributes);this.vueApp=new Vue({el:"#vueinternal_"+t,data:function(){let t=l[":data"];n(t);let a=l[":layout"]||{};n(a);let o=l[":config"]||{};return n(o),{message:"TESTING_ID",attributes:l,serverData:e,parsedData:t,parsedLayout:a,parsedConfig:o}},methods:{updateServerData(e){this.serverData=e;let t=l[":data"];n(t),this.parsedData=t;let a=l[":layout"]||{};n(a),this.parsedLayout=a;let o=l[":config"]||{};n(o),this.parsedConfig=o},updateAttributes(e){this.attributes=a(e),l=this.attributes,this.updateServerData(this.serverData)}},mounted(){}})}},handleAttrChange(){},render:function(){this.view.onRender()},init(){this.listenTo(this,"change:attributes",this.onAttributeChange)},removed(){window.parent.postMessage({command:"removeCanvasComponent",uid:this.ccid},"*")}},view:{onAttributeChange(){},onRender(){const{el:e,model:t}=this;let a=e.attributes.id.nodeValue;e.grapesModel=t;const n=`<div id="vueinternal_${a}" style="position: relative;">\n                    <Plotly ref="childVueInstance" :data="parsedData" :layout="parsedLayout" :config="parsedConfig"></Plotly>\n                    <div style="position: absolute; background-color: #ff000000; top: 0px; left: 0px; width: 100%; height: 100%;"></div>\n                `;e.innerHTML=n}}})}a("b7ef"),e.exports={registerPlotlyComponent:n}},d955:function(e,t,a){"use strict";a("6d13")},e1f3:function(e,t,a){"use strict";a("31f8")},e804:function(e,t,a){"use strict";a("9ff3")},e9ee:function(e,t,a){"use strict";a("ab4e")},ec77:function(e,t,a){},f975:function(e,t,a){}});
//# sourceMappingURL=app.38e38827.js.map