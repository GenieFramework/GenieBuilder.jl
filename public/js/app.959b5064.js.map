{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/panels/PropertiesPanel.vue?525e","webpack:///./src/components/Panel.vue?547a","webpack:///./src/components/panels/LogsPanel.vue?a7ff","webpack:///./src/components/panels/BindingsPanel.vue?4c2a","webpack:///./src/components/panels/properties/AddPropertyDialog.vue?7abb","webpack:///./src/components/panels/PanelTitle.vue?39e5","webpack:///./src/components/ChartProperties.vue?dd09","webpack:///./src/quasar-user-options.js","webpack:///./src/utils/Configuration.js","webpack:///./src/utils/axiosInterceptors.js","webpack:///./src/components/panels/PanelTitle.vue","webpack:///./src/components/panels/PanelTitle.vue?68bb","webpack:///./src/components/Panel.vue","webpack:///./src/components/Panel.vue?5542","webpack:///./src/components/tabs/Tabs.vue","webpack:///./src/components/tabs/Tabs.vue?dca8","webpack:///./src/components/tabs/Tab.vue","webpack:///./src/components/panels/BindingsPanel.vue","webpack:///./src/components/panels/BindingsPanel.vue?7ac9","webpack:///./src/utils/chartDefinitions.js","webpack:///./src/components/panels/ComponentAddDialog.vue","webpack:///./src/components/panels/ComponentAddDialog.vue?e9b4","webpack:///./src/utils/blockDefinitions.js","webpack:///./src/utils/HtmlTemplateParser.js","webpack:///./src/components/panels/CanvasPanel.vue","webpack:///./src/components/panels/CanvasPanel.vue?ced4","webpack:///./src/components/panels/LibraryPanel.vue","webpack:///./src/components/panels/LibraryPanel.vue?2df3","webpack:///./src/components/panels/properties/AddPropertyDialog.vue","webpack:///./src/components/panels/properties/AddPropertyDialog.vue?a633","webpack:///./src/components/ChartPropertiesSection.vue","webpack:///./src/components/ChartPropertiesSection.vue?7c2e","webpack:///./src/components/ChartProperties.vue","webpack:///./src/components/ChartProperties.vue?57ad","webpack:///./src/components/panels/PropertiesPanel.vue","webpack:///./src/components/panels/PropertiesPanel.vue?69be","webpack:///./src/components/panels/LogsPanel.vue","webpack:///./src/components/panels/LogsPanel.vue?b2a6","webpack:///./src/components/BindingsConnector.vue","webpack:///./src/components/BindingsConnector.vue?da9e","webpack:///./src/components/panels/AiHelpPanel.vue","webpack:///./src/components/panels/AiHelpPanel.vue?e55c","webpack:///./src/components/panels/AiCodePanel.vue","webpack:///./src/components/panels/AiCodePanel.vue?bab5","webpack:///./src/utils/StatusMonitor.js","webpack:///./src/components/Main.vue","webpack:///./src/components/Main.vue?8c23","webpack:///./src/App.vue","webpack:///./src/App.vue?8e8d","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/ChartPropertiesSection.vue?f9bf","webpack:///./src/components/tabs/Tab.vue?5cf4","webpack:///./src/components/panels/AiCodePanel.vue?e1d5","webpack:///./src/components/panels/AiHelpPanel.vue?f9ed","webpack:///./src/App.vue?c3ce","webpack:///./src/components/Main.vue?98a2","webpack:///./src/components/customblocks/plotlyComponent.js","webpack:///./src/components/panels/CanvasPanel.vue?677c","webpack:///./src/components/panels/ComponentAddDialog.vue?bc8b","webpack:///./src/components/BindingsConnector.vue?b83f","webpack:///./src/components/tabs/Tabs.vue?5611","webpack:///./src/components/panels/LibraryPanel.vue?4d14","webpack:///./src/components/panels/CanvasPanel.vue?ff8e","webpack:///./src/components/panels/PropertiesPanel.vue?febf"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","config","plugins","Configuration","constructor","Error","protocol","GB_SOURCE","GB_SOURCE_LOCAL","GB_HOST","GB_PORT","appPort","_defineProperty","toast","useToast","activateInterceptors","axios","interceptors","request","use","url","startsWith","ask_ai_url","headers","error","console","Promise","reject","response","status","message","expanded","ref","props","toggleExpand","emit","watch","__exports__","onExpandClicked","expand","yesNo","saveExpandedState","localStorage","setItem","title","loadExpandedState","state","getItem","__expose","tabContainer","tabHeaders","tabs","activeTabIndex","onMounted","querySelectorAll","x","classList","contains","indexOf","changeTab","index","remove","add","dragStart","dragStop","sortMethod","setHandleBlocks","sortedBindingsAsBlocks","computed","blocks","sortedBindings","forEach","binding","id","type","label","tagName","content","properties","droppable","editable","draggable","sorted","appData","pages","currentPageIndex","model","fields","_","sortBy","field","toLowerCase","onBindingOvered","$event","element","target","onBindingOut","chartTypes","generateVolumeTrace","X","Y","Z","vol","k","randomIndex","Math","floor","random","map","v","idx","neighbors","sum","reduce","a","b","maxVol","max","trace","y","z","isomin","isomax","opacity","surface_count","log","componentPlaceHolderData","isPro","IS_PRO","showUpgradeLicenseDialog","showDialog","getChartTemplate","chartId","chart","find","traceTemplate","getBlockIconPath","block","iconFileName","icon","split","join","selectCompProp","comp","prop","newElement","DOMParser","parseFromString","body","childNodes","propName","finalBindingName","bindingname","datatype","firstColumn","getDataFrameColumn","template","labels","values","JSON","stringify","btoa","removeAttribute","setAttribute","newElementHtml","outerHTML","editor","getSelected","replaceWith","closeDialog","removeSelected","dfName","dsFields","filter","columns","_blockDefinitions","blockDefinitions","blockDefinitionsByTagName","injectableVariables","supportedIcons","sort","supportedColors","getBlockDefinitions","loadBlockDefinitions","readyCallback","then","parseDefinitionsSource","addSpecialBlocks","catch","enabled","indexOfVmodel","findIndex","indexOfModelValue","replace","uitype","desc","blockProps","propAttributeName","propAttrValue","variableName","variableValue","Array","isArray","typeList","chartTypeDef","encodedData","traceLayout","encodedLayout","category","renderContent","proRequired","setBlockDefinitions","HtmlTemplateParser","htmlString","Node","replaceElementAttributes","encodeAttributesInDOM","vForString","regex","match","variables","destructureObjectRegex","destructureArrayRegex","destructureMatch","destructuredVars","exec","allVariables","iterated","origin","results","current","reachedTop","safetyMax","currentIteration","parentElement","attributeNames","getAttributeNames","includes","vForContent","getAttribute","currentVariables","parseVFor","parentIsRoot","e","modelVariables","sharedData","modelFieldsByName","gbPrefix","bcTypeC","bcTypeB","specialDynamicAttributeNames","excludedAttributeNames","componentName","nodeName","componentDefinition","componentPropertiesDefinitions","elementAttributeNames","elementVforVariables","extractVforVariablesAncestors","attributeName","hasColon","cleanName","isDynamic","some","specialName","attributeValue","attributeDefinition","el","attributeValueMapsToModelVariable","attributeValueMapsToLocalVariable","originalName","dataType","bindingPrefix","rootElement","recursive","elements","revertElementAttributes","decodeAttributesInDOM","input","test","parser","doc","isEmptyTextNode","node","nodeType","TEXT_NODE","nodeValue","tagNameBlacklist","tagNameIsBlacklisted","removeEmptyNodes","from","child","removeChild","serializer","XMLSerializer","newHtmlString","serializeToString","definitionsById","def","newDef","mandatoryProperties","templateHtml","firstChild","attributes","attr","newAttrName","mandatoryDefs","traverse","innerHTML","columnsAttr","endsWith","dataAttr","rowsAttr","isRemoved","attrName","attrValue","removeIfEmpty","undefinedIfEmpty","setAttr","cleanNodes","removeInvalidNodes","generateBlocksMandatoryProperties","addMandatoryProperties","modelFields","item","activate","selectedComponent","mockedAppTemplate","reactiveModel","canvasBlocker","aiCodePreviewShown","firstSelectionReported","revertAiCodeChanges","undoManager","UndoManager","undo","setComponents","lastHtmlBeforeAiReplace","acceptAiCodeChanges","onComponentAddDialogClose","select","onComponentAdded","info","_parent$grapesModel","parent","view","$el","parentNode","parentBlockType","grapesModel","newComponentModel","targetModel","bindingInfo","offerComponents","defs","components","componentType","matchingdataTypePropertyNames","matchesType","isVmodel","matchingProperties","externalData","setExternalData","newData","this","event","CustomEvent","detail","componentId","canvasComponents","component","onExternalDataChanged","initialProperty","getComponentDefinitionByType","ws","wsUrl","getAppBaseUrl","appport","updateReactiveModelVariable","sendWsMessage","payload","msg","CHANNEL__","send","subscribeAutoreload","newSocketConnection","WebSocket","addEventListener","msgObject","parse","loadScript","src","callback","script","document","createElement","onload","onerror","head","appendChild","initMockedGenieApp","scripts","deps","appBasePath","getAppAssetsBaseUrl","port","substring","mockedScriptsToExtract","mockedScripts","scriptPath","mockedScript","autorun","loadedScriptsCount","initStipple","GENIEMODEL","_data","initEditor","excludedScripts","parsedSCripts","found","excludedScript","commonStyles","styles","style","stylePath","assets","appUrl","asset","assetPath","customComponentsCssPaths","cssPath","grapesjs","init","container","fromElement","storageManager","canvas","i18n","locale","detectLocale","messages","en","domComponents","names","layerManager","root","appendTo","sortable","hidable","blockManager","custom","styleManager","sectors","extend","default","options","className","open","units","toRequire","buildProps","defaults","list","min","unit","selectorManager","componentFirst","pluginsOpts","toolbar","items","Panels","getButton","set","compositeComponentAddedOrRemoved","runCommand","on","setTimeout","trigger","com","compDefinition","isComposite","iscomposite","debouncedAutoSave","Commands","run","sender","mainController","startEditingComponentContent","_getComponentDefiniti","logUserEvent","isNestable","nestable","editChildElementsButton","command","class","debounce","dataTransfer","objectData","getData","objectType","DomComponents","addType","events","dblclick","focusout","onActive","contentEditable","onDisable","isComponent","onRender","registerPlotlyComponent","classes","definition","processBlockDefinition","autogeneratedStyles","apibase","appid","encodeURIComponent","setStyle","blacklist","nativeElements","undefined","attributeMatch","hasAttribute","serverData","uniqueId","getMappedAttributes","attributesIn","mappedAttributes","getOwnPropertyNames","addCanvasComponent","vueApp","updateServerData","Vue","errorHandler","err","vm","warn","getElementById","warnHandler","Stipple","theme","parsedAttributes","attributesObject","keyRaw","propertyDefinition","valueIsBinding","methods","newServerData","updateAttributes","attrs","$forceUpdate","mounted","listenTo","onAttributeChange","handleAttrChange","render","removed","postMessage","uid","ccid","internalTagName","bindingParts","bindingName","bindingObject","cleanedHtml","getInnerHTML","firstDiv","innerHtmlClean","children","inner","showAiCodePreview","addShakeEffect","once","updateReactiveModel","newModel","updateTemplateFile","fileContents","replaceSpecialElements","fullContent","firstDivContent","QTable","QTabs","QPopupProxy","QImg","QTabPanels","QTabPanel","QCard","QCardSection","QBadge","excludedTypes","blockDefinitionsRaw","description","media","editorCheckInterval","categoriesSorting","blocksByCategory","searchTerm","handleBlocks","searchTermChanged","debouncedLogSearch","buildCategoriesTree","categories","categoriesDict","filteredBlockDefinitions","hideFromLibrary","aIndex","bIndex","logCategories","output","setInterval","clearInterval","appPath","dialogBlocker","blockerClicked","closeButtonClicked","resetSearch","addProperty","defObject","destination","sortedPropsList","propslist","querySelector","focus","currentGbType","handleArrayInput","inputValue","parsedValue","valueHolderParent","getChartTypeIcon","chartType","removeSection","sectionIndex","removeTraceProperty","propertyId","treeObject","removePropertyPath","submitChanges","obj","propertyPath","parts","deleteProp","currentObj","pathIndex","keys","shouldDeleteParent","toggleDynamicAttribute","newKey","currentValue","isPropValueBinding","changeChartType","tempProps","gbtype","getNestedPropertyParent","propParts","getNestedProperty","definitionsListWithValues","propertiesDefinition","propertyDefCloned","pop","QIcon","attributeIsBinding","isBinding","currentTabIndex","tabsList","dataSourceFields","addPropertyDestination","traces","layout","modelFieldsDict","tracePropertiesDefinition","configPropertiesDefinition","layoutPropertiesDefinition","getFieldsOfDataFrameType","getAllModelFields","column","localeCompare","getSelectedDataSourceColumns","selectedDataSourceColumns","availableDataProperties","notUsedProperties","propDef","isUsed","existingProperty","setSpecialAttributeAsConstant","functionMap","setDataAsConstant","setLayoutAsConstant","setConfigAsConstant","setSpecialAttributeAsBinding","setDataAsBinding","setLayoutAsBinding","setConfigAsBinding","getBindingsOfType","matchingModelFields","gb_c__data","newBindingValue","gb_b__data","setSelectedComponent","gb_c__layout","gb_b__layout","gb_c__config","gb_b__config","newConstantValue","gb_c_data","gb_c_layout","gb_c_config","layoutChanged","newTreeObject","configChanged","dataChanged","removeTrace","traceIndex","showAddPropertyList","hideAddProperty","propId","setNestedProperty","newConfig","newLayout","newAttributes","setAttributes","newComponent","componentAttributesRaw","getAttributes","atob","configInput","layoutInput","addNewTrace","addNewTraceFromBinding","columnA","columnB","onBeforeMount","licenseAllowsComponent","getBlockDefinition","requiresPro","chartPropertiesPanel","showAddProperty","blockDefinitionsByType","acc","getAttributeCleanRealName","attributeObject","removeAttributes","getSuggestedProperties","currentAttributesCleanNames","getCleanAttributesList","att","suggestedProperties","suggested","suggestedPropertiesNotUsed","filteredModelFields","_component$view","componentAndAncestorsVforVariableNames","vforVar","allowedTypes","elementAttributes","attrsForVuecomponent","cleanAttributeObject","getCleanAttributeObject","getBlockPropertyDefinition","propertyName","realType","blockDefinition","onDrop","dragTransferData","attrname","newAttrs","addAttributes","defaultValuesByType","Boolean","String","Number","Function","attrsObject","gbName","defaultValue","availableProperties","definitionProperties","currentAttributes","currentAttributesClean","filtered","componentAttributes","attName","newHtml","toHTML","clonedAttributes","grapesElementVueApp","newAtts","cleanAttributeName","sameTypeModelFields","onChartPropModeChanged","parentPanel","showServerLogs","showClientLogs","logLevel","loggedAppId","searchString","logsContainer","hljs","registerLanguage","javascript","sql","highlight","code","highlightedCode","updated","vHighlight","loggedAppIdsMap","logLevelsMap","warning","logs","filteredLogs","matchesSource","source","matchesLevel","level","matchesAppId","matchesSearch","clearLogs","addLog","logObject","configuredAppId","messageAppId","logPrefix","appSource","timestamp","scrollTop","scrollHeight","canvasElementsPositions","connections","_iframePosition","overedBinding","yOffsetRect","yOffsetConnectorTarget","bindingsConnectorsContainer","getConnectionSVGPath","connection","logsPanel","logsPanelHeight","clientHeight","logsPanelHeadHeight","getOveredBindingPosition","xDistance","abs","width","controlPointOffsetX","height","path","elPosition","getElementPosition","rect","getBoundingClientRect","left","top","updateElementsPositions","lines","updateConnections","updateIframePosition","iframePosition","adjustedPositions","line","iframeElement","question","askQuestion","async","trim","query","openLink","userPrompt","isLoading","aiApiUrl","requestObject","applyCssStylesToHtml","html","cssString","styleRules","stylesById","rule","cssText","sendRequestToAiPreservingPlotlyAttributes","inputHtml","onComplete","initialDOM","plotlyAttributes","nodeId","htmlWithStyles","getCss","post","content_type","sessionid","SESSIONID","prompt","responseObject","aiError","receivedHtml","newDOM","entries","cleanHtml","restoredHtml","aiApiResponse","getHtml","aiSendClicked","selectedElement","selectedHtml","componentCss","keepUnusedStyles","avoidProtected","bindingsList","extendedPrompt","previousPrompt","entireHtml","resultHtml","QDate","QInput","QTime","QBtn","QSelect","QRadio","QCheckbox","QToggle","QSlider","QRange","QKnob","QList","QVideo","QAvatar","QChip","QRating","QSpinner","QTimeline","QTimelineEntry","QScrollArea","StatusMonitor","onOpen","onClose","onMessage","wsEndpoint","getExternalApiBaseUrl","onOpenHandler","onCloseHandler","onMessageHandler","connect","onopen","onmessage","onclose","restart","seconds","version","process","codeEditor","codeEditorValue","cmOptions","lineWrapping","beautifyOptions","indent_size","indent_char","max_preserve_newlines","preserve_newlines","keep_array_indentation","break_chained_methods","indent_scripts","brace_style","space_before_conditional","unescape_strings","jslint_happy","end_with_newline","wrap_line_length","indent_inner_html","comma_first","e4x","indent_empty_lines","inline_custom_elements","fullDocumentHTML","fullDocumentCSS","lastSavedHTMLCode","panelStates","storedStates","bindingsPanelContainer","size","propertiesPanelContainer","aiHelpPanelContainer","savePanelStates","canvasPanel","bindingsPanel","libraryPanel","propertiesPanel","aiHelpPanel","aiCodePanel","bindingConnectorsManager","currentPage","savedFromNoCodeEditor","statusMonitor","onSocketOpen","onSocketClose","onSocketMessage","getPropertiesPanelName","round","panesResized","updatePaneState","panelRefName","capitalize","str","charAt","toUpperCase","userIsPro","getLogoContent","LICENSE_TYPE","onMainTabChanged","updateCodeEditorContent","onAiCodeChanged","applyCodeChanges","previousStyle","onBlockCustomTriggered","contentWindow","onBindingDroppedOnComponent","_sharedData$modelFiel","dsName","tempElement","_propertiesPanel$valu","collection","onComponentSelected","selectedComponentCode","beautifiedHtml","html_beautify","refresh","openThemeEditor","reloadPage","location","reload","updateData","translateBindingTypes","typesMap","page","isreactive","fieldType","cleanType","mappedType","getCurrentHtmlAndCss","editedHtmlCss","cleanId","pattern","restoreSpecialElements","mergeCss","fullCss","partialCss","parseCss","css","matches","parsed","selector","stringifyCss","cssObj","fullCssObj","partialCssObj","getCleanHtmlCode","onAutoSaveTriggered","saveTemplate","force","containsTempPlaceHolder","cleanBeautifiedCode","cleanLastSavedCode","contentHasChanged","elementid","pageViewPath","encodedViewPath","saveUrl","mergedCss","saveCssUrl","showApiErrorAlert","clearStoredUnsavedChanges","currentPath","app_path","removeItem","getStoredUnsavedChanges","unsavedChanges","setStoredUnsavedChanges","currentContents","toggleComponentsFrame","isActive","stop","openFeedbackPage","openHelpPage","informNoCodeVersion","metadata","nocodeVersion","messageData","filePath","currentPageFullPath","isSameFile","isAutogeneratedCss","isThemeCss","searchParams","filepath","getId","bindConnMgr","ctrlKey","metaKey","preventDefault","shiftKey","execCommand","myApp","applications","app","toString","fullAppData","contentToLoad","readTemplateFilePath","switchCodeEditorTheme","currentThemeType","themeType","uikit","provideVSCodeDesignSystem","register","vsCodeTextField","vsCodeDropdown","vsCodeOption","vsCodeButton","vsCodeCheckbox","createStore","mutations","actions","loadMultipleUrls","urls","successCallback","completeCallback","requests","fetch","ok","statusText","json","all","responses","finally","startNocodeApplication","expectedParamsList","urlParamsMissing","getSearchParams","report","paramName","urlParamsMessage","alert","common","setTheme","ispro","license_type","pageindex","customComponents","extractCustomComponentsFromPageAssets","gb_components","customComponent","fullPath","customComponentsDefinitions","customComponentDef","customBlockDefJsonObject","CP","gbPluginId","pluginAssets","iconRelativePath","iconAbsolutePath","definitions","createApp","App","toastOptions","position","timeout","closeOnClick","pauseOnFocusLoss","pauseOnHover","showCloseButtonOnHover","hideProgressBar","closeButton","rtl","Toast","Quasar","quasarUserOptions","store","mount","removeCanvasComponent","documentElement","params","URLSearchParams","search","componentsList","componentAssets","cssFullPath","removable","badgable","stylable","highlightable","copyable","resizable","hoverable","traits","replaceReferencedBindingsToAttributeData","propToReplace","parsedData","parsedLayout","parsedConfig"],"mappings":"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","file":"js/app.959b5064.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./PropertiesPanel.vue?vue&type=style&index=0&id=d4c6351e&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./Panel.vue?vue&type=style&index=0&id=17c958c7&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./LogsPanel.vue?vue&type=style&index=0&id=0ebb8bf8&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./BindingsPanel.vue?vue&type=style&index=0&id=0b09cf83&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./AddPropertyDialog.vue?vue&type=style&index=0&id=7c578f7c&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./PanelTitle.vue?vue&type=style&index=0&id=6c90e336&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./ChartProperties.vue?vue&type=style&index=0&id=f312c504&lang=scss&scoped=true\"","\nimport 'quasar/dist/quasar.css'\nimport '@quasar/extras/roboto-font/roboto-font.css'\nimport '@quasar/extras/material-icons/material-icons.css'\nimport '@quasar/extras/material-icons-outlined/material-icons-outlined.css'\nimport '@quasar/extras/material-icons-round/material-icons-round.css'\nimport '@quasar/extras/material-icons-sharp/material-icons-sharp.css'\nimport '@quasar/extras/fontawesome-v5/fontawesome-v5.css'\n\n// To be used on app.use(Quasar, { ... })\nexport default {\n  config: {},\n  plugins: {\n  }\n}","export default class Configuration{\n    constructor(){\n        throw new Error('Configuration is a static class and cannot be instantiated');\n    }\n\n\n    static appid = '';\n    static currentPageIndex = 0;\n    static appport = '';\n    static CHANNEL__ = '';\n\n    static GB_SOURCE_LOCAL = 'local';\n    static GB_SOURCE_CLOUD = 'cloud';\n\n    static GB_SOURCE = '';\n    static GB_HOST = '';\n    static GB_PORT = '';\n\n    static ask_ai_url = 'https://aiapis.hosting.genieframework.com/api/';\n    static TERMS_OF_USE_URL = 'https://genielicensing.hosting.genieframework.com/documents/terms.pdf';\n    \n\n    static IS_PRO = false;\n    static LICENSE_TYPE = \"Unknown\";\n\n    static getExternalApiBaseUrl( protocol ){\n        if( !protocol ){\n            throw new Error( \"getExternalApiBaseUrl() requires a protocol argument\" );\n        }\n        // Use secure protocols for cloud environment\n        if( Configuration.GB_SOURCE != Configuration.GB_SOURCE_LOCAL ){\n            protocol += 's';\n        }\n        let result = `${protocol}://${Configuration.GB_HOST}`;\n        if( Configuration.GB_SOURCE == Configuration.GB_SOURCE_LOCAL ){\n            result += `:`;\n        }else{\n            result += `/proxy/`;\n        }\n        result += `${Configuration.GB_PORT}/`;\n        return result;\n    }\n    \n    static getAppBaseUrl( protocol, appPort ){\n        if( !protocol ){\n            throw new Error( \"getAppBaseUrl() requires a protocol argument\" );\n        }\n        // Use secure protocols for cloud environment\n        if( Configuration.GB_SOURCE != Configuration.GB_SOURCE_LOCAL ){\n            protocol += 's';\n        }\n        let result = `${protocol}://${Configuration.GB_HOST}`;\n        if( Configuration.GB_SOURCE == Configuration.GB_SOURCE_LOCAL ){\n            result += `:`;\n        }else{\n            result += `/proxy/`;\n        }\n        result += `${appPort}/`;\n        return result;\n    }\n\n    static getAppAssetsBaseUrl( protocol, appPort ){\n        if( !protocol ){\n            throw new Error( \"getAppAssetsBaseUrl() requires a protocol argument\" );\n        }\n        // Use secure protocols for cloud environment\n        if( Configuration.GB_SOURCE != Configuration.GB_SOURCE_LOCAL ){\n            protocol += 's';\n        }\n        let result = `${protocol}://${Configuration.GB_HOST}`;\n        if( Configuration.GB_SOURCE == Configuration.GB_SOURCE_LOCAL ){\n            result += `:`;\n            result += `${appPort}/`;\n        }\n        return result;\n    }\n\n\n}","import axios from \"axios\";\nimport { useToast } from \"vue-toastification\";\nimport Configuration from \"./Configuration\";\nconst toast = useToast();\n\n\n\n\nexport default function activateInterceptors(){\n    // Add a request interceptor\n    axios.interceptors.request.use(function (config) {\n        // Remove gb-sessionid header if url begins with Configuration.ask_ai_url\n        if(config.url.startsWith(Configuration.ask_ai_url)){\n            delete config.headers['gb-sessionid'];\n        }\n        return config;\n    }, function (error) {\n        // Do something with request error\n        console.error( `Axios interceptor REQUEST ERROR: `, error );\n        return Promise.reject(error);\n    });\n\n    // Add a response interceptor\n    axios.interceptors.response.use(function (response) {\n        // Any status code that lie within the range of 2xx cause this function to trigger\n        return response;\n    }, function (error) {\n        console.error( `Axios interceptor RESPONSE ERROR: `, error );\n        // Any status codes that falls outside the range of 2xx cause this function to trigger\n        if( error.response.status == 429 || error.response.status == 402 ){\n            toast( error.response.message || \"There was a problem with your subscription. Please try again later or contact support.\");\n        }\n        return Promise.reject(error);\n    });\n}","<template>\n    <div style=\"position: relative;\">\n        <div class=\"title\" @click=\"toggleExpand\">{{title}}</div>\n        <div class=\"expandBtn\" @click=\"toggleExpand\">\n            <span v-if=\"!expanded\"><i class=\"fa fa-chevron-right\"></i></span>\n            <span v-if=\"expanded\"><i class=\"fa fa-chevron-down\"></i></span>\n        </div>\n    </div>\n</template>\n\n\n\n<script setup>\n\nimport { ref, watch} from 'vue';\nconst props = defineProps(['title', 'expanded'])\nlet emit = defineEmits(['expand'])\nlet expanded = ref(props.expanded)\n\nfunction toggleExpand(){\n    emit('expand', expanded.value)\n}\n\n\nwatch( props, (props)=>{\n    expanded.value = props.expanded;\n})\n\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n.title{\n    line-height: 22px;\n    color: var(--sideBarSectionHeader-foreground);\n    background-color: var(--sideBarSectionHeader-background);\n    border-top: 1px solid var(--sideBarSectionHeader-border);\n    height: 22px;\n    font-size: 11px;\n    font-weight: 700;\n    overflow: hidden;\n    display: flex;\n    cursor: pointer;\n    align-items: center;\n    box-sizing: border-box;\n    text-transform: uppercase;\n    padding-left: 10px;\n}\n\n.expandBtn{\n    position: absolute;\n    right: 10px;\n    top: 2px;\n    opacity: 0.6;\n    font-size: 13px;\n    cursor: pointer;\n}\n</style>","import script from \"./PanelTitle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PanelTitle.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PanelTitle.vue?vue&type=style&index=0&id=6c90e336&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6c90e336\"]])\n\nexport default __exports__","<template>\n    <div style=\"height: 100%; margin-right: 2px;\">\n        <PanelTitle v-if=\"!hideTitle\" :expanded=\"expanded\" :title=\"title\" @expand=\"onExpandClicked\"></PanelTitle>\n        <div class=\"panelContent\" v-show=\"expanded\" style=\"height: calc(100% - 25px); overflow: auto;\">\n            <slot></slot>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref, defineProps, defineEmits } from 'vue';\nimport PanelTitle from './panels/PanelTitle.vue';\n\nconst props = defineProps(['title', 'hideTitle']);\nconst emit = defineEmits(['update:expanded']);\nlet expanded = ref(true);\nloadExpandedState();\n\nfunction onExpandClicked() {\n    expand( !expanded.value );\n}\n\nfunction expand( yesNo ){\n    expanded.value = yesNo;\n    saveExpandedState();\n    emit('update:expanded', yesNo);\n}\n\nfunction saveExpandedState() {\n    localStorage.setItem('panelExpandedState_' + props.title, expanded.value);\n}\n\nfunction loadExpandedState() {\n    let state = localStorage.getItem('panelExpandedState_' + props.title);\n    if (state === 'false') {\n        expanded.value = false;\n    }\n}\n\ndefineExpose({ expanded, expand });\n</script>\n\n<style lang=\"scss\" scoped>\n/* Your existing styles */\n.panelContent{\n    padding: 10px 5px 10px 10px;\n}\n</style>\n","import script from \"./Panel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Panel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Panel.vue?vue&type=style&index=0&id=17c958c7&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-17c958c7\"]])\n\nexport default __exports__","<script setup>\n  import { ref, onMounted, reactive } from 'vue';\n  const props = defineProps([ 'customClass' ]);\n  const emit = defineEmits(['changeTab'])\n  \n  let tabContainer = ref(null);\n  let tabHeaders = ref(null);\n  let tabs = ref(null);\n  let activeTabIndex = ref(0);\n\n  onMounted(() => {\n    tabs.value = [ ...tabContainer.value.querySelectorAll('.tab') ];\n\t\tfor(let x of tabs.value) {\n\t    if(x.classList.contains('active')) {\n\t\t\t\tactiveTabIndex = tabs.value.indexOf(x);\n\t\t\t}\n    }\n  })\n  const changeTab = (index) => {\n    activeTabIndex = index;\n    for(let x of [...tabs.value, ...tabHeaders.value]) {\n   \t\tx.classList.remove('active')\n    }\n\t\ttabs.value[activeTabIndex].classList.add('active')  \n\t\ttabHeaders.value[activeTabIndex].classList.add('active')  \n    emit('changeTab', activeTabIndex);\n  }\n</script>\n\n<template>\n  <div id=\"tabs-container\" :class=\"customClass\" ref=\"tabContainer\" style=\"height: 100%; display: flex; flex-direction: column;\">\n    <div id=\"tab-headers\">\n      <ul>\n        <li v-for=\"(tab, index) in tabs\" :key=\"index\" :class=\"activeTabIndex == index ? 'active' : ''\" @click=\"changeTab(index)\" ref=\"tabHeaders\">{{ tab.title }}</li>\n      </ul>\n    </div>\n    <div id=\"active-tab\" style=\"flex-grow: 1; display: flex; height: calc(100% - 120px);\">\n    \t<slot></slot>\n    </div>\n  </div>\n</template>\n\n<style>\n  #tab-headers ul {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    border-bottom: 2px solid #dddddd00;\n    margin-bottom: 10px;\n  }\n  #tab-headers ul li {\n    list-style: none;\n    padding: 5px 2px;\n    position: relative;\n    cursor: pointer;\n    opacity: 0.5;\n    margin: 0px 2px;\n  }\n\n\n  #tab-headers ul li.active {\n    /* color: #000000;\n    font-weight: bold; */\n    opacity: 1;\n  }\n  \n  #tab-headers ul li.active:after {\n    content: '';\n    position: absolute;\n    bottom: -2px;\n    left: 0;\n    height: 2px;\n    width: 100%;\n    background: var(--foreground);\n  }\n\n  #active-tab, #tab-headers {\n    width: 100%;\n  }\n  \n  #active-tab {\n    /* padding: 0.75rem; */\n  }\n</style>","import script from \"./Tabs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Tabs.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Tabs.vue?vue&type=style&index=0&id=2b2c15a8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./Tab.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Tab.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Tab.vue?vue&type=style&index=0&id=30e21b8c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div style=\"position:relative;\">\n        <div style=\"overflow-y: auto;\">\n            <div \n                :title=\"block.binding.type\"\n                isbinding=\"true\" \n                @mouseover=\"onBindingOvered(block.binding, $event)\" @mouseout=\"onBindingOut\"\n                @mousedown=\"dragStart(block)\" \n                :datatype=\"block.binding.type\" \n                :bindingname=\"block.binding.name\" \n                class=\"bindingItem\"\n                v-for=\"block in sortedBindingsAsBlocks\" :key=\"block.binding.name\">\n                    <img :datatype=\"block.binding.type\" \n                        :bindingname=\"block.binding.name\" :src=\"'img/icons/type_'+block.binding.type+'.png'\" class=\"typeIcon\" />\n                    {{ block.binding.name }} \n            </div>\n        </div>\n        <!-- <div class=\"sortButtons\">\n            <div :class=\"{sortButton: true, sortButtonActive: sortMethod=='az'}\" @click=\"sortMethod='az'\">AZ</div>\n            <div :class=\"{sortButton: true, sortButtonActive: sortMethod=='type'}\" @click=\"sortMethod='type'\">Ty</div>\n        </div> -->\n    </div>\n</template>\n\n<script setup>\n\nimport _ from 'underscore';\nimport {computed, ref, onMounted} from 'vue';\nimport Configuration from '../../utils/Configuration';\n\nlet sortMethod = ref('type');\n\nconst props = defineProps(['appData']);\nconst emit = defineEmits(['bindingOvered'])\n\nlet dragStart, dragStop;\n\n\nfunction setHandleBlocks(props) {\n      dragStart = props.dragStart;\n      dragStop = props.dragStop;\n};\n\n\nconst sortedBindingsAsBlocks = computed( ()=>{\n    let blocks = [];\n    sortedBindings.value.forEach( binding => {\n        blocks.push( \n            {   id: \"tempplaceholder\", \n                type: \"tempplaceholder\", label: \"Temp PlaceHolder\", tagName: \"TEMPPLACEHOLDER\", \n                content: `<tempplaceholder datatype=\"${binding.type}\" bindingname=\"${binding.name}\" isbinding=\"true\"style=\"padding: 10px;\">Binding '${binding.name}' (${binding.type})</tempplaceholder>`, \n                properties: [], \n                droppable: false,     editable: false,     draggable: true,\n                binding: binding,\n            }\n        );\n    });\n    return blocks;\n});\n\n\nconst sortedBindings = computed( ()=>{\n    let sorted;\n    if( props.appData.pages[Configuration.currentPageIndex].model.fields ){\n        if( sortMethod.value == 'az' )\n            sorted = _.sortBy( props.appData.pages[Configuration.currentPageIndex].model.fields, (field)=>{ return field.name.toLowerCase() } );\n        else if( sortMethod.value == 'type')\n            sorted = _.sortBy( props.appData.pages[Configuration.currentPageIndex].model.fields, (field)=>{ return field.type.toLowerCase() + \"_\" + field.name.toLowerCase() } );\n    }\n    return sorted;\n});\n\n\nconst onBindingOvered = function(binding, $event){\n    let element = $event.target;\n    emit('bindingOvered', { element, binding } );\n}\n\n\nconst onBindingOut = function(){\n    emit('bindingOvered', { element:null, binding:null } );\n}\n\ndefineExpose({\n    setHandleBlocks\n}) \n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n.typeIcon{\n    width: 16px;\n    vertical-align: middle;\n    margin-right: 6px;\n    height: 16px;\n}\n\n\n.bindingItem{\n    padding: 1px 0px 2px;\n    border-bottom: solid 1px rgba(0, 0, 0, 0.1254901961);\n    font-size: 0.9em;\n    display: flex;\n    user-select: none;\n    cursor: grab;\n}\n\n.bindingItem:hover{\n    background-color: #cccccc10;\n}\n\n.sortButton{\n    margin-left: 3px;\n    font-weight: bold;\n    font-size: 10px;\n    padding: 5px;\n    user-select: none;\n    cursor: pointer;\n    opacity: 0.4;\n    border-radius: 5px;;\n}\n\n.sortButton:hover, .sortButtonActive{\n    background-color: #00000010;\n    opacity: 1;\n}\n.sortButtons{\n    position: absolute;\n    right: 2px;\n    top: -40px;    \n    display: flex;\n    flex-direction: row;\n}\n\n</style>","import script from \"./BindingsPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BindingsPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BindingsPanel.vue?vue&type=style&index=0&id=0b09cf83&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0b09cf83\"]])\n\nexport default __exports__","let chartTypes = [\n    { \"id\": \"Area Chart\", \"icon\": \"areaChart\",                             \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Area Chart\", \"x\":[\"2024-01-01\", \"2024-01-02\", \"2024-01-03\"], \"y\":[10, 15, 13], \"type\":\"scatter\", \"name\":\"Trace\", \"fill\":\"tozeroy\", \"mode\": \"none\" } },\n    { \"id\": \"Bar Chart\", \"icon\": \"barChart\",                               \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Bar Chart\", \"x\":[\"Category 1\", \"Category 2\", \"Category 3\"], \"y\":[9, 10, 20], \"type\":\"bar\", \"name\":\"Trace\" } },\n    { \"id\": \"Box\" , \"icon\": \"boxChart\" ,                                   \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Box\", \"y\": [1,2,3,4,7,9], \"type\": \"box\",\"name\":\"Trace\"} },\n    { \"id\": \"Candlestick\" , \"icon\": \"candlestickChart\" ,                   \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Candlestick\", \"x\": [\"2024-01-01\", \"2024-01-02\", \"2024-01-03\"], \"close\": [10, 12, 11], \"high\": [11, 13, 12], \"low\": [9, 11, 10], \"open\": [9, 11, 11], \"type\": \"candlestick\", \"name\": \"Trace\" }  },\n    { \"id\": \"Choropleth\" , \"icon\": \"choroplethChart\" ,                     \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Choropleth\", \"locationmode\": \"country names\", \"locations\": [\"Canada\", \"United States\", \"Mexico\"], \"z\": [10, 20, 30], \"type\": \"choropleth\", \"name\": \"Trace\" }  },\n    { \"id\": \"Cone\" , \"icon\": \"coneChart\" ,                                 \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Cone\", \"x\": [1, 2, 3], \"y\": [1, 2, 3], \"z\": [1, 2, 3], \"u\": [1, 0, 0], \"v\": [0, 1, 0], \"w\": [0, 0, 1], \"type\": \"cone\", \"name\": \"Trace\", \"sizemode\": \"absolute\" }  },\n    { \"id\": \"Contour\" , \"icon\": \"contourChart\" ,                           \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Contour\", \"x\": [1, 2, 3], \"y\": [1, 2, 3], \"z\": [[10, 10, 10], [20, 20, 20], [30, 30, 30]], \"type\": \"contour\", \"name\": \"Trace\" }  },\n    { \"id\": \"Funnel\" , \"icon\": \"funnelChart\" ,                             \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Funnel\", \"x\": [10, 20, 30], \"y\": [\"Stage 1\", \"Stage 2\", \"Stage 3\"], \"type\": \"funnel\", \"name\": \"Trace\" }  },\n    { \"id\": \"Funnel Area\", \"icon\": \"funnelAreaChart\",                      \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Funnel Area\", \"values\": [100, 80, 60, 40, 20], \"text\": [\"Stage 1\", \"Stage 2\", \"Stage 3\", \"Stage 4\", \"Stage 5\"], \"type\": \"funnelarea\", \"name\": \"Trace\" } },\n    { \"id\": \"Heatmap\", \"icon\": \"heatmapChart\",                             \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Heatmap\", \"x\": [\"A\", \"B\", \"C\"], \"y\": [\"1\", \"2\", \"3\"], \"z\": [[1, 20, 30], [20, 1, 60], [30, 60, 1]], \"type\": \"heatmap\", \"name\": \"Trace\" } },\n    { \"id\": \"Heatmap GL\", \"icon\": \"heatmapGLChart\",                        \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Heatmap GL\", \"x\": [\"A\", \"B\", \"C\"], \"y\": [\"1\", \"2\", \"3\"], \"z\": [[1, 20, 30], [20, 1, 60], [30, 60, 1]], \"type\": \"heatmapgl\", \"name\": \"Trace\" } },\n    { \"id\": \"Histogram\", \"icon\": \"histogramChart\",                         \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Histogram\", \"x\": [1,2,3,2,3,2,3,7,6,8,5,8,1,1,1,9], \"type\": \"histogram\", \"name\": \"Trace\" } },\n    { \"id\": \"Histogram 2D\", \"icon\": \"histogram2DChart\",                    \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Histogram 2D\", \"x\": [1, 2, 2, 3, 4], \"y\": [6, 6, 7, 8, 8], \"type\": \"histogram2d\", \"name\": \"Trace\" } },\n    { \"id\": \"Histogram 2D Contour\", \"icon\": \"histogram2DContourChart\",     \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Histogram 2D Contour\", \"x\": [1, 2, 2, 3, 4], \"y\": [6, 6, 7, 8, 8], \"type\": \"histogram2dcontour\", \"name\": \"Trace\" } },\n    { \"id\": \"Indicator\", \"icon\": \"indicatorChart\",                         \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Indicator\", \"mode\": \"number+delta\", \"value\": 400, \"delta\": { \"reference\": 350 }, \"type\": \"indicator\", \"name\": \"Trace\" } },\n    { \"id\": \"Isosurface\", \"icon\": \"isosurfaceChart\",                       \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Isosurface\", \"x\": [0, 0, 0, 0, 1, 1, 1, 1], \"y\": [0, 0, 1, 1, 0, 0, 1, 1], \"z\": [0, 1, 0, 1, 0, 1, 0, 1], \"value\": [1, 2, 3, 4, 5, 6, 7, 8], \"isomin\": 2, \"isomax\": 6, \"type\": \"isosurface\", \"name\": \"Trace\" } },\n    { \"id\": \"Line Chart\", \"icon\": \"lineChart\",                             \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Line Chart\", \"x\":[\"2024-01-01\", \"2024-01-02\", \"2024-01-03\"], \"y\":[5, 6, 7], \"type\":\"scatter\", \"mode\":\"lines\", \"name\":\"Trace\" } },\n    { \"id\": \"Mash 3D\", \"icon\": \"mash3DChart\",                              \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Mash 3D\", \"x\": [0, 1, 2, 0], \"y\": [0, 0, 1, 2], \"z\": [0, 2, 0, 1], \"i\": [0, 0, 0, 1], \"j\": [1, 2, 3, 2], \"k\": [2, 3, 1, 3], \"type\": \"mesh3d\", \"name\": \"Trace\" } },\n    { \"id\": \"OHLC\", \"icon\": \"ohlcChart\",                                   \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"OHLC\", \"x\": [\"2024-01-01\", \"2024-01-02\", \"2024-01-03\"], \"open\": [100, 110, 120], \"high\": [105, 115, 125], \"low\": [95, 105, 115], \"close\": [102, 112, 122], \"type\": \"ohlc\", \"name\": \"Trace\" } },\n    { \"id\": \"Pie Chart\", \"icon\": \"pieChart\",                               \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Pie Chart\", \"labels\":[\"Slice 1\", \"Slice 2\", \"Slice 3\"], \"values\":[10, 20, 30], \"type\":\"pie\", \"name\":\"Trace\" } }, \n    { \"id\": \"Scatter\", \"icon\": \"scatterChart\",                             \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Scatter\", \"x\":[5, 10, 15], \"y\":[10, 15, 5], \"type\":\"scatter\", \"mode\":\"markers\", \"name\":\"Trace\" } },\n    { \"id\": \"Scatter 3D\", \"icon\": \"scatter3DChart\",                        \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Scatter 3D\", \"x\": [1, 2, 3, 4], \"y\": [4, 3, 2, 1], \"z\": [1, 2, 3, 4], \"mode\": \"markers\", \"type\": \"scatter3d\", \"name\": \"Trace\" } },\n    { \"id\": \"Scatter Geo\", \"icon\": \"scatterGeoChart\",                      \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Scatter Geo\", \"lat\": [40.712776, 34.052235, 41.878113], \"lon\": [-74.005974, -118.243685, -87.629798], \"mode\": \"markers\", \"type\": \"scattergeo\", \"name\": \"Trace\" } },\n    { \"id\": \"Scatter GL\", \"icon\": \"scatterGLChart\",                        \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Scatter GL\", \"x\": [1, 2, 3, 4], \"y\": [10, 11, 12, 13], \"mode\": \"markers\", \"type\": \"scattergl\", \"name\": \"Trace\" } },\n    { \"id\": \"Surface\", \"icon\": \"surfaceChart\",                             \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Surface\", \"x\": [1, 2, 3, 4, 5], \"y\": [1, 2, 3, 4, 5], \"z\": [[1, 2, 3, 4, 5], [2, 4, 6, 8, 10], [3, 6, 9, 12, 15], [4, 8, 12, 16, 20], [5, 10, 15, 20, 25]], \"type\": \"surface\", \"name\": \"Trace\" } },\n    { \"id\": \"Table\", \"icon\": \"tableChart\",                                 \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Table\", \"header\": { \"values\": [[\"Header 1\"], [\"Header 2\"], [\"Header 3\"]], \"align\": \"center\", \"line\": { \"width\": 1, \"color\": 'black' }, \"fill\": { \"color\": \"grey\" }, \"font\": { \"family\": \"Arial\", \"size\": 12, \"color\": \"white\" } }, \"cells\": { \"values\": [[\"Row 1\", \"Row 2\", \"Row 3\"], [\"1\", \"2\", \"3\"], [\"a\", \"b\", \"c\"]], \"align\": \"center\", \"line\": { \"width\": 1, \"color\": 'black' }, \"fill\": { \"color\": \"white\" }, \"font\": { \"family\": \"Arial\", \"size\": 11, \"color\": \"black\" } }, \"type\": \"table\", \"name\": \"Trace\" } },\n    { \"id\": \"Timeline\", \"icon\": \"timelineChart\",                           \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Timeline\", \"x\": [\"Start Date 1\", \"Start Date 2\", \"Start Date 3\"], \"xend\": [\"End Date 1\", \"End Date 2\", \"End Date 3\"], \"y\": [\"Task 1\", \"Task 2\", \"Task 3\"], \"type\": \"scatter\", \"mode\": \"lines\", \"line\": { \"width\": 4 }, \"name\": \"Trace\" } },\n    { \"id\": \"Violin\", \"icon\": \"violinChart\",                               \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Violin\", \"y\": [20, 30, 40, 50, 60, 70, 80, 90, 100, 110], \"type\": \"violin\", \"name\": \"Trace\", \"box\": { \"visible\": true }, \"meanline\": { \"visible\": true } } },\n    { \"id\": \"Waterfall\", \"icon\": \"waterfallChart\",                         \"proRequired\": true, \"traceTemplate\": { \"gbtype\":\"Waterfall\", \"x\": [\"Product Revenue\", \"Services Revenue\", \"Total Revenue\", \"Fixed Costs\", \"Variable Costs\", \"Total Costs\", \"Net Profit\"], \"y\": [60, 80, 0, -40, -20, 0, 40], \"type\": \"waterfall\", \"name\": \"Trace\", \"text\": [\"$60\", \"$80\", \"\", \"-$40\", \"-$20\", \"\", \"$40\"], \"textposition\": \"outside\", \"connector\": { \"line\": { \"color\": \"rgb(63, 63, 63)\" } }, \"increasing\": { \"marker\": { \"color\": \"Green\" } }, \"decreasing\": { \"marker\": { \"color\": \"Red\" } }, \"totals\": { \"marker\": { \"color\": \"DeepSkyBlue\" } } } }, \n    \n    // { \"id\": \"Image\" , \"icon\": \"imageChart\" ,                            \"proRequired\": false, \"traceTemplate\": { \"gbtype\":\"Image\" } },\n    { \"id\": \"Scatter Mapbox\", \"icon\": \"scatterMapboxChart\",                \"proRequired\": true, \"traceTemplate\": {  \"gbtype\":\"Scatter Mapbox\", \"lat\": [40.712776, 34.052235], \"lon\": [-74.005974, -118.243685], \"mode\": \"markers\", \"type\": \"scattermapbox\", \"name\": \"Trace\" }, \n                                                                                              \"traceLayout\":{ \"dragmode\": \"zoom\",\t\"mapbox\": { \"style\": \"open-street-map\", \"center\": { \"lat\": 38, \"lon\": -90 }, \"zoom\": 3 },\t\"margin\": { \"r\": 0, \"t\": 0, \"b\": 0, \"l\": 0 } }\n    }, \n    { \"id\": \"Streamtube\", \"icon\": \"streamtubeChart\",                       \"proRequired\": true, \"traceTemplate\": {\n                                                                          \"gbtype\":\"Streamtube\", \n                                                                          \"type\": \"streamtube\",\n                                                                          \"x\": [0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],\n                                                                          \"y\": [0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2,0,0,0,1,1,1,2,2,2],\n                                                                          \"z\": [0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2],\n                                                                          \"u\": [1,1,1,1,1,1,1,1,1,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.841470985,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427,1.909297427],\n                                                                          \"v\": [1,1,1,0.5403023059,0.5403023059,0.5403023059,0.4161468365,0.4161468365,0.4161468365,1,1,1,0.5403023059,0.5403023059,0.5403023059,0.4161468365,0.4161468365,0.4161468365,1,1,1,0.5403023059,0.5403023059,0.5403023059,0.4161468365,0.4161468365,0.4161468365],\n                                                                          \"w\": [0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742,0,0.088656062,0.169392742],\n                                                                          \"sizeref\": 0.5,\n                                                                          \"cmin\": 0,\n                                                                          \"cmax\": 3, \n                                                                          \"name\": \"Trace\" } \n                                                                        },\n    // Data template for \"Volume\" chart seems prety complex, so we generate it dynamically with a function\n    { \"id\": \"Volume\", \"icon\": \"volumeChart\",                               \"proRequired\": true, \"traceTemplate\": generateVolumeTrace() } \n\n  \n\n  ]\n\n  function generateVolumeTrace() {\n    const l = 3;\n    let X = [], Y = [], Z = [], vol = [];\n\n    // Create grid points for 3D space, similar to mgrid in Julia\n    for (let i = 1; i <= l; i++) {\n      for (let j = 1; j <= l; j++) {\n        for (let k = 1; k <= l; k++) {\n          X.push(i);\n          Y.push(j);\n          Z.push(k);\n          // Initially, set the volume to zero\n          vol.push(0);\n        }\n      }\n    }\n\n    for (let n = 0; n < 15; n++) {\n      const randomIndex = Math.floor(Math.random() * vol.length);\n      vol[randomIndex] = 1;\n    }\n\n    vol = vol.map((v, idx) => {\n      const neighbors = [\n        vol[idx - 1] || 0, vol[idx + 1] || 0, \n        vol[idx - l] || 0, vol[idx + l] || 0, \n        vol[idx - l * l] || 0, vol[idx + l * l] || 0 \n      ];\n      const sum = neighbors.reduce((a, b) => a + b, 0);\n      return (v + sum / neighbors.length) / 2;\n    });\n\n    const maxVol = Math.max(...vol);\n    vol = vol.map(v => v / maxVol);\n\n    const trace = {\n      type: 'volume',\n      x: X,\n      y: Y,\n      z: Z,\n      value: vol,\n      isomin: 0.1,\n      isomax: 0.8,\n      opacity: 0.1,\n      surface_count: 25\n    };\n    return trace;\n  }\n\nexport {chartTypes}","<template>\n    <div class=\"componentAddDialogContainer\">        \n        <div class=\"componentAddDialog\">\n            <div class=\"closeButton\" @click=\"closeDialog(true)\">X</div>\n            <p style=\"    margin-bottom: 6px; font-size: 12px; font-weight: 400; opacity: 0.7;\">Add component for binding</p>\n            <div style=\"padding-bottom: 10px; border-bottom: 1px solid #cccccc50;\">\n                <img :src=\"'img/icons/type_'+props.componentPlaceHolderData.datatype+'.png'\" style=\"height: 17px; vertical-align: middle; display: inline-block;\" />\n                {{ props.componentPlaceHolderData.bindingname }} \n            </div>\n            <div style=\"font-size: 14px; padding: 20px 0px 15px\">Suggested Components:</div>\n            <div class=\"compGroupsContainer\">\n                <div :class=\"{ compGroup:true, compGroupDisabled: comp.proRequired && !isPro }\" v-for=\"comp in props.componentPlaceHolderData.components\" :key=\"comp.type\"  @click=\"(!comp.proRequired) || ( comp.proRequired  && isPro ) ? selectCompProp(comp, comp.matchingProperties[0]) : showUpgradeLicenseDialog(true)\" :title=\"comp.proRequired && !isPro ? 'Upgrade to PRO plan to use this component and many more!' : comp.label\">\n                    <div class=\"compName\">\n                        <div :class=\"{ compNameLabel: true, compNameLabelProRequired: (comp.proRequired && !isPro) }\">{{ comp.label }}</div>\n                        <div :class=\"{ compNameIconContainer: true, compNameIconContainerProRequired: (comp.proRequired && !isPro) }\">\n                            <img :src=\"getBlockIconPath(comp)\" :class=\"{ typeIcon:true, typeIconProRequired: (comp.proRequired && !isPro) }\" style=\"filter: var(--library-icon-filter); max-height: 20px; margin-top: 6px; pointer-events: none;\" />\n                           <!--  <div>Pro: {{ comp.proRequired }}</div> -->\n                        </div>\n                        <img v-if=\"comp.proRequired && !isPro\" src=\"img/icons/pro_badge.png\" class=\"proBadge\" style=\"\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\nimport Configuration from '../../utils/Configuration';\nimport {chartTypes} from '../../utils/chartDefinitions.js';\n\nconst props = defineProps(['appData', 'componentPlaceHolderData'])\nconst emit = defineEmits(['closeDialog'])\n\nconsole.log( \"props.componentPlaceHolderData: \", props.componentPlaceHolderData)\nconst isPro = Configuration.IS_PRO;\n\nfunction showUpgradeLicenseDialog(showDialog=true){\n    window.showUpgradeLicenseDialog(showDialog);\n}\n\nfunction getChartTemplate( chartId ){\n    console.log( 'chartTypes', chartTypes );\n    let chart = chartTypes.find( (chart)=>{ return chart.id == chartId } );\n    if( !chart ){\n        console.error(\"Could not find chart with id: \" + chartId);\n        return \"\";\n    }\n    return chart.traceTemplate;\n\n}\nconst getBlockIconPath = function(block)  {   \n    let iconFileName;\n    if( block.icon ){\n        iconFileName = block.icon;\n    }else{\n        iconFileName = block.type.split(\"q-\").join(\"\")+'.png';\n    }\n    const result = 'img/block_icons/'+iconFileName\n    return result;\n}\n\nfunction selectCompProp(comp, prop){\n    console.log( 'selectCompProp(comp, prop', comp, prop );\n    \n    /* window.logUserEvent( \"component::addFromBinding\", { \n        component: comp.type, \n        bindingDataType: props.componentPlaceHolderData.datatype\n    }); */\n\n    let newElement = new DOMParser().parseFromString(comp.content, 'text/html').body.childNodes[0];\n    \n    // prepend colon if prop is not v-model\n    let propName = prop; // == 'v-model' ? prop : ':'+prop;\n    let finalBindingName = props.componentPlaceHolderData.bindingname;\n    \n    // If binding is dataframe, pick first column\n    if( props.componentPlaceHolderData.datatype == \"DataFrames.DataFrame\" ){\n        let firstColumn = getDataFrameColumn( props.componentPlaceHolderData.bindingname );\n        finalBindingName += '.' + firstColumn;\n        // Tag as interpolated value\n        finalBindingName ='$_{' + finalBindingName + '}';\n        // get trace template\n        let template = getChartTemplate( comp.label );\n        // inject binding\n        if( template.x != null ) template.x = finalBindingName;\n        if( template.y != null ) template.y = finalBindingName;\n        if( template.z != null ) template.z = finalBindingName;\n        if( template.labels != null ) template.labels = finalBindingName;\n        if( template.values != null ) template.values = finalBindingName;\n        \n\n        // Encapsulate in trace object\n        console.log( 'traceTemplate: ', template );\n        //finalBindingName = `[{\"x\": \"${finalBindingName}\", \"y\": \"${finalBindingName}\", \"type\": \"scatter\", \"name\": \"Trace\" }]`;\n        finalBindingName = `[${JSON.stringify(template)}]`;\n        // Encode\n        finalBindingName = btoa( finalBindingName );\n        // Remove the constant data\n        newElement.removeAttribute('gb_c__data');\n        console.log( 'finalBindingName', finalBindingName );\n        newElement.setAttribute( \"gb_c__\" + propName, finalBindingName );\n    }else if( props.componentPlaceHolderData.datatype == \"DataTable.DataFrames.DataFrame\" ){\n        // Remove the constant data\n        newElement.removeAttribute('gb_c__data');\n        // Add the dynamic data binding using its columns property\n        finalBindingName += '.data';\n        newElement.setAttribute( \"gb_b__\" + propName, finalBindingName );\n        newElement.setAttribute( \"gb_b__columns\", props.componentPlaceHolderData.bindingname + \".columns\" );\n    }else{\n        newElement.setAttribute( \"gb_b__\" + propName, finalBindingName );\n    }\n    let newElementHtml = newElement.outerHTML;\n    editor.getSelected().replaceWith( newElementHtml );\n    closeDialog(false);\n}\n\nfunction closeDialog(removeSelected){\n    emit('closeDialog', removeSelected);\n}\n\n// ------------------------------------------\n\n\n// ====================== COMPUTED ====================== \n\nfunction getDataFrameColumn( dfName ) {\n    let dsFields = props.appData.pages[Configuration.currentPageIndex].model.fields.filter( (field)=>{ \n        return field.name == dfName;\n    } );\n    if( dsFields.length == 0 ){\n        console.error(\"Could not find dataframe with name: \" + dfName);\n        return \"\";\n    }\n    if( !dsFields[0].columns || dsFields[0].columns.length == 0 ){\n        console.error( \"Dataframe \" + dfName + \" has no columns\" );\n        return \"\";\n    }\n    return dsFields[0].columns[0];\n}\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n    @import \"../../styles/globalStyles.scss\";\n\n    .closeButton{\n        position: absolute;\n        top: 5px;\n        right: 10px;\n        padding: 5px;\n        cursor: pointer;\n        font-weight: bold;\n    }\n    .compGroupsContainer{\n        display: flex;\n        flex-wrap: wrap;\n        gap: 5px;\n        max-height: 40vh;\n        /* grid-template-columns: 19% 19% 19% 19% 19%; */\n        /* flex-direction: row; */\n        width: 100%;\n        overflow: auto;\n        justify-content: center;\n    }\n    .componentAddDialogContainer{\n        position: fixed;\n        background-color: #000000a0;\n        top: 0px;\n        left: 0px;\n        right: 0px;\n        bottom: 0px;\n        z-index: 1;\n        /* backdrop-filter: blur(3px); */\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .componentAddDialog{\n        background-color: var(--background);\n        border: solid 1px var(--dropdown-border);\n        padding: 10px 30px 30px;\n        box-sizing: border-box;\n        text-align: center;\n        position: absolute;\n        max-width: 800px;\n        max-height: min-content;\n        box-shadow: 5px 16px 40px #00000030;\n        margin: 30px;\n    }\n\n    .compGroup{\n        display: flex;\n        flex-direction: column;\n        width: 110px;\n        position: relative;\n    }\n    \n    .proBadge{\n        position: absolute;\n        bottom: 3px;\n        right: 3px;\n        width: 20px;\n        opacity: 0.2;\n    }\n    \n    .compGroupDisabled{\n        cursor: not-allowed;\n    }\n\n    .compGroupDisabled:hover{\n        .proBadge{\n            opacity: 1;\n        }\n    }\n\n    .compName{\n        min-width: 100px;\n        display: block;\n        flex: 1 1 49%;\n        border: solid 1px var(--checkbox-background);\n        padding: 5px 6px 3px;\n        box-sizing: border-box;\n        text-align: center;\n        cursor: move;\n        border-radius: 5px;\n        font-size: 0.9em;\n    }\n    .compName:hover{\n        border: solid 1px #315972;\n        background-color: #cccccc10;\n    }\n\n    .compNameLabel{\n        text-overflow: ellipsis; \n        overflow: hidden; \n        white-space: nowrap; \n        pointer-events: none;\n    }\n\n    .compNameIconContainer{\n        justify-content: center; \n        display: flex; \n        margin-bottom: 3px; \n        filter: brightness(1.5) saturate(1); \n        pointer-events: none;\n    }\n\n    .compNameLabelProRequired, .compNameLabelProRequired, .typeIconProRequired{\n        opacity: 0.3;\n    }\n\n    .propItem{\n        cursor: pointer;\n        width: max-content;\n        margin: 0px 10px;\n    }\n    .propItem:hover{\n        font-weight: bold;\n    }\n</style>","import script from \"./ComponentAddDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ComponentAddDialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ComponentAddDialog.vue?vue&type=style&index=0&id=457e8d62&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-457e8d62\"]])\n\nexport default __exports__","/*\nIcon list Extracted from https://fonts.google.com/icons?icon.set=Material+Icons&selected=Material+Icons+Outlined:shopping_cart: with this script:\nlet result = [];\nlet iconElements = document.querySelectorAll(\"div.icons-container .icon-asset\")\niconElements.forEach( el=>{\n    let content = el.querySelector(\"span\")\n    let name = content.innerText;\n    let classes = el.getAttribute(\"class\");\n    result.push(name);\n} )\nconsole.log( JSON.stringify(result) );\n*/\n\nimport axios from \"axios\";\nimport {chartTypes} from \"./chartDefinitions.js\";\n\n\nlet _blockDefinitions;\nlet injectableVariables = {\n  supportedIcons: [ \n    \"search\",\"search\",\"home\",\"account_circle\",\"settings\",\"done\",\"info\",\"check_circle\",\"delete\",\"visibility\",\"shopping_cart\",\"favorite\",\"description\",\"logout\",\"favorite_border\",\"lock\",\"schedule\",\"language\",\"help_outline\",\"face\",\"manage_accounts\",\"verified\",\"filter_alt\",\"thumb_up\",\"event\",\"fingerprint\",\"dashboard\",\"list\",\"login\",\"visibility_off\",\"check_circle_outline\",\"calendar_today\",\"highlight_off\",\"help\",\"paid\",\"task_alt\",\"question_answer\",\"date_range\",\"article\",\"open_in_new\",\"shopping_bag\",\"lightbulb\",\"credit_card\",\"perm_identity\",\"history\",\"trending_up\",\"account_balance\",\"delete_outline\",\"fact_check\",\"report_problem\",\"verified_user\",\"assignment\",\"star_rate\",\"arrow_right_alt\",\"account_balance_wallet\",\"autorenew\",\"build\",\"view_list\",\"work\",\"print\",\"store\",\"analytics\",\"delete_forever\",\"today\",\"calendar_month\",\"admin_panel_settings\",\"lock_open\",\"watch_later\",\"grade\",\"update\",\"savings\",\"room\",\"code\",\"receipt\",\"add_shopping_cart\",\"contact_support\",\"power_settings_new\",\"done_all\",\"pets\",\"explore\",\"bookmark\",\"account_box\",\"note_add\",\"reorder\",\"bookmark_border\",\"pending_actions\",\"shopping_basket\",\"payment\",\"launch\",\"drag_indicator\",\"supervisor_account\",\"touch_app\",\"pending\",\"zoom_in\",\"assessment\",\"leaderboard\",\"thumb_up_off_alt\",\"open_in_full\",\"preview\",\"done_outline\",\"exit_to_app\",\"assignment_ind\",\"published_with_changes\",\"card_giftcard\",\"view_in_ar\",\"feedback\",\"work_outline\",\"timeline\",\"swap_horiz\",\"assignment_turned_in\",\"dns\",\"stars\",\"sync_alt\",\"label\",\"flight_takeoff\",\"tips_and_updates\",\"book\",\"contact_page\",\"alarm\",\"space_dashboard\",\"bug_report\",\"cached\",\"gavel\",\"translate\",\"pan_tool\",\"edit_calendar\",\"supervised_user_circle\",\"minimize\",\"extension\",\"accessibility\",\"android\",\"rocket_launch\",\"get_app\",\"question_mark\",\"record_voice_over\",\"add_task\",\"trending_flat\",\"help_center\",\"hourglass_empty\",\"accessibility_new\",\"rule\",\"thumb_down\",\"sticky_note_2\",\"settings_applications\",\"source\",\"dashboard_customize\",\"find_in_page\",\"ads_click\",\"support\",\"flutter_dash\",\"close_fullscreen\",\"redeem\",\"announcement\",\"loyalty\",\"swap_vert\",\"arrow_circle_right\",\"view_headline\",\"restore\",\"dangerous\",\"euro_symbol\",\"group_work\",\"sensors\",\"compare_arrows\",\"subject\",\"table_view\",\"disabled_by_default\",\"privacy_tip\",\"nightlight_round\",\"https\",\"toc\",\"track_changes\",\"arrow_circle_up\",\"bookmarks\",\"copyright\",\"grading\",\"currency_exchange\",\"input\",\"api\",\"perm_media\",\"query_builder\",\"view_module\",\"build_circle\",\"zoom_out\",\"perm_contact_calendar\",\"settings_phone\",\"backup\",\"open_with\",\"circle_notifications\",\"perm_phone_msg\",\"book_online\",\"speaker_notes\",\"label_important\",\"wysiwyg\",\"card_membership\",\"file_present\",\"arrow_circle_down\",\"pageview\",\"3d_rotation\",\"upgrade\",\"integration_instructions\",\"change_history\",\"trending_down\",\"swipe\",\"class\",\"percent\",\"accessible\",\"g_translate\",\"settings_accessibility\",\"expand\",\"offline_bolt\",\"settings_backup_restore\",\"production_quantity_limits\",\"arrow_circle_left\",\"aspect_ratio\",\"model_training\",\"view_column\",\"donut_large\",\"segment\",\"calendar_view_month\",\"schedule_send\",\"alarm_on\",\"maximize\",\"bookmark_add\",\"thumbs_up_down\",\"settings_ethernet\",\"theaters\",\"view_agenda\",\"thumb_down_off_alt\",\"important_devices\",\"unpublished\",\"invert_colors\",\"opacity\",\"commute\",\"open_in_browser\",\"system_update_alt\",\"no_accounts\",\"addchart\",\"history_toggle_off\",\"view_week\",\"youtube_searched_for\",\"tour\",\"shopping_cart_checkout\",\"hide_source\",\"bookmark_added\",\"mark_as_unread\",\"settings_input_antenna\",\"shop\",\"plagiarism\",\"turned_in\",\"search_off\",\"not_started\",\"flight_land\",\"assignment_late\",\"assignment_return\",\"donut_small\",\"saved_search\",\"filter_alt_off\",\"contactless\",\"highlight_alt\",\"hotel_class\",\"settings_input_component\",\"balance\",\"view_carousel\",\"view_quilt\",\"anchor\",\"all_inbox\",\"turned_in_not\",\"mediation\",\"settings_remote\",\"edit_off\",\"hourglass_full\",\"fit_screen\",\"flaky\",\"rocket\",\"toll\",\"remove_shopping_cart\",\"lock_clock\",\"swap_horizontal_circle\",\"settings_voice\",\"view_sidebar\",\"event_seat\",\"online_prediction\",\"vertical_split\",\"next_plan\",\"pregnant_woman\",\"data_exploration\",\"terminal\",\"restore_from_trash\",\"lock_reset\",\"camera_enhance\",\"markunread_mailbox\",\"dynamic_form\",\"tab\",\"calendar_view_week\",\"view_stream\",\"accessible_forward\",\"request_page\",\"token\",\"remove_done\",\"settings_power\",\"smart_button\",\"add_to_drive\",\"card_travel\",\"outbox\",\"try\",\"offline_pin\",\"calendar_view_day\",\"find_replace\",\"density_medium\",\"rowing\",\"compress\",\"chrome_reader_mode\",\"fax\",\"outlet\",\"assignment_returned\",\"http\",\"settings_brightness\",\"add_card\",\"alarm_add\",\"generating_tokens\",\"new_label\",\"backup_table\",\"spellcheck\",\"restore_page\",\"credit_card_off\",\"wifi_protected_setup\",\"play_for_work\",\"free_cancellation\",\"settings_overscan\",\"work_history\",\"123\",\"gif\",\"outbound\",\"disabled_visible\",\"swap_vertical_circle\",\"settings_input_composite\",\"cancel_schedule_send\",\"quickreply\",\"view_day\",\"event_repeat\",\"comment_bank\",\"assured_workload\",\"switch_access_shortcut\",\"display_settings\",\"view_timeline\",\"line_weight\",\"pan_tool_alt\",\"horizontal_split\",\"noise_control_off\",\"webhook\",\"satellite_alt\",\"polymer\",\"batch_prediction\",\"send_and_archive\",\"picture_in_picture\",\"manage_history\",\"code_off\",\"bookmark_remove\",\"settings_bluetooth\",\"shop_two\",\"output\",\"html\",\"flip_to_front\",\"gif_box\",\"eject\",\"speaker_notes_off\",\"alarm_off\",\"perm_data_setting\",\"settings_input_hdmi\",\"perm_scan_wifi\",\"hourglass_disabled\",\"troubleshoot\",\"switch_access_shortcut_add\",\"sensors_off\",\"settings_cell\",\"work_off\",\"app_blocking\",\"picture_in_picture_alt\",\"line_style\",\"perm_device_information\",\"join_full\",\"subtitles_off\",\"update_disabled\",\"app_shortcut\",\"javascript\",\"abc\",\"swipe_left\",\"voice_over_off\",\"private_connectivity\",\"lightbulb_circle\",\"settings_input_svideo\",\"join_inner\",\"flip_to_back\",\"view_array\",\"swipe_right\",\"install_desktop\",\"open_in_new_off\",\"swipe_up\",\"all_out\",\"shop_2\",\"label_off\",\"density_small\",\"tab_unselected\",\"rounded_corner\",\"data_thresholding\",\"text_rotate_vertical\",\"arrow_outward\",\"commit\",\"explore_off\",\"install_mobile\",\"text_rotation_none\",\"view_kanban\",\"not_accessible\",\"css\",\"swipe_down\",\"lock_person\",\"pin_invoke\",\"join_left\",\"extension_off\",\"spatial_audio_off\",\"perm_camera_mic\",\"pinch\",\"swipe_vertical\",\"noise_aware\",\"pin_end\",\"view_cozy\",\"join_right\",\"swipe_right_alt\",\"text_rotate_up\",\"text_rotation_angleup\",\"text_rotation_down\",\"text_rotation_angledown\",\"browse_gallery\",\"php\",\"view_comfy_alt\",\"view_compact_alt\",\"network_ping\",\"swipe_down_alt\",\"add_home\",\"density_large\",\"on_device_training\",\"swipe_left_alt\",\"spatial_tracking\",\"swipe_up_alt\",\"unfold_more_double\",\"spatial_audio\",\"width_full\",\"unfold_less_double\",\"repartition\",\"width_normal\",\"transcribe\",\"width_wide\",\"hls\",\"hls_off\",\"face_unlock\",\"close\",\"close\",\"menu\",\"expand_more\",\"arrow_back\",\"chevron_right\",\"arrow_forward_ios\",\"arrow_back_ios\",\"cancel\",\"arrow_drop_down\",\"more_vert\",\"arrow_forward\",\"chevron_left\",\"expand_less\",\"check\",\"more_horiz\",\"refresh\",\"apps\",\"payments\",\"arrow_upward\",\"east\",\"campaign\",\"arrow_back_ios_new\",\"arrow_downward\",\"arrow_right\",\"menu_open\",\"fullscreen\",\"arrow_drop_up\",\"unfold_more\",\"double_arrow\",\"maps_home_work\",\"west\",\"expand_circle_down\",\"south\",\"arrow_left\",\"north_east\",\"north\",\"home_work\",\"first_page\",\"fullscreen_exit\",\"arrow_drop_down_circle\",\"last_page\",\"unfold_less\",\"subdirectory_arrow_right\",\"legend_toggle\",\"south_east\",\"app_settings_alt\",\"assistant_direction\",\"subdirectory_arrow_left\",\"north_west\",\"waterfall_chart\",\"switch_left\",\"south_west\",\"pivot_table_chart\",\"switch_right\",\"apps_outage\",\"offline_share\",\"add_home_work\",\"person\",\"person\",\"notifications\",\"groups\",\"people\",\"share\",\"school\",\"person_outline\",\"person_add\",\"public\",\"emoji_events\",\"group\",\"engineering\",\"notifications_active\",\"construction\",\"people_alt\",\"group_add\",\"psychology\",\"health_and_safety\",\"thumb_up_alt\",\"travel_explore\",\"water_drop\",\"notifications_none\",\"emoji_emotions\",\"sports_esports\",\"sentiment_very_satisfied\",\"location_city\",\"ios_share\",\"precision_manufacturing\",\"sentiment_satisfied\",\"workspace_premium\",\"person_add_alt\",\"military_tech\",\"science\",\"emoji_objects\",\"history_edu\",\"cake\",\"sentiment_dissatisfied\",\"sentiment_very_dissatisfied\",\"handshake\",\"emoji_people\",\"coronavirus\",\"self_improvement\",\"person_remove\",\"poll\",\"whatshot\",\"sports_soccer\",\"domain\",\"mood\",\"recommend\",\"people_outline\",\"female\",\"recycling\",\"person_off\",\"male\",\"person_add_alt_1\",\"connect_without_contact\",\"sentiment_neutral\",\"back_hand\",\"hiking\",\"waving_hand\",\"architecture\",\"masks\",\"notifications_off\",\"thumb_down_alt\",\"luggage\",\"real_estate_agent\",\"front_hand\",\"vaccines\",\"mood_bad\",\"emoji_nature\",\"switch_account\",\"nights_stay\",\"king_bed\",\"catching_pokemon\",\"interests\",\"compost\",\"sports_basketball\",\"notification_add\",\"diversity_3\",\"sports_kabaddi\",\"sports\",\"emoji_symbols\",\"reduce_capacity\",\"emoji_food_beverage\",\"cruelty_free\",\"man\",\"sick\",\"emoji_transportation\",\"sports_tennis\",\"cookie\",\"heart_broken\",\"transgender\",\"elderly\",\"add_moderator\",\"outdoor_grill\",\"deck\",\"woman\",\"add_reaction\",\"social_distance\",\"personal_injury\",\"follow_the_signs\",\"plus_one\",\"fireplace\",\"wallet\",\"scale\",\"clean_hands\",\"piano\",\"pix\",\"surfing\",\"sanitizer\",\"sports_motorsports\",\"diversity_1\",\"sports_handball\",\"sports_baseball\",\"edit_notifications\",\"hive\",\"sports_volleyball\",\"pages\",\"groups_2\",\"sports_football\",\"downhill_skiing\",\"kayaking\",\"psychology_alt\",\"public_off\",\"single_bed\",\"remove_moderator\",\"group_remove\",\"skateboarding\",\"co2\",\"notifications_paused\",\"boy\",\"person_remove_alt_1\",\"safety_divider\",\"diversity_2\",\"domain_add\",\"fitbit\",\"sports_cricket\",\"group_off\",\"sports_mma\",\"nordic_walking\",\"sports_martial_arts\",\"sports_golf\",\"girl\",\"thunderstorm\",\"paragliding\",\"6_ft_apart\",\"party_mode\",\"snowboarding\",\"kitesurfing\",\"sports_gymnastics\",\"groups_3\",\"face_6\",\"snowshoeing\",\"sports_hockey\",\"ice_skating\",\"south_america\",\"sports_rugby\",\"face_3\",\"elderly_woman\",\"sledding\",\"scoreboard\",\"person_2\",\"face_2\",\"face_4\",\"sign_language\",\"no_luggage\",\"cyclone\",\"person_4\",\"face_5\",\"person_3\",\"piano_off\",\"flood\",\"scuba_diving\",\"severe_cold\",\"tsunami\",\"roller_skating\",\"tornado\",\"landslide\",\"assist_walker\",\"woman_2\",\"man_2\",\"volcano\",\"18_up_rating\",\"blind\",\"no_adult_content\",\"man_4\",\"man_3\",\"add\",\"add\",\"add_circle_outline\",\"content_copy\",\"add_circle\",\"send\",\"clear\",\"save\",\"mail\",\"link\",\"remove\",\"filter_list\",\"inventory_2\",\"inventory\",\"insights\",\"remove_circle_outline\",\"sort\",\"bolt\",\"flag\",\"reply\",\"add_box\",\"remove_circle\",\"push_pin\",\"block\",\"calculate\",\"create\",\"undo\",\"how_to_reg\",\"content_paste\",\"report\",\"file_copy\",\"backspace\",\"shield\",\"archive\",\"save_alt\",\"policy\",\"tag\",\"change_circle\",\"redo\",\"forward\",\"content_cut\",\"outlined_flag\",\"inbox\",\"link_off\",\"ballot\",\"drafts\",\"biotech\",\"report_gmailerrorred\",\"delete_sweep\",\"stacked_bar_chart\",\"markunread\",\"square_foot\",\"add_link\",\"stream\",\"where_to_vote\",\"dynamic_feed\",\"copy_all\",\"move_to_inbox\",\"waves\",\"unarchive\",\"content_paste_search\",\"reply_all\",\"select_all\",\"low_priority\",\"text_format\",\"save_as\",\"font_download\",\"weekend\",\"how_to_vote\",\"upcoming\",\"gesture\",\"attribution\",\"flag_circle\",\"content_paste_go\",\"filter_list_off\",\"next_week\",\"content_paste_off\",\"report_off\",\"web_stories\",\"deselect\",\"font_download_off\",\"edit\",\"edit\",\"navigate_next\",\"photo_camera\",\"image\",\"tune\",\"picture_as_pdf\",\"receipt_long\",\"circle\",\"timer\",\"auto_stories\",\"collections\",\"auto_awesome\",\"navigate_before\",\"add_a_photo\",\"palette\",\"remove_red_eye\",\"music_note\",\"add_photo_alternate\",\"wb_sunny\",\"brush\",\"euro\",\"flash_on\",\"looks_one\",\"auto_fix_high\",\"control_point\",\"style\",\"adjust\",\"straighten\",\"photo_library\",\"camera\",\"portrait\",\"camera_alt\",\"audiotrack\",\"video_camera_front\",\"rotate_right\",\"color_lens\",\"grid_on\",\"crop_free\",\"timelapse\",\"landscape\",\"slideshow\",\"currency_rupee\",\"collections_bookmark\",\"crop_square\",\"lens\",\"panorama_fish_eye\",\"looks_two\",\"filter_vintage\",\"compare\",\"looks_3\",\"filter_drama\",\"image_search\",\"healing\",\"auto_awesome_motion\",\"rotate_left\",\"center_focus_strong\",\"crop\",\"blur_on\",\"wb_incandescent\",\"flare\",\"face_retouching_natural\",\"wb_cloudy\",\"assistant\",\"broken_image\",\"cases\",\"colorize\",\"filter_none\",\"brightness_4\",\"filter_center_focus\",\"crop_original\",\"auto_fix_normal\",\"dehaze\",\"nature_people\",\"photo\",\"flash_off\",\"auto_awesome_mosaic\",\"tag_faces\",\"brightness_6\",\"brightness_5\",\"details\",\"grain\",\"flip_camera_android\",\"brightness_1\",\"flip\",\"loupe\",\"image_not_supported\",\"flip_camera_ios\",\"view_comfy\",\"filter_1\",\"movie_creation\",\"add_to_photos\",\"panorama\",\"bedtime\",\"animation\",\"center_focus_weak\",\"looks_4\",\"movie_filter\",\"crop_din\",\"filter\",\"control_point_duplicate\",\"brightness_7\",\"leak_add\",\"currency_bitcoin\",\"nature\",\"incomplete_circle\",\"texture\",\"view_compact\",\"timer_off\",\"photo_size_select_actual\",\"video_camera_back\",\"transform\",\"currency_yen\",\"motion_photos_on\",\"photo_camera_front\",\"rotate_90_degrees_ccw\",\"looks_5\",\"mic_external_on\",\"gradient\",\"assistant_photo\",\"wb_twilight\",\"currency_pound\",\"contrast\",\"hide_image\",\"music_off\",\"exposure_plus_1\",\"crop_16_9\",\"thermostat_auto\",\"filter_2\",\"shutter_speed\",\"exposure\",\"photo_album\",\"filter_tilt_shift\",\"hdr_strong\",\"looks\",\"vrpano\",\"linked_camera\",\"brightness_3\",\"looks_6\",\"blur_circular\",\"flash_auto\",\"motion_photos_auto\",\"crop_portrait\",\"photo_filter\",\"iso\",\"brightness_2\",\"tonality\",\"photo_size_select_small\",\"filter_hdr\",\"crop_7_5\",\"rotate_90_degrees_cw\",\"crop_rotate\",\"photo_size_select_large\",\"filter_3\",\"exposure_zero\",\"hdr_weak\",\"currency_ruble\",\"camera_front\",\"crop_5_4\",\"filter_frames\",\"burst_mode\",\"camera_roll\",\"logo_dev\",\"filter_b_and_w\",\"blur_linear\",\"crop_3_2\",\"crop_landscape\",\"switch_camera\",\"switch_video\",\"filter_7\",\"exposure_plus_2\",\"filter_4\",\"filter_9_plus\",\"grid_off\",\"wb_iridescent\",\"motion_photos_paused\",\"monochrome_photos\",\"photo_camera_back\",\"filter_5\",\"auto_fix_off\",\"face_retouching_off\",\"exposure_neg_1\",\"panorama_photosphere\",\"filter_8\",\"leak_remove\",\"filter_9\",\"video_stable\",\"timer_10\",\"filter_6\",\"wb_shade\",\"blur_off\",\"motion_photos_off\",\"raw_on\",\"motion_photos_pause\",\"hdr_on\",\"vignette\",\"panorama_horizontal\",\"30fps_select\",\"image_aspect_ratio\",\"dirty_lens\",\"deblur\",\"camera_rear\",\"60fps_select\",\"timer_3\",\"panorama_wide_angle_select\",\"24mp\",\"exposure_neg_2\",\"currency_yuan\",\"currency_lira\",\"autofps_select\",\"panorama_horizontal_select\",\"panorama_photosphere_select\",\"hdr_plus\",\"wb_auto\",\"panorama_wide_angle\",\"panorama_vertical_select\",\"mic_external_off\",\"12mp\",\"panorama_vertical\",\"mp\",\"hdr_enhanced_select\",\"currency_franc\",\"hevc\",\"18mp\",\"10mp\",\"raw_off\",\"23mp\",\"bedtime_off\",\"hdr_off\",\"11mp\",\"20mp\",\"3mp\",\"5mp\",\"13mp\",\"15mp\",\"16mp\",\"21mp\",\"2mp\",\"17mp\",\"14mp\",\"22mp\",\"19mp\",\"9mp\",\"4mp\",\"7mp\",\"8mp\",\"6mp\",\"email\",\"email\",\"location_on\",\"call\",\"phone\",\"business\",\"chat\",\"mail_outline\",\"list_alt\",\"qr_code_scanner\",\"vpn_key\",\"chat_bubble_outline\",\"alternate_email\",\"forum\",\"chat_bubble\",\"textsms\",\"contact_mail\",\"person_search\",\"sentiment_satisfied_alt\",\"qr_code\",\"qr_code_2\",\"message\",\"contacts\",\"comment\",\"key\",\"import_contacts\",\"app_registration\",\"contact_phone\",\"import_export\",\"live_help\",\"forward_to_inbox\",\"hourglass_bottom\",\"hourglass_top\",\"rss_feed\",\"mark_email_read\",\"hub\",\"read_more\",\"document_scanner\",\"more_time\",\"mark_email_unread\",\"call_end\",\"clear_all\",\"dialpad\",\"phone_enabled\",\"mark_chat_unread\",\"cancel_presentation\",\"3p\",\"call_made\",\"screen_share\",\"call_split\",\"unsubscribe\",\"present_to_all\",\"domain_verification\",\"mark_chat_read\",\"add_ic_call\",\"co_present\",\"phonelink_ring\",\"stay_current_portrait\",\"call_received\",\"phonelink_lock\",\"phone_disabled\",\"ring_volume\",\"location_off\",\"phonelink_setup\",\"duo\",\"cell_tower\",\"stay_primary_portrait\",\"swap_calls\",\"voicemail\",\"call_merge\",\"mobile_screen_share\",\"phonelink_erase\",\"person_add_disabled\",\"domain_disabled\",\"call_missed_outgoing\",\"speaker_phone\",\"spoke\",\"cell_wifi\",\"desktop_access_disabled\",\"stop_screen_share\",\"print_disabled\",\"call_missed\",\"mark_unread_chat_alt\",\"pause_presentation\",\"dialer_sip\",\"invert_colors_off\",\"comments_disabled\",\"contact_emergency\",\"wifi_calling\",\"rtt\",\"portable_wifi_off\",\"send_time_extension\",\"mail_lock\",\"stay_current_landscape\",\"sip\",\"nat\",\"stay_primary_landscape\",\"no_sim\",\"key_off\",\"vpn_key_off\",\"local_shipping\",\"local_shipping\",\"place\",\"menu_book\",\"local_offer\",\"badge\",\"map\",\"category\",\"restaurant\",\"directions_car\",\"local_fire_department\",\"volunteer_activism\",\"my_location\",\"flight\",\"local_mall\",\"near_me\",\"handyman\",\"directions_run\",\"restaurant_menu\",\"layers\",\"medical_services\",\"directions_walk\",\"lunch_dining\",\"local_hospital\",\"celebration\",\"local_library\",\"pin_drop\",\"park\",\"local_atm\",\"local_activity\",\"person_pin\",\"design_services\",\"local_cafe\",\"rate_review\",\"delivery_dining\",\"directions_bus\",\"local_police\",\"directions_bike\",\"fastfood\",\"directions_car_filled\",\"home_repair_service\",\"zoom_out_map\",\"hotel\",\"cleaning_services\",\"local_phone\",\"local_grocery_store\",\"miscellaneous_services\",\"navigation\",\"local_gas_station\",\"train\",\"person_pin_circle\",\"local_parking\",\"local_florist\",\"diamond\",\"local_post_office\",\"money\",\"directions\",\"two_wheeler\",\"factory\",\"add_business\",\"traffic\",\"electrical_services\",\"local_bar\",\"route\",\"directions_boat\",\"alt_route\",\"agriculture\",\"pedal_bike\",\"beenhere\",\"360\",\"warehouse\",\"liquor\",\"emergency\",\"moving\",\"local_airport\",\"sailing\",\"add_location_alt\",\"local_dining\",\"maps_ugc\",\"local_taxi\",\"ramen_dining\",\"trip_origin\",\"hail\",\"local_drink\",\"local_laundry_service\",\"directions_bus_filled\",\"local_printshop\",\"theater_comedy\",\"local_pizza\",\"not_listed_location\",\"add_location\",\"transfer_within_a_station\",\"dinner_dining\",\"bakery_dining\",\"forest\",\"wine_bar\",\"terrain\",\"multiple_stop\",\"takeout_dining\",\"store_mall_directory\",\"icecream\",\"museum\",\"nightlife\",\"local_pharmacy\",\"hardware\",\"add_road\",\"departure_board\",\"set_meal\",\"ev_station\",\"local_see\",\"electric_car\",\"festival\",\"plumbing\",\"layers_clear\",\"car_rental\",\"attractions\",\"edit_location\",\"local_convenience_store\",\"zoom_in_map\",\"pest_control\",\"medical_information\",\"dry_cleaning\",\"run_circle\",\"edit_road\",\"edit_attributes\",\"edit_location_alt\",\"church\",\"moped\",\"wrong_location\",\"car_repair\",\"local_movies\",\"satellite\",\"directions_boat_filled\",\"tram\",\"soup_kitchen\",\"taxi_alert\",\"breakfast_dining\",\"signpost\",\"atm\",\"subway\",\"transit_enterexit\",\"straight\",\"merge\",\"brunch_dining\",\"hvac\",\"electric_bike\",\"directions_transit\",\"crisis_alert\",\"electric_scooter\",\"connecting_airports\",\"bus_alert\",\"egg\",\"local_car_wash\",\"local_hotel\",\"mode_of_travel\",\"stadium\",\"castle\",\"streetview\",\"safety_check\",\"directions_subway\",\"car_crash\",\"mosque\",\"compass_calibration\",\"electric_rickshaw\",\"turn_right\",\"airline_stops\",\"directions_railway\",\"no_meals\",\"fork_right\",\"railway_alert\",\"electric_moped\",\"local_play\",\"bike_scooter\",\"no_crash\",\"turn_left\",\"airlines\",\"pest_control_rodent\",\"near_me_disabled\",\"snowmobile\",\"u_turn_left\",\"directions_transit_filled\",\"egg_alt\",\"no_transfer\",\"file_download\",\"play_arrow\",\"star\",\"warning\",\"support_agent\",\"attach_money\",\"keyboard_arrow_down\",\"light_mode\",\"storefront\",\"manage_search\",\"sensor_door\" \n  ].sort(), \n  supportedColors: [\"primary\", \"secondary\", \"accent\", \"dark\", \"positive\", \"negative\", \"info\", \"warning\"]\n}\n\nfunction getBlockDefinitions(){\n  return _blockDefinitions;\n}\n\n\nfunction loadBlockDefinitions(readyCallback){\n  // Load dynamically and call callback function when ready\n  axios.get('data/blockDefinitions.json')\n    .then( result => {\n      _blockDefinitions = result.data;\n      parseDefinitionsSource();\n      addSpecialBlocks();\n      readyCallback(_blockDefinitions);    \n    } )\n    .catch( (error) => {\n      console.error( \"Error loading block definitions: \", error );\n    });\n}\n\n\nfunction parseDefinitionsSource(){\n  // Filter-out non-enabled blocks\n  _blockDefinitions = _blockDefinitions.filter( (block) => block.enabled );\n  \n  _blockDefinitions.forEach( (block) => {\n    // Remove v-model as we'll use model-value instead\n    let indexOfVmodel = block.properties.findIndex( (prop) => prop.name == \"v-model\" );\n    if( indexOfVmodel > -1 ){\n      block.properties.splice(indexOfVmodel, 1);\n    }\n    \n    // rename model-value to be Data Binding (v-model)\n    let indexOfModelValue = block.properties.findIndex( (prop) => prop.name == \"model-value\" );\n    if( indexOfModelValue > -1 ){\n      block.properties[indexOfModelValue].name = \"v-model\";\n      block.properties[indexOfModelValue].label = \"Data Binding\";\n    }\n\n    // Remove \"-\" values from bindings as they are not valid values\n    if( block.content.indexOf('v-on:click') > -1 || block.content.indexOf('v-model') > -1 ){\n      block.content = block.content.replace( `v-on:click=\"-\"`, `v-on:click=\"\"`);\n      block.content = block.content.replace( `v-model=\"-\"`, `v-model=\"\"`);\n    }\n\n    // Add \"v-if\" and \"v-for\" to the properties\n    block.properties.push( { name: 'v-if', label: 'Condition (if)', type:'Boolean', uitype:'String', desc: `Defines a conditional which, when true, will show the element in the document.\\nYou can use JS code, i.e. \"value > 10\"` } );\n    block.properties.push( { name: 'v-else-if', label: 'Condition (else-if)', type:'Boolean', uitype:'String', desc: `Defines a conditional which, when true, will show the element in the document.\\nYou can use JS code, i.e. \"value > 10\"` } );\n    block.properties.push( { name: 'v-else', label: 'Condition (else)', type:'Boolean', uitype:'String', desc: `Defines a conditional which, when previous if/else-if statements are false, will show the element in the document.\"` } );\n    block.properties.push( { name: 'v-for', label: 'Loop (for)', type:'Array', desc: `Sets the element to iterate over a list of values, producing multiple instances.\\nYou can declare iterator values pointing to the list elements and indexes, and use them in other props.\\nI.e.: \\n- item in list\\n- (item, index) in list` } );\n\n    let blockProps = block.properties;\n    blockProps.forEach( (prop) => {\n      for( let propAttributeName in prop ){\n        let propAttrValue = prop[propAttributeName];\n\n        // Replace interpolated values (i.e. ${supportedIcons})) with the actual value\n        if( typeof propAttrValue == \"string\" && propAttrValue.indexOf('${') == 0 ){\n          let variableName = propAttrValue.slice(2,-1);\n          let variableValue = injectableVariables[variableName];\n          prop[propAttributeName] = variableValue;\n        }\n\n        // In case of multiple types for a prop, leave only the first one\n        // To-do: support for multiple types\n        if( propAttributeName == \"type\" && Array.isArray(propAttrValue) ){\n          prop[propAttributeName] = propAttrValue[0];\n          prop.typeList = propAttrValue;\n        }\n      }\n    });\n  });\n}\n\n\nfunction addSpecialBlocks(){    \n  // TempPlaceholder for dragged-bindings\n  _blockDefinitions.push({\n    type: \"tempplaceholder\", label: \"Temp PlaceHolder\", tagName: \"TEMPPLACEHOLDER\", \n    content: \"<tempplaceholder>TEMP Place holder</tempplaceholder>\", \n    properties: [], \n    droppable: false,     editable: false,     draggable: true,\n  } );\n  \n  // Generic Div\n  /* _blockDefinitions.push({\n    type: \"looper\", label: \"Looper\", tagName: \"looper\", \n    content: \"<looper>Generic looper</looper>\", \n    properties: [ { name: 'v-if', label: 'Condition (if)', type:'String' }, { name: 'v-for', label: 'Loop (for)', type:'String' } ], \n    //hideFromLibrary: true,\n    droppable: true,     editable: false,     draggable: true,\n  } ); */\n\n  // ========================================================\n  //                    Plotly charts dynamic\n  // ========================================================\n  chartTypes.forEach( (chartTypeDef) => {\n    let encodedData = btoa( JSON.stringify( [chartTypeDef.traceTemplate] ) );\n    let traceLayout = chartTypeDef.traceLayout;\n    let encodedLayout = traceLayout ? btoa( JSON.stringify( traceLayout ) ) : \"eyJ0aXRsZSI6Ik15IENoYXJ0In0=\";\n    _blockDefinitions.push({\n      type: \"plotly\", label: chartTypeDef.id, tagName: \"PLOTLY\", category: \"Charts\", \n      content: `<plotly gb_c__data=\"${encodedData}\" gb_c__layout=\"${encodedLayout}\" gb_c__config=\"e30=\"></plotly>`, \n      renderContent: `<img src=\"img/block_icons/areaChart.png\" />`,  \n      icon: chartTypeDef.icon+'.png', proRequired: chartTypeDef.proRequired,\n      \n      properties: [\n        { label: 'Data', name: 'data', type:'PlotlyBase.GenericTrace' }, \n        { label: 'Layout', name: 'layout', type:'PlotlyBase.Layout' }, \n        { label: 'Config', name: 'config', type:'Object' }, \n        ], \n    });\n  });\n  _blockDefinitions.push({\n    type: \"plotly\", label: \"Bound Chart\", tagName: \"PLOTLY\", category: \"Charts\", \n    content: `<plotly gb_b__data=\"undefined\" gb_b__layout=\"undefined\" gb_b__config=\"undefined\"></plotly>`, \n    renderContent: `<img src=\"img/block_icons/areaChart.png\" />`,  \n    icon: 'bound_chart.png', proRequired: false,\n    \n    properties: [\n      { label: 'Data', name: 'data', type:'PlotlyBase.GenericTrace' }, \n      { label: 'Layout', name: 'layout', type:'PlotlyBase.Layout' }, \n      { label: 'Config', name: 'config', type:'Object' }, \n      ], \n  });\n}\n\nexport { getBlockDefinitions, loadBlockDefinitions };","import {getBlockDefinitions} from \"./blockDefinitions.js\";\n//console.log( 'getBlockDefinitions', getBlockDefinitions );\n\nlet blockDefinitions, blockDefinitionsByTagName;\n\nfunction setBlockDefinitions(){\n    // need to load them only once\n    if( blockDefinitions == null ){        \n        blockDefinitions = getBlockDefinitions();\n        blockDefinitionsByTagName = {};\n        blockDefinitions.forEach((block) => {\n            blockDefinitionsByTagName[block.tagName] = block;\n        });\n    }\n}\n\nexport default class HtmlTemplateParser {\n  constructor() {\n    throw new Error(\n      \"HtmlTemplateParser is a static class and cannot be instantiated\"\n    );\n  }\n\n  static replaceSpecialElements(htmlString){\n    return htmlString.replace(/<%/g, '<JULIA_CODE>').replace(/%>/g, '</JULIA_CODE>');\n  }\n  static restoreSpecialElements(htmlString){\n    return htmlString.replace(/<JULIA_CODE>/gi, '<% ').replace(/<\\/JULIA_CODE>/gi, ' %>');\n  }\n\n  static encodeAttributesInDOM(element) {\n\n    // Ensure the element is a Node\n    if (!(element instanceof Node)) {\n    throw new Error(\"Element is not a Node\");\n    }\n\n    // Call the callback for the current element\n    HtmlTemplateParser.replaceElementAttributes(element);\n\n    // Recursively traverse the child nodes\n    for (let i = 0; i < element.childNodes.length; i++) {\n    HtmlTemplateParser.encodeAttributesInDOM(\n        element.childNodes[i]\n    );\n    }\n}\n\n/* parses a v-for statement to extract its iterated and iterator (variables) components */\nstatic parseVFor(vForString) {\n    // Regular expression to match the structure of the v-for directive\n    const regex = /^\\s*\\(?([^)]+)\\)?\\s+in\\s+(\\S+)\\s*$/;\n    const match = vForString.match(regex);\n\n    if (match) {\n        let variables = match[1].replace(/\\s/g, '');\n        \n        // Handle destructured variables (both object and array destructuring)\n        const destructureObjectRegex = /{([^}]+)}/g;\n        const destructureArrayRegex = /\\[([^\\]]+)\\]/g;\n        let destructureMatch;\n        let destructuredVars = [];\n\n        // Extract variables from object destructuring\n        while ((destructureMatch = destructureObjectRegex.exec(variables)) !== null) {\n            destructuredVars.push(...destructureMatch[1].split(','));\n        }\n\n        // Extract variables from array destructuring\n        while ((destructureMatch = destructureArrayRegex.exec(variables)) !== null) {\n            destructuredVars.push(...destructureMatch[1].split(','));\n        }\n\n        // Remove destructured parts from variables and split the rest\n        variables = variables.replace(destructureObjectRegex, '').replace(destructureArrayRegex, '').split(',').filter(v => v);\n\n        // Combine variables and destructured variables\n        const allVariables = [...destructuredVars, ...variables];\n\n        const iterated = match[2];\n        return {\n            variables: allVariables,\n            iterated: iterated\n        };\n    } else {\n        return null;\n    }\n}\n\n/* \nExtracts variable names from v-for attributes in the ancestors of the given element, and the element itself,\nso that they can be listed as bindings in the properties panel, and also so that they can be recognised as legit bindings \nwhen parsing incoming html template \n*/\nstatic extractVforVariablesAncestors(origin){\n    let results = [];\n    let current = origin;\n    let reachedTop = false;\n    let safetyMax = 1000;\n    let currentIteration = 0;\n    try{\n        while( !reachedTop && current && current.parentElement ){\n            let attributeNames = current.getAttributeNames();\n            if( attributeNames.includes( 'gb_c__v-for' ) ){\n                let vForContent =current.getAttribute('gb_c__v-for');\n                let currentVariables = HtmlTemplateParser.parseVFor( vForContent ).variables;\n                currentVariables.forEach( v=>{\n                    if( results.includes( v ) == false ){\n                        results.push( v );\n                    }\n                });            \n            }\n            let parentIsRoot = current.parentElement.id == 'gbTemplateContainer' || current.parentElement.tagName == \"BODY\";\n            //console.log( \">> current: \", current.tagName, \": \", current.id, \" :::\", parentIsRoot );\n            \n            if( currentIteration >= safetyMax || parentIsRoot ){\n                reachedTop = true;\n            }else{\n                currentIteration++;\n                current = current.parentElement;\n                //console.log( \">> current: \", current.tagName, \": \", current.id, \" :::\", parentIsRoot );\n            }\n        }\n    }catch(e){\n        console.error( \"Error retrieving v-for variables recursively: \", e );\n    }\n    return results;\n}\n\nstatic replaceElementAttributes( element ){\n    setBlockDefinitions();\n    let modelVariables = window.sharedData.modelFieldsByName;\n    let gbPrefix = 'gb_';\n    let bcTypeC = gbPrefix + 'c__';\n    let bcTypeB = gbPrefix + 'b__';\n    let specialDynamicAttributeNames = [ 'v-model', 'v-bind', 'v-on:click', 'v-for', 'v-if', 'v-else-if', 'v-else', 'v-html' ];\n    let excludedAttributeNames = [ 'class', 'style', 'id'];\n    let componentName = element.nodeName;\n    let componentDefinition = blockDefinitionsByTagName[componentName];\n            \n    // Do not parse elements without component definition\n            if( !componentDefinition ){\n        return\n    }\n    let componentPropertiesDefinitions = componentDefinition.properties;\n    let elementAttributeNames = element.getAttributeNames();\n\n    // Extract local variables, produced in v-for statement\n    let elementVforVariables = HtmlTemplateParser.extractVforVariablesAncestors( element );\n    //console.log( 'elementVforVariables ('+element.id+'): ', elementVforVariables );\n    /* let elementVforVariables = []\n    if( elementAttributeNames.includes('v-for') ){\n        let vForRawValue = element.getAttribute(\"v-for\");\n        elementVforVariables = HtmlTemplateParser.parseVFor( vForRawValue).variables;\n    } */\n\n    elementAttributeNames.forEach( (attributeName) => {\n        // Do not parse excluded attributes such as id, class, style...\n        if( excludedAttributeNames.indexOf(attributeName) > -1 ){\n            return;\n        }\n\n        let hasColon = attributeName.startsWith(':');\n        let cleanName = hasColon ? attributeName.slice(1) : attributeName;\n        let isDynamic = hasColon || specialDynamicAttributeNames.some( (specialName) => {\n            return attributeName.indexOf(specialName) === 0;\n        });\n        let attributeValue = element.getAttribute( attributeName );\n        let attributeDefinition = componentPropertiesDefinitions.find( el => el.name === cleanName );\n        let attributeValueMapsToModelVariable = modelVariables[attributeValue] != null;\n        \n        // declared inside v-for attribute\n        let attributeValueMapsToLocalVariable = elementVforVariables.includes(attributeValue);  \n        if( attributeValueMapsToLocalVariable ){\n            //debugger;\n        }\n\n        // Only consider attributes that are defined in the component definition\n        if( attributeDefinition ){\n            // if its dynamic, it's either a binding or a constant\n            if( isDynamic ){\n                if( attributeValueMapsToModelVariable || attributeValueMapsToLocalVariable ){\n                    element.setAttribute( bcTypeB+ cleanName, attributeValue );\n                } else {\n                    element.setAttribute( bcTypeC+ cleanName, attributeValue );\n                }\n            // If it's not dynamic', it's a constant\n            }else{\n                if( attributeValue=='' ){\n                    element.setAttribute( bcTypeC+ cleanName, \"true\" );\n                }else {\n                    element.setAttribute( bcTypeC+ cleanName, attributeValue );\n                }\n            }\n            element.removeAttribute( attributeName );\n        }\n    });\n}\n\nstatic revertElementAttributes(element) {\n    setBlockDefinitions();\n    let gbPrefix = 'gb_';\n    let bcTypeC = gbPrefix + 'c__';\n    let bcTypeB = gbPrefix + 'b__';\n    let componentName = element.nodeName;\n    let componentDefinition = blockDefinitionsByTagName[componentName];\n    if( !componentDefinition ){\n        return;\n    }\n    let componentPropertiesDefinitions = componentDefinition.properties;\n    \n    let elementAttributeNames = element.getAttributeNames();\n    elementAttributeNames.forEach((attributeName) => {\n        let attributeValue = element.getAttribute( attributeName );\n        if (attributeName.startsWith(bcTypeC)) {\n            let originalName = attributeName.replace(bcTypeC, '');\n            let attributeDefinition = componentPropertiesDefinitions.find( el => el.name === originalName );\n            if( !attributeDefinition ){\n                throw new Error( 'Attribute definition not found for: ' + originalName );\n            }\n            let dataType = attributeDefinition.type;\n            //let dataType = HtmlTemplateParser.guessDataType(attributeValue);\n            if( componentName == \"PLOTLY\" && [\"data\", \"layout\", \"config\"].includes(originalName) ){\n                // To-do: revise if we need to handle this further\n                // 'v-for', 'v-if', 'v-else-if', 'v-else'\n            }else if( dataType != 'String' && ( !originalName .startsWith('v-on:') && originalName != 'v-for' && originalName != 'v-if' && originalName != 'v-else-if' && originalName != 'v-else' && originalName != 'v-html'  ) ){\n                originalName =  ':' + originalName;\n            }\n\n            element.setAttribute(originalName, attributeValue );\n            element.removeAttribute(attributeName);\n        } else if (attributeName.startsWith(bcTypeB)) {\n            let originalName = attributeName.replace(bcTypeB, '');\n            let bindingPrefix = (originalName === 'v-model' || originalName.startsWith('v-on:') || originalName == 'v-for' || originalName == 'v-if' || originalName == 'v-else-if' || originalName == 'v-else' || originalName == 'v-html' ) ? '' : ':';\n            element.setAttribute(bindingPrefix + originalName, attributeValue );\n            element.removeAttribute(attributeName);\n        }\n    });\n}\n\nstatic decodeAttributesInDOM(rootElement, recursive=false) {\n    let elements = rootElement.querySelectorAll('*');\n    elements.forEach(element => {\n        HtmlTemplateParser.revertElementAttributes(element);\n        if(recursive){\n            HtmlTemplateParser.decodeAttributesInDOM(element, recursive);\n        }\n    });\n}\n\nstatic guessDataType(input) {\n    if (typeof input === 'number' || /^-?\\d*\\.?\\d+$/.test(input)) {\n        return 'Number';\n    } else if (input === 'true' || input === 'false' || typeof input === 'boolean') {\n        return 'Boolean';\n    } else if (Array.isArray(input) || /^\\[.*\\]$/.test(input)) {\n        return 'Array';\n    } else {\n        return 'String';\n    }\n}\n\nstatic removeInvalidNodes(htmlString) {\n    // Parse the HTML string into a DOM document\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(htmlString, 'text/html');\n  \n    // Function to check if a node is an empty text node\n    const isEmptyTextNode = node => node.nodeType === Node.TEXT_NODE && !/\\S/.test(node.nodeValue);\n    \n    // List of blacklisted nodes that should not be removed and fucntion to check it\n    const tagNameBlacklist = ['template'];\n    const tagNameIsBlacklisted = node => tagNameBlacklist.includes(node.nodeName.toLowerCase());\n\n    // Recursive function to remove all empty text nodes from a given node\n    const removeEmptyNodes = node => {\n      const childNodes = Array.from(node.childNodes);\n      childNodes.forEach(child => {\n        if (isEmptyTextNode(child) || tagNameIsBlacklisted(node) ) {\n          // Remove the empty text node\n          node.removeChild(child);\n        } else {\n          // Recursively check this node's children\n          removeEmptyNodes(child);\n        }\n      });\n    };\n  \n    // Start the removal process from the body of the parsed document\n    removeEmptyNodes(doc.body);\n  \n    // Serialize the body back into a string\n    const serializer = new XMLSerializer();\n    const newHtmlString = serializer.serializeToString(doc.body);\n    // The serialized string includes <body> tags, so we remove them to only return the inner HTML\n    return newHtmlString.replace(/^<body>|<\\/body>$/g, '');\n}\n\n\n/*\n    Parses the original block definitions and creates a new dictionsry containing only the mandatory properties of each block.\n*/\nstatic generateBlocksMandatoryProperties(){\n    let definitionsById = {};\n    blockDefinitions.forEach( def=>{\n        //if( def.type!= \"q-btn\" ) return;\n        // create new, simple definition object\n        let newDef = definitionsById[def.type] = {\n            type: def.type,\n            mandatoryProperties: []\n        };    \n        \n        // Convert the template to actual DOM element for easier manipulation\n        let templateHtml = def.content; // HTML String\n        let parser = new DOMParser();\n        let doc = parser.parseFromString(templateHtml, \"text/html\");\n        let node = doc.body.firstChild;\n        \n        // iterate over attributes of the node\n        for (let i = 0; i < node.attributes.length; i++) {\n            let attr = node.attributes[i];\n            let newAttrName = attr.name;\n            // remove prefixes from attribute names\n            newAttrName = attr.name.replace(\"gb_b__v-on:\", \"v-on:\");\n            newAttrName = newAttrName.replace(\"gb_b__v-model\", \"v-model\");\n            newAttrName = newAttrName.replace(\"gb_b__\", \":\");\n            newAttrName = newAttrName.replace(\"gb_c__\", \"\");\n            // add attribute to definition\n            newDef.mandatoryProperties.push( { name: newAttrName, value: attr.value } );\n        }\n    } );\n    console.log(definitionsById);\n    return definitionsById;\n}\n\n/* Takes an html string and adds the mandatory properties, if missing, to the elements in the html string\n    Used to parse incoming AI-generated code to guarantee the html is valid in a Genie app\n*/\nstatic addMandatoryProperties( htmlString, mandatoryDefs ){\n    // Crate a new DOM tree from the html string for easier manipulation\n    let parser = new DOMParser();\n    let doc = parser.parseFromString(htmlString, \"text/html\");\n    let node = doc.body;\n    // Traverse the hole node DOM tree\n    function traverse(node){\n        // if the node is an element (as opposed to text or comment node)\n        if( node.nodeType == 1 ){\n            // Check if the node is a recognised block. If so...\n            let type = node.tagName.toLowerCase();\n            if( mandatoryDefs[type] ){\n                // get the mandatory properties for the block\n                let def = mandatoryDefs[type];\n                // iterate over the mandatory properties and add them to the node if they don't exist\n                def.mandatoryProperties.forEach( prop=>{\n                    if( !node.getAttribute( prop.name ) && !node.getAttribute( \":\"+prop.name ) ){\n                        node.setAttribute( prop.name, prop.value );\n                    }\n                } );\n            }\n            // traverse the children of the node\n            node.childNodes.forEach( child=>traverse(child) );\n        }\n    }\n    // start the traversal\n    traverse(node);\n    // return the modified html\n    return node.innerHTML;\n}\n\nstatic cleanNodes( htmlString ){    \n    // Crate a new DOM tree from the html string for easier manipulation\n    let parser = new DOMParser();\n    let doc = parser.parseFromString(htmlString, \"text/html\");\n    let node = doc.body;\n    \n    // Recursive function to clean the html nodes\n    const parseNode = node => {\n        // \n\n        /* const childNodes = Array.from(node.childNodes);\n        childNodes.forEach(child => {\n          if (isEmptyTextNode(child)) {\n            // Remove the empty text node\n            node.removeChild(child);\n          } else {\n            // Recursively check this node's children\n            removeEmptyNodes(child);\n          }\n        }); */\n      };\n\n    // return the modified html\n    return node.innerHTML;\n\n\n}\n\n/* recursive; will traverse the dom tree */\nstatic cleanNodes(node){\n    if( node.nodeType != 1 ){\n        return;\n    }\n    let tagName = node.tagName.toLowerCase();\n    switch( tagName ){\n        case \"q-badge\":\n            // remove any inner content\n            node.innerHTML = \"\";\n            break;\n        \n        case \"q-table\":\n\n            // Remove columns attribute if it contains json, else append .columns if needed\n            let columnsAttr = node.getAttribute(\":columns\");\n            if( columnsAttr ){\n                if( columnsAttr.startsWith(\"{\") || columnsAttr.startsWith(\"[\") ){\n                    node.removeAttribute(\":columns\");\n                }else if( !columnsAttr.endsWith(\".columns\") ){\n                    node.setAttribute(\":columns\", columnsAttr + \".columns\");\n                }\n            }\n            \n            // Remove data attribute if it contains json, else append .data if needed\n            // sometimes dat may be set with :row; in that case, remove :rows and append .data\n            let dataAttr = node.getAttribute(\":data\");\n            let rowsAttr = node.getAttribute(\":rows\");\n            if( dataAttr ){\n                if( dataAttr.startsWith(\"{\") || dataAttr.startsWith(\"[\") ){\n                    node.removeAttribute(\":data\");\n                    isRemoved = true;\n                }else if( !dataAttr.endsWith(\".data\") ){\n                    //  append '.data' if needed\n                    node.setAttribute(\":data\", dataAttr + \".data\");\n                }\n            }else if( rowsAttr ){\n                if( rowsAttr.startsWith(\"{\") || rowsAttr.startsWith(\"[\") ){\n                    // nothing to do with this, just leave it to be removed below\n                }else if( !rowsAttr.endsWith(\".data\") ){\n                    node.setAttribute(\":data\", rowsAttr + \".data\");\n                }\n                node.removeAttribute(\":rows\");\n            }\n            break;\n        default:\n            break;\n    }\n    // iterate over attributes of the node, reardless of the tag name\n    for (let i = 0; i < node.attributes.length; i++) {\n        let attr = node.attributes[i];\n        let attrName = attr.name;\n        let attrValue = attr.value;\n        \n        let removeIfEmpty = [\"v-on:click\", \"@click\"];\n        if( removeIfEmpty.includes(attrName) && attrValue == \"\" ){\n            node.setAttribute( attrName, \"undefined\" );\n        }\n        \n        let undefinedIfEmpty = [\"v-model\"];\n        if( undefinedIfEmpty.includes(attrName) && attrValue == \"\" ){\n            node.setAttr( attrName );\n        }\n    }\n    \n    // Move-on to children\n    node.childNodes.forEach( child=>HtmlTemplateParser.cleanNodes(child) );\n}\n\n\n/* Takes an html string and performs  some transformations to ensure the html is valid in a Genie app\n    Used to parse incoming AI-generated code \n*/\nstatic cleanHtml( htmlString ){\n    // Crate a new DOM tree from the html string for easier manipulation \n    let parser = new DOMParser();\n\n    // Remove empty text nodes and non-accepted elements (i.e. <template>)\n    htmlString = HtmlTemplateParser.removeInvalidNodes(htmlString);\n\n    // Remove invalid attributes or transform them if necessary\n    let doc = parser.parseFromString(htmlString, \"text/html\");\n    let node = doc.body;\n    HtmlTemplateParser.cleanNodes( node );\n\n    // Serialize the body back into a string\n    const serializer = new XMLSerializer();\n    htmlString = serializer.serializeToString(doc.body);\n\n    // Make sure all blocks have mandatory attributes if missing\n    let mandatoryDefs = HtmlTemplateParser.generateBlocksMandatoryProperties();\n    htmlString = HtmlTemplateParser.addMandatoryProperties( htmlString, mandatoryDefs );\n    \n    // Return the modified html\n    return htmlString\n}\n  \n}\n","<template>\n  <div style=\"height: 100%\">\n    <div id=\"gjs\" style=\"height: 300px\"></div>\n    <ComponentAddDialog\n      v-if=\"componentPlaceHolderData\"\n      @closeDialog=\"onComponentAddDialogClose\"\n      :appData=\"props.appData\"\n      :componentPlaceHolderData=\"componentPlaceHolderData\"\n    />\n    <div id=\"customLibrary\" style=\"display: none;\">\n      Custom Blocks\n      <div class=\"blocks\">\n        <div v-for=\"block in blocks\" class=\"block\" :key=\"block.id\" \n          @mousedown=\"dragStart(block)\">\n          <div class=\"block-label\">{{ block.label }}</div>\n        </div>\n      </div>\n    </div>\n    \n    <div id=\"canvasBlocker\" ref=\"canvasBlocker\" v-if=\"aiCodePreviewShown!='hidden'\" @click=\"addShakeEffect\">\n      <div id=\"canvasBlockerPreloader\" v-if=\"aiCodePreviewShown=='loading'\">\n    <!-- <div id=\"canvasBlocker\" ref=\"canvasBlocker\" @click=\"addShakeEffect\">\n      <div id=\"canvasBlockerPreloader\"> -->\n        <div>Updating UI, please wait...</div>\n        <div>\n          <img src=\"img/icons/loading_58.svg\" alt=\"Loading\" style=\"position: relative; bottom: 0; right: 0; width: 58px; height: 58px;\"/>\n        </div>\n      </div>\n      <div id=\"canvasBlockerDialog\" v-if=\"aiCodePreviewShown=='ready'\">\n        <div style=\"margin-bottom: 5px;\">AI Code Assistant changes applied!</div>\n        <vscode-button @click=\"revertAiCodeChanges\" style=\"width: 100px !important; margin-right: 10px;     background-color: #aaa;\">Revert</vscode-button>\n        <vscode-button @click=\"acceptAiCodeChanges\" style=\"width: 100px !important;\">Keep</vscode-button>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from 'axios';\nimport _ from 'lodash';\n//import grapesjs from \"grapesjs\";\nimport \"grapesjs/dist/css/grapes.min.css\";\n\nimport ComponentAddDialog from \"./ComponentAddDialog.vue\";\nimport { registerPlotlyComponent } from \"../customblocks/plotlyComponent.js\";\nimport HtmlTemplateParser from \"../../utils/HtmlTemplateParser.js\";\nimport Configuration from \"../../utils/Configuration\";\n\n\nwindow.HtmlTemplateParser = HtmlTemplateParser;\n\nconst emit = defineEmits([\"componentSelected\", \"bindingDroppedOnComponent\", \"saveTriggered\", \"autoSaveTriggered\"]);\n\nconst props = defineProps([\"appData\"]);\n\nlet modelFields = ref(props.appData.pages[Configuration.currentPageIndex].model.fields);\nlet modelFieldsByName = {};\nmodelFields.value.forEach( field => {\n    modelFieldsByName[field.name] = field;\n});\n\nlet blocks = blockDefinitions.map( (item)=>{\n  let newDef = {\n    type: item.type,\n    label: item.label, \n    tagName: item.tagName,\n    id: item.type,\n    category: item.category, \n    content: item.content,\n    droppable: item.droppable,\n    draggable: item.draggable,\n    editable: item.editable,\n    activate: true, \n  }\n  return newDef;\n});\n\n\nwindow.selectedComponent = null;\n\nlet componentPlaceHolderData = ref(null);\nlet mockedAppTemplate = ref(null);\nlet reactiveModel = ref({});\nlet canvasBlocker = ref(null);\nlet aiCodePreviewShown = ref('hidden');\n\nlet firstSelectionReported = false;\n\n\nfunction revertAiCodeChanges(index){\n  const undoManager = editor.UndoManager;\n  undoManager.undo();\n\n  //window.logUserEvent( \"ai-code-panel::revert\", {} );\n  \n  //undoManager.stop();\n  editor.setComponents( window.lastHtmlBeforeAiReplace );\n  //undoManager.start();\n  /* \n  // Assuming there's a way to access the stack; this is conceptual\n  const stack = undoManager.getStack();\n  const currentIndex = stack.length\n\n  index = window.undoHistoryIndexBeforeReplace\n  debugger;\n\n  if (index < 0 || index >= stack.length) {\n    console.error('Invalid history index');\n    return;\n  }\n\n  const steps = index - currentIndex;\n  if (steps > 0) {\n    // Need to redo to reach the desired state\n    for (let i = 0; i < steps; i++) {\n      undoManager.redo();\n    }\n  } else if (steps < 0) {\n    // Need to undo to reach the desired state\n    for (let i = steps; i < 0; i++) {\n      undoManager.undo();\n    }\n  } */\n\n  //editor.UndoManager.undo();\n  aiCodePreviewShown.value = 'hidden';\n  emit(\"saveTriggered\");\n}\nfunction acceptAiCodeChanges(){\n  //window.logUserEvent( \"ai-code-panel::accept\", {} );\n  aiCodePreviewShown.value = 'hidden';\n  emit(\"saveTriggered\");\n}\n\nfunction onComponentAddDialogClose(removeSelected) {\n  if (removeSelected) {\n    editor.getSelected().remove();\n    window.selectedComponent = null;\n    editor.select(null);\n  }\n  componentPlaceHolderData.value = null;\n}\n\n\n\nfunction onComponentAdded(info) {\n  editor.select(info);\n  if (info.attributes.tagName == \"tempplaceholder\") {\n    let parent = info.view.$el[0].parentNode;\n    let parentBlockType = parent.grapesModel?.attributes.type;\n    if (\n      parentBlockType == \"plotly\" &&\n      info.attributes.attributes.bindingname &&\n      info.attributes.attributes.datatype\n    ) {\n      emit(\"bindingDroppedOnComponent\", {\n        newComponentModel: info, \n        targetModel: parent.grapesModel,\n        bindingInfo: info.attributes.attributes,\n      });\n    } else {\n      offerComponents(\n        info.attributes.attributes.bindingname,\n        info.attributes.attributes.datatype\n      );\n    }\n  }\n}\n\n// this version of the function searches only in v-model\nfunction offerComponents(bindingname, datatype) {\n  // Find ui components with properties matching the bindingname and datatype\n  let defs = blockDefinitions;\n  let components = [];\n  // Iterate over all components and find those that have a property matching the datatype\n  defs.forEach((def) => {\n    let componentType = def.type; // this is not datatype, butcomponent type\n    let properties = def.properties;\n    let matchingdataTypePropertyNames = properties\n      .filter((property) => {\n        let matchesType = property.type == datatype;\n        let isVmodel = property.name == \"v-model\";\n        return matchesType && isVmodel;\n      })\n      .map((property) => property.name);\n    // If there is a property matching the datatype, add the component to the list\n    // By now, restricted to v-model\n    if (\n      (matchingdataTypePropertyNames.length > 0 && matchingdataTypePropertyNames.includes(\"v-model\") )\n    ) {\n      components.push({\n        type: componentType,\n        label: def.label,\n        content: def.content,\n        matchingProperties: matchingdataTypePropertyNames,\n        proRequired: def.proRequired,\n      });\n    }\n    // Spcial case for pltly components\n    if( datatype == 'DataFrames.DataFrame' && componentType == 'plotly' ){\n      components.push({\n        type: componentType,\n        label: def.label,\n        content: def.content,\n        icon: def.icon,\n        matchingProperties: ['data'],\n        proRequired: def.proRequired,\n      });\n    }else if( datatype == 'DataTable.DataFrames.DataFrame' && componentType == 'q-table' ){\n      components.push({\n        type: componentType,\n        label: def.label,\n        content: def.content,\n        icon: def.icon,\n        matchingProperties: ['data'],\n        proRequired: def.proRequired,\n      });\n    }\n  });\n  componentPlaceHolderData.value = {\n    components: components,\n    bindingname: bindingname,\n    datatype: datatype,\n  };\n}\n\n\n\n  window.sharedData = {\n    externalData: null,\n    setExternalData: function(newData) {\n      // Update externalData with incoming properties\n      for( let p in newData ){\n        this.externalData[p] = newData[p];\n      }\n      // Notify all components of the change\n      const event = new CustomEvent('sharedDataChanged', { detail: this.externalData });\n      for( let componentId in window.canvasComponents ){\n        let component = window.canvasComponents[componentId];\n        if( component != null && component.onExternalDataChanged){\n          component.onExternalDataChanged(event);\n        }\n      }\n    }\n  };\n\n\n  window.sharedData.externalData = {\n      initialProperty: \"initialValue\"\n  };\n\n\n\n  window.sharedData.getComponentDefinitionByType = getComponentDefinitionByType\n  window.sharedData.modelFieldsByName = modelFieldsByName\n  \n  \n  let wsUrl = Configuration.getAppBaseUrl('ws', Configuration.appport)\n  let ws; // = new WebSocket(wsUrl);\n\n\n\nfunction getComponentDefinitionByType(type) {\n  let defs = blockDefinitions;\n  let result = defs.find((def) => def.type.toLowerCase() == type.toLowerCase());\n  return result;\n}\n\n\nfunction updateReactiveModelVariable( key, value){\n    reactiveModel.value[key] = value;\n    window.sharedData.setExternalData(reactiveModel.value);\n}\n\n\nfunction sendWsMessage( message, payload={} ){\n  let msg = JSON.stringify({\n        'channel': Configuration.CHANNEL__,\n        'message': message,\n        'payload': payload\n      });\n      ws.send( msg );\n}\n\n\nfunction subscribeAutoreload( ){\n  let msg = JSON.stringify({\n        'channel': \"autoreload\",\n        'message': \"subscribe\",\n        'payload': {}\n      });\n      ws.send( msg );\n}\n\n\nfunction newSocketConnection() {\n  ws = new WebSocket(wsUrl);\n\n    ws.addEventListener('open', event => {\n      sendWsMessage( 'subscribe' );    \n      subscribeAutoreload();  \n    });\n\n    ws.addEventListener('message', event => {\n      if( event.data == 'Subscription: OK' ){\n        sendWsMessage( 'watchers', \n        { \n          payload:{\n            \"field\": \"isready\",\n            \"newval\": true,\n            \"oldval\": false,\n          }\n        });\n        return;\n      }else if( event.data.indexOf('{') == 0  ){\n        let msgObject = JSON.parse( event.data );\n        if( msgObject.key != null ){\n          updateReactiveModelVariable( msgObject.key, msgObject.value );\n        }\n      }\n    });\n\n    ws.addEventListener('close', event => {\n      //console.log( 'newSocketConnection::close', event );\n    });\n\n    ws.addEventListener('error', error => {\n      //console.log( 'newSocketConnection::error', error );\n    });\n\n    return ws\n}\n\n// Function used to dynamically load each script to mock the Genie App\nfunction loadScript(src, callback) {\n    var script = document.createElement('script');\n    script.src = src;\n    script.onload = () => callback(src);\n    script.onerror = () => console.error(`Error loading script: ${src}`);\n    document.head.appendChild(script);\n}\n\nfunction initMockedGenieApp(){\n  // Get the app scripts and styles, excluding unneeded ones, \n  // removing ending slash if present\n  let scripts = props.appData.pages[Configuration.currentPageIndex].deps.scripts;\n  let appBasePath = Configuration.getAppAssetsBaseUrl('http', props.appData.port);\n  if( appBasePath[appBasePath.length-1] == '/' ){\n    appBasePath = appBasePath.substring(0, appBasePath.length-1);\n  }\n\n  // List of app scripts needed to mock the app\n  let mockedScriptsToExtract = [\n    \"assets/js/vue.js\", \n    \"assets/js/channels.js\", \n    \"assets/js/stipplecore.js\",\n    \"assets/js/watchers.js\",\n    /* \"assets/js/main_app_varmain_app_reactivemodel.js\", \n    \"assets/js/main_reactivemodel.js\"  */\n  ];\n  \n  // List of scripts, with full paths, to load in the mocked app\n  let mockedScripts = [];\n  scripts.forEach((script) => {\n    let scriptPath = appBasePath + script;\n    if ( script.endsWith('_reactivemodel.js') ){\n        mockedScripts.push(scriptPath);\n    }else{\n      mockedScriptsToExtract.forEach((mockedScript) => {\n        if (script.indexOf(mockedScript) > -1) {     \n          mockedScripts.push(scriptPath);\n        }\n      });\n    }\n  });\n  \n  // Set autorun to false, so that Stipple doesn't start automatically\n  window.autorun = false;\n\n  // Dynamically load all scripts required to mock the app\n  let loadedScriptsCount = 0;\n  mockedScripts.forEach(script => {\n      loadScript(script, function() {\n          loadedScriptsCount++;\n          if (loadedScriptsCount === mockedScripts.length) {\n            // When done loading them all, initialize the mocked app\n            //console.log('All scripts loaded successfully!');\n            initStipple(\"#Main_App_varMain_App_ReactiveModel\");\n            // Then updated the shared data with the initial reactive model properties and values\n            window.sharedData.setExternalData(window.GENIEMODEL._data);\n            // start the WS connection to listen to changes\n            newSocketConnection();\n            // and finally start the editor, now that the mocked-app, socket and shared data are ready\n            initEditor();\n          }\n      });\n  });\n}\n\nfunction initEditor(){\n  // Get the app scripts and styles, excluding unneeded ones\n  let scripts = props.appData.pages[Configuration.currentPageIndex].deps.scripts;\n  let appBasePath = Configuration.getAppAssetsBaseUrl('http', props.appData.port);\n  // Remove ending slash if present\n  if( appBasePath[appBasePath.length-1] == '/' ){\n    appBasePath = appBasePath.substring(0, appBasePath.length-1);\n  }\n  let excludedScripts = [\n    \"assets/js/channels.js\", \n    //\"assets/js/stipplecore.js\",\n    //\"assets/js/vue_filters.js\",\n    \"assets/js/watchers.js\",\n    \"assets/js/keepalive.js\",\n    \"assets/js/syncplot.js\",\n    \"assets/js/autoreload.js\",\n    \"assets/js/main_app_varmain_app_reactivemodel.js\"\n\n  ];\n  let parsedSCripts = [];\n  scripts.forEach((script) => {\n    let found = false;\n    excludedScripts.forEach((excludedScript) => {\n      if (script.indexOf(excludedScript) > -1) {\n        found = true;\n        return;\n      }\n    });\n    if( !found ){\n      let scriptPath = appBasePath + script;\n      parsedSCripts.push(scriptPath);\n    }\n  });\n  let commonStyles = [];\n  commonStyles.push( \"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons\");\n  props.appData.pages[Configuration.currentPageIndex].deps.styles.forEach((style) => {\n    let stylePath = appBasePath + style;\n    commonStyles.push(stylePath);\n  });\n\n  let assets = props.appData.pages[Configuration.currentPageIndex].assets;\n  if( assets && assets.includes('public/css/theme.css') ){\n    let appUrl = Configuration.getAppBaseUrl('http', Configuration.appport)\n    commonStyles.push( appUrl + 'css/theme.css');\n  }\n\n  // To-do: remove this exception, implement global solution for any css\n  assets.forEach((asset) => {\n    if( asset.endsWith('.css') && !asset.endsWith('theme.css') && !asset.endsWith('autogenerated.css') ){\n      let assetPath = appBasePath + asset.split(\"public/\").join(\"/\");\n      commonStyles.push(assetPath);\n    }\n  });\n  \n  // -----------------------------------------------------------\n  // Temporal patch to inject js libraries from the assets folder\n  // Right now, only the assets/css folder contents are listed as deps in the GB API\n  // In the future we should have a dedicated flder for libraries, custom components, etc\n  // To-Do: Implement this POC properly, with correct locations, sorting, etc...\n\n  props.appData.pages[Configuration.currentPageIndex].assets.forEach((asset) => {\n    if( asset.endsWith('.css') ){\n      //commonStyles.push(assetPath);\n      // just skip, as the supported css files have already been included above\n    }else if( asset.endsWith('.js') ){      \n      let assetPath = appBasePath + asset.split(\"public/\").join(\"/\");\n      parsedSCripts.push(assetPath);\n    }\n  });\n\n  // End of temporal POC patch\n  // -----------------------------------------------------------\n\n  // remove duplicated scripts\n  //parsedSCripts = [...new Set(parsedSCripts)];\n\n\n\n  parsedSCripts.push(\"data/contentMain.js\");\n  //console.log( 'parsedSCripts', parsedSCripts );\n  \n  /* commonStyles.push( appBasePath + \"/stipple.jl/master/assets/css/stipplecore.css\" );\n  commonStyles.push( appBasePath + \"/stippleui.jl/master/assets/css/quasar.min.css\" ); */\n  commonStyles.push( \"data/grapesCanvas.css\" );\n\n  // Inject custom-components' css paths\n  if( window.customComponentsCssPaths ){\n    window.customComponentsCssPaths.forEach( (cssPath)=>{\n      commonStyles.push( cssPath );\n    });\n  }\n\n  const editor = (window.editor = grapesjs.init({\n    container: \"#gjs\",\n    fromElement: true,\n    storageManager: false, // Disable the storage manager for the moment\n    canvas: {\n      scripts: parsedSCripts,\n      styles: commonStyles\n    },\n    \n    // Add Styles Editor panel\n    /* panels: { defaults: [\n    ] }, */\n    i18n: {\n      locale: 'en', \n      detectLocale: false,\n      messages: {\n        en: {\n          domComponents: {\n            names: {\n              'div': 'Div', // default has an empty key\n            }\n          }\n        }\n      } \n    }, \n\n    layerManager: {\n      // If the `root` is not specified or the component element is not found,\n      // the main wrapper component will be used.\n      root: '#gbTemplateContainer',\n      appendTo: \"#layersContainer\", \n      sortable: true,\n      hidable: true,\n    }, \n    blockManager: {\n      custom: true, \n      /* appendTo: \"#customLibrary\",*/\n      blocks: blocks, \n    },\n    styleManager: {\n      appendTo: \"#myStyleEditorContainerSections\",\n          sectors: [{\n              name: 'General',\n              properties:[\n                {\n                  extend: 'float',\n                  type: 'radio',\n                  default: 'none',\n                  options: [\n                    { value: 'none', className: 'fa fa-times'},\n                    { value: 'left', className: 'fa fa-align-left'},\n                    { value: 'right', className: 'fa fa-align-right'}\n                  ],\n                },\n                'display',\n                { extend: 'position', type: 'select' },\n                'top',\n                'right',\n                'left',\n                'bottom',\n              ],\n            }, {\n                name: 'Dimension',\n                open: false,\n                properties: [\n                  'width',\n                  {\n                    id: 'flex-width',\n                    type: 'integer',\n                    name: 'Width',\n                    units: ['px', '%'],\n                    property: 'flex-basis',\n                    toRequire: 1,\n                  },\n                  'height',\n                  'max-width',\n                  'min-height',\n                  'margin',\n                  'padding'\n                ],\n              },{\n                name: 'Typography',\n                open: false,\n                properties: [\n                    'font-family',\n                    'font-size',\n                    'font-weight',\n                    'letter-spacing',\n                    'color',\n                    'line-height',\n                    {\n                      extend: 'text-align',\n                      options: [\n                        { id : 'left',  label : 'Left',    className: 'fa fa-align-left'},\n                        { id : 'center',  label : 'Center',  className: 'fa fa-align-center' },\n                        { id : 'right',   label : 'Right',   className: 'fa fa-align-right'},\n                        { id : 'justify', label : 'Justify',   className: 'fa fa-align-justify'}\n                      ],\n                    },\n                    {\n                      property: 'text-decoration',\n                      type: 'radio',\n                      default: 'none',\n                      options: [\n                        { id: 'none', label: 'None', className: 'fa fa-times'},\n                        { id: 'underline', label: 'underline', className: 'fa fa-underline' },\n                        { id: 'line-through', label: 'Line-through', className: 'fa fa-strikethrough'}\n                      ],\n                    },\n                    'text-shadow'\n                ],\n              },{\n                name: 'Decorations',\n                open: false,\n                properties: [\n                  'opacity',\n                  'border-radius',\n                  'border',\n                  'box-shadow',\n                  'background', // { id: 'background-bg', property: 'background', type: 'bg' }\n                ],\n              },{\n                name: 'Extra',\n                open: false,\n                buildProps: [\n                  'transition',\n                  'perspective',\n                  'transform'\n                ],\n              },{\n                name: 'Flex',\n                open: false,\n                properties: [{\n                  name: 'Flex Container',\n                  property: 'display',\n                  type: 'select',\n                  defaults: 'block',\n                  list: [\n                    { value: 'block', name: 'Disable'},\n                    { value: 'flex', name: 'Enable'}\n                  ],\n                },{\n                  name: 'Flex Parent',\n                  property: 'label-parent-flex',\n                  type: 'integer',\n                },{\n                  name: 'Direction',\n                  property: 'flex-direction',\n                  type: 'radio',\n                  defaults: 'row',\n                  list: [{\n                    value: 'row',\n                    name: 'Row',\n                    className: 'icons-flex icon-dir-row',\n                    title: 'Row',\n                  },{\n                    value: 'row-reverse',\n                    name: 'Row reverse',\n                    className: 'icons-flex icon-dir-row-rev',\n                    title: 'Row reverse',\n                  },{\n                    value: 'column',\n                    name: 'Column',\n                    title: 'Column',\n                    className: 'icons-flex icon-dir-col',\n                  },{\n                    value: 'column-reverse',\n                    name: 'Column reverse',\n                    title: 'Column reverse',\n                    className: 'icons-flex icon-dir-col-rev',\n                  }],\n                },{\n                  name: 'Justify',\n                  property: 'justify-content',\n                  type: 'radio',\n                  defaults: 'flex-start',\n                  list: [{\n                    value: 'flex-start',\n                    className: 'icons-flex icon-just-start',\n                    title: 'Start',\n                  },{\n                    value: 'flex-end',\n                    title: 'End',\n                    className: 'icons-flex icon-just-end',\n                  },{\n                    value: 'space-between',\n                    title: 'Space between',\n                    className: 'icons-flex icon-just-sp-bet',\n                  },{\n                    value: 'space-around',\n                    title: 'Space around',\n                    className: 'icons-flex icon-just-sp-ar',\n                  },{\n                    value: 'center',\n                    title: 'Center',\n                    className: 'icons-flex icon-just-sp-cent',\n                  }],\n                },{\n                  name: 'Align',\n                  property: 'align-items',\n                  type: 'radio',\n                  defaults: 'center',\n                  list: [{\n                    value: 'flex-start',\n                    title: 'Start',\n                    className: 'icons-flex icon-al-start',\n                  },{\n                    value: 'flex-end',\n                    title: 'End',\n                    className: 'icons-flex icon-al-end',\n                  },{\n                    value: 'stretch',\n                    title: 'Stretch',\n                    className: 'icons-flex icon-al-str',\n                  },{\n                    value: 'center',\n                    title: 'Center',\n                    className: 'icons-flex icon-al-center',\n                  }],\n                },{\n                  name: 'Flex Children',\n                  property: 'label-parent-flex',\n                  type: 'integer',\n                },{\n                  name: 'Order',\n                  property: 'order',\n                  type: 'integer',\n                  defaults: 0,\n                  min: 0\n                },{\n                  name: 'Flex',\n                  property: 'flex',\n                  type: 'composite',\n                  properties  : [{\n                    name: 'Grow',\n                    property: 'flex-grow',\n                    type: 'integer',\n                    defaults: 0,\n                    min: 0\n                  },{\n                    name: 'Shrink',\n                    property: 'flex-shrink',\n                    type: 'integer',\n                    defaults: 0,\n                    min: 0\n                  },{\n                    name: 'Basis',\n                    property: 'flex-basis',\n                    type: 'integer',\n                    units: ['px','%',''],\n                    unit: '',\n                    defaults: 'auto',\n                  }],\n                },{\n                  name: 'Align',\n                  property: 'align-self',\n                  type: 'radio',\n                  defaults: 'auto',\n                  list: [{\n                    value: 'auto',\n                    name: 'Auto',\n                  },{\n                    value: 'flex-start',\n                    title: 'Start',\n                    className: 'icons-flex icon-al-start',\n                  },{\n                    value   : 'flex-end',\n                    title: 'End',\n                    className: 'icons-flex icon-al-end',\n                  },{\n                    value   : 'stretch',\n                    title: 'Stretch',\n                    className: 'icons-flex icon-al-str',\n                  },{\n                    value   : 'center',\n                    title: 'Center',\n                    className: 'icons-flex icon-al-center',\n                  }],\n                }]\n              }\n            ],\n        },\n    selectorManager: { \n      appendTo: \"#myStyleEditorContainerClasses\",\n      componentFirst: true \n    },\n    plugins: ['grapesjs-plugin-ckeditor'/* , 'grapesjs-component-code-editor' */],\n    pluginsOpts: {\n        //'grapesjs-component-code-editor': { appendTo:'#componentCodeEditor' }, \n        'grapesjs-plugin-ckeditor': {\n          options: {\n            //extraPlugins: 'sharedspace,justify,colorbutton,panelbutton,font',\n            \t//language: 'en',\n            \t/* toolbarGroups: [\n              \t//{ name: 'document', groups: [ 'mode', 'document', 'doctools' ] },\n                //{ name: 'clipboard', groups: [ 'undo' ] },\n                { name: 'editing', groups: [ 'undo', 'find', 'selection', 'spellchecker' ] },\n                //{ name: 'forms', groups: [ 'forms' ] },\n                //'/',\n                { name: 'basicstyles', groups: [ 'cleanup' ] },\n                //{ name: 'justify', groups: [ 'justifyleft', 'justifyright', 'justifycenter' ] },\n                { name: 'paragraph', groups: [ 'list', 'paragraph' ] },\n                //{ name: 'links', groups: [ 'links' ] },\n                //{ name: 'insert', groups: [ 'insert' ] },\n                '/',\n                { name: 'styles', groups: [ 'FontSize' ] },\n                { name: 'colors', groups: [ 'colors' ] },\n                //{ name: 'tools', groups: [ 'tools' ] },\n                //{ name: 'others', groups: [ 'others' ] },\n                //{ name: 'about', groups: [ 'about' ] }\n            \t],\n              removeButtons: 'NewPage' */\n              toolbar: [\n                { name: 'undo', items: ['Undo', 'Redo' ] },\n                { name: 'styles', items: ['Font', 'FontSize' ] },\n                ['Bold', 'Italic', 'Underline', 'Strike'],\n                //{name: 'paragraph', items : [ 'NumberedList', 'BulletedList']},\n                {name: 'links', items: ['Link', 'Unlink']},\n                {name: 'colors', items: [ 'TextColor', 'BGColor' ]},\n              ],\n       \t \t},\n        }\n      }\n  }));\n\n\nconst { Panels } = editor;\nPanels.getButton('views', 'open-blocks').set('active', false);\n\n// Use to bypass child-components\"select\" event\n// used to prevent flickering when autoselecting the root node of the composite component\nlet compositeComponentAddedOrRemoved = false;\n  \n  editor.runCommand(\"sw-visibility\");\n\n  editor.on(\"rte:enable\",()=>{\n    setTimeout(()=>{\n      editor.trigger('frame:scroll');\n      //console.log( 'rte:enable' );\n    }, 1000);\n    //editor.trigger('canvasScroll');\n  });\n\n  editor.on(\"component:add\", (com) => {\n    let compDefinition = getComponentDefinitionByType(com.attributes.tagName);\n    // For composite object, we autoselect the root object after a short delay\n    // since this event will also be triggered by its children\n    let isComposite = compDefinition?.isComposite || com.attributes.attributes.iscomposite=='true';\n    if( isComposite ){\n      compositeComponentAddedOrRemoved = true;\n      setTimeout(()=>{\n        compositeComponentAddedOrRemoved = false;\n        onComponentAdded(com);\n        emit(\"componentSelected\", com);\n        debouncedAutoSave();\n      }, 200);\n    }else{\n      if( !compositeComponentAddedOrRemoved ){\n        onComponentAdded(com);\n        debouncedAutoSave();\n      }\n    }\n  });\n  \n  editor.on(\"component:remove\", (com) => {\n    if( com.attributes.attributes.iscomposite=='true' ){\n      compositeComponentAddedOrRemoved = true;\n      setTimeout(()=>{\n        compositeComponentAddedOrRemoved = false;\n        emit(\"componentSelected\", null);\n        debouncedAutoSave();\n      }, 200);\n    }else{\n      if( !compositeComponentAddedOrRemoved ){\n        emit(\"componentSelected\", null);\n        debouncedAutoSave();\n      }\n    }    \n  });\n  \n  editor.Commands.add('edit-child-elements', {\n      run(editor, sender) {\n          //sender && sender.set('active'); // turn off the button\n          //console.log('edit-child-elements button clicked');\n          mainController.value.startEditingComponentContent()\n      }\n  });\n\n  editor.on(\"component:selected\", (com) => {\n    if( firstSelectionReported == false ){\n      firstSelectionReported = true;\n      window.logUserEvent( \"no-code-session::started\", {} );\n    }\n    \n    const selectedComponent = editor.getSelected();\n    let isNestable = getComponentDefinitionByType( com.attributes.type )?.nestable;\n    if( selectedComponent && isNestable ){\n      const toolbar = selectedComponent.get('toolbar') || [];\n      let editChildElementsButton = toolbar.find( item => item.command == 'edit-child-elements' );\n      if( !editChildElementsButton ){\n        toolbar.push({\n            attributes: { class: 'editChildElementsIcon', title: 'Edit Child Elements' },\n            command: 'edit-child-elements',\n        });\n      /* console.log( 'toolbar: ', toolbar );\n      toolbar.push({\n          attributes: { class: 'editChildElementsIcon', title: 'Edit Child Elements', gb-data },\n          command: 'edit-child-elements',\n      }); */\n  \n      selectedComponent.set('toolbar', toolbar);\n      }\n    }\n\n    \n    // Skipe event if a composite component was added recenty\n    if( compositeComponentAddedOrRemoved ){\n      return;\n    }else{\n      emit(\"componentSelected\", com);\n    }\n  });\n\n\n\n  editor.on(\"component:update\", (com) => { debouncedAutoSave();   });\n  editor.on(\"component:styleUpdate\", (com) => { debouncedAutoSave();   });\n  editor.on(\"property:compAdd:\", (com) => { debouncedAutoSave();   });\n  editor.on(\"property:compRemove:\", (com) => { debouncedAutoSave();   });\n  editor.on(\"property:compUpdate:\", (com) => { debouncedAutoSave();   });\n\n  let debouncedAutoSave = _.debounce(function () {\n    //console.log( '>>>>>>>>>> component:autoSave' );\n      emit(\"autoSaveTriggered\");\n  }, 10000);\n\n\n\n  editor.on(\"canvas:dragdata\", (dataTransfer, result, event) => {\n    // If dataTransfer is present, it's a binding\n    if( dataTransfer ){\n      let objectData = dataTransfer.getData(\"text\");\n      objectData = JSON.parse(objectData);\n      if (objectData.objectType == \"binding\") {\n        result.content = `<tempplaceholder style=\"padding:10px;\" bindingname=\"${objectData.bindingname}\" datatype=\"${objectData.datatype}\">{{ ${objectData.bindingname} }}</tempplaceholder>`;\n      }\n      // Else, it's a block from the custom-native library\n    }else{\n      result.content = result.content.content\n    }\n  });\n\n  // ---------- GENIE/STIPPLE COMPONENTS ----------\n  editor.DomComponents.addType('julia_code', {\n    model:{\n      defaults: {\n        tagName: 'julia_code',\n          editable: true,\n          droppable: false,\n      }\n    }, \n    view: {\n\t\tevents: {\n\t\t\tdblclick: 'onActive',\n\t\t\tfocusout: 'onDisable',\n\t\t},\n\t\tonActive() {\n\t\t\tthis.el.contentEditable = true;\n\t\t},\n\t\tonDisable() {\n\t\t\tconst { el, model } = this;\n\t\t\tel.contentEditable = false;\n\t\t\tmodel.set('content', el.innerHTML)\n\t\t},\n\t}\n  });\n\n  // ---------- SPECIAL TEMPLATE COMPONENT ----------\n  editor.DomComponents.addType('template', {\n    isComponent: function(el) {\n      if( el.tagName == 'TEMPLATE' ){\n        return { type: 'template', name: 'Template', components:el.innerHTML };\n      };\n    },\n    model: {\n      defaults: {\n        tagName: 'template',\n        droppable: true\n      }\n    }, \n    view: {\n      onRender() {\n        const { el, model } = this;\n      }\n    }\n        \n  });\n\n  // ---------- VUE CUSTOM COMPONENTS ----------\n  registerPlotlyComponent(editor);\n\n  // ---------- ROW COMPONENT ----------\n  editor.DomComponents.addType('row-div', {\n    isComponent: el => {\n      return el.tagName === 'DIV' && el.classList.contains('row');\n    },\n    model: {\n      defaults: {\n        tagName: 'div',\n        classes: ['row'],\n        droppable: function(el) {\n          // Prevent dropping if the parent is also a 'row' div\n          return !el.view.$el[0].classList.contains('row');\n        }\n      }\n    },\n    // Optionally, customize the view\n    view: {}\n  });\n\n  // ---------- CUSTOM COMPONENTS ----------\n  /* editor.DomComponents.addType( \"looper\", {\n    isComponent: (el) => {\n      // match element has attribute \"looper\"\n      if (el.tagName == \"DIV\" && el.hasAttribute(\"looper\") ) {\n        return { type: \"looper\", name: \"Looper\" };\n      }\n    },\n    model: {\n      defaults: {\n        draggable: true,\n        droppable: true,\n        editable: true,\n        isComposite: false,        \n      },\n    }\n  }); */\n  \n  blockDefinitions.forEach((definition) => {\n    processBlockDefinition(definition);\n  });\n\n  // Load autogenerated styles\n  let styles = props.appData.pages[0].assets;\n  let autogeneratedStyles = styles.find((style) => {\n    return style.indexOf('autogenerated.css') > -1;\n  });\n  if( autogeneratedStyles ){\n    let stylePath = window.apibase + 'apps/' + Configuration.appid + '/edit?path=' + encodeURIComponent( autogeneratedStyles );\n    axios.get( stylePath ).then( (result) => {\n      editor.setComponents(mockedAppTemplate.value);\n      editor.setStyle(result.data.content);\n    }).catch( (error) => {\n      console.log('error loading autogenerated styles', error);\n    });\n  }else{\n    editor.setComponents(mockedAppTemplate.value);\n  }\n\n}\n\nfunction removeVueInternalDivs(htmlString) {\n    // Create a DOM parser to parse the HTML string\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(htmlString, 'text/html');\n\n    // Find all div elements in the document\n    const divs = doc.querySelectorAll('div[id^=\"vueinternal_\"]');\n\n    // Iterate over each div with an id starting with 'vueinternal_'\n    divs.forEach(div => {\n        // Insert all child nodes of the div (including text nodes) before the div itself\n        while (div.firstChild) {\n            div.parentNode.insertBefore(div.firstChild, div);\n        }\n        // Remove the empty div\n        div.parentNode.removeChild(div);\n    });\n\n    // Return the modified HTML as a string\n    return doc.body.innerHTML;\n}\n\nfunction processBlockDefinition( definition){\n  const blacklist = [\"plotly\", \"tempplaceholder\"];\n    if (blacklist.includes(definition.type)) {\n      return;\n    }\n    const nativeElements = [\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\", \"P\", \"SPAN\", \"A\"];\n    //const nativeElements = [\"div\", \"span\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"p\", \"a\", \"img\", \"ul\", \"ol\", \"li\", \"table\", \"tr\", \"td\", \"th\", \"thead\", \"tbody\", \"tfoot\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\", \"thead\", \"tfoot\", \"tbody\", \"caption\", \"col\", \"colgroup\"];\n    if( nativeElements.includes(definition.tagName) ){\n      \n\n    }else if( definition.attributeMatch != undefined || nativeElements.includes(definition.type) ){\n      //console.log( 'definition.attributeMatch: ', definition.type );\n      editor.DomComponents.addType(definition.type, {\n        isComponent: (el) => {\n          if (el.tagName == definition.tagName && el.hasAttribute(definition.attributeMatch ) ) {\n            return { type: definition.type, name: definition.label };\n          }\n        },\n        model: {\n          defaults: {\n            draggable: definition.draggable,\n            droppable: definition.droppable,\n            editable: definition.editable,\n            isComposite: definition.isComposite,\n            \n          },\n        }\n      });\n\n    /* }else if(definition.type=='q-tabs'){      \n      editor.DomComponents.addType(definition.type, {\n        isComponent: (el) => {\n          if (el.tagName == definition.tagName) {\n            return { type: definition.type, name: definition.label };\n          }\n        },\n        model: {\n          defaults: {\n            draggable: definition.draggable,\n            droppable: definition.droppable,\n            editable: definition.editable,\n            isComposite: definition.isComposite,\n            \n          },\n        }\n      }); */\n\n    }else{      \n      editor.DomComponents.addType(definition.type, {\n        isComponent: (el) => {\n          if (el.tagName == definition.tagName) {\n            return { type: definition.type, name: definition.label };\n          }\n        },\n        model: {\n          defaults: {\n            //traits: definition.traits,\n            draggable: definition.draggable,\n            droppable: definition.droppable,\n            editable: definition.editable,\n            isComposite: definition.isComposite,\n            script: function(){    \n              var serverData = window.parent.sharedData.externalData;\n              \n              let uniqueId = this.attributes.id.nodeValue;\n\n              window.parent.addCanvasComponent( uniqueId, this );\n              \n              function getMappedAttributes(attributesIn){\n                let mappedAttributes = {};                    \n                let attributeNames = Object.getOwnPropertyNames(attributesIn);\n                attributeNames.forEach( (attrName)=>{\n                  let attributeValue = attributesIn[attrName] !== undefined ? attributesIn[attrName]: attributesIn[attrName];\n                  mappedAttributes[attrName] = attributeValue;\n                });\n                return mappedAttributes;\n              }\n\n              if( !this.grapesModel ){\n                return;\n              }\n              \n              let mappedAttributes = getMappedAttributes(this.grapesModel.attributes.attributes);\n\n              this.onExternalDataChanged = (event)=>{\n                  serverData = event.detail;\n                  mappedAttributes = getMappedAttributes(this.attributes);\n                  this.vueApp.updateServerData(serverData);\n              }\n              \n              let tagName = this.grapesModel.attributes.tagName;\n              let attributesObject = this.grapesModel.attributes.attributes;\n              let getComponentDefinitionByType = window.parent.sharedData.getComponentDefinitionByType;\n              let modelFieldsByName = window.parent.sharedData.modelFieldsByName;\n              let componentDefinition = getComponentDefinitionByType( tagName );\n\n              // Catch component errors and display them in the component\n              Vue.config.errorHandler = (err, vm, info) => {\n                console.warn( `Vue.errorHandler called()`,\n                  '\\n   - err:', err, \n                  '\\n   - vm:', vm, \n                  '\\n   - info:', info\n                );\n                let element = document.getElementById(uniqueId);\n                element.innerHTML = `<div class=\"componentError\">\n                  <div class=\"componentErrorIcon\">&#9888;</div>\n                  <b style=\"font-size: 1.2em;\">${componentDefinition.label}</b>\n                  <br/>${err}</div>`;\n              };\n\n              // Catch warnings and display them in the console, but render the component in canvas\n              Vue.config.warnHandler = (message, vm, trace) => {\n                console.warn( `Vue.warnHandler called()`,\n                  '\\n   - message:', message, \n                  '\\n   - vm:', vm, \n                  '\\n   - trace:', trace\n                );         \n                /* let element = document.getElementById(uniqueId);\n                element.innerHTML = `<div class=\"componentError\">\n                  <div class=\"componentErrorIcon\">&#9888;</div>\n                  <b style=\"font-size: 1.2em;\">${componentDefinition.label}</b>\n                  <br/>${message}</div>`;          */\n              };\n              \n                Stipple.init({theme: 'stipple-blue'});\n              this.vueApp = new Vue({\n                  el: '#vueinternal_'+uniqueId,\n                  //components: { QBtn:Quasar.}, \n                  data: function(){ \n                    let result = serverData;\n                    result.attributes = mappedAttributes;\n                    result.serverData = serverData;\n                    return result;\n                  }, \n                  computed:{\n                    parsedAttributes(){\n                      let result = {};\n                      let attributesObject = this.attributes;\n                      for( let keyRaw in attributesObject ){\n                        let key = keyRaw[0] == ':' ? keyRaw.substring(1) : keyRaw;\n                        let propertyDefinition = componentDefinition.properties.find( prop => prop.name == key );\n                        let attributeValue = attributesObject[keyRaw];\n                        let valueIsBinding = modelFieldsByName[attributeValue] != null;\n                        if( key == 'v-model' ){\n                          result['v-model'] = this.serverData[attributeValue];\n                          continue;\n                        }\n                        if( propertyDefinition ){\n                          if( valueIsBinding ){\n                            result[`:${key}`] = this.serverData[attributeValue];\n                          }else{\n                            if( propertyDefinition.type == \"String\" ){\n                              result[`${key}`] = attributeValue;\n                            }else{\n                              result[`:${key}`] = attributeValue;\n                            }\n                          }\n                        }else{\n                          result[`${key}`] = attributeValue;\n                        }\n                      }\n                      return result;\n                    }\n                  },\n                  methods: {\n                      updateServerData(newServerData){\n                          this.serverData = newServerData;\n                      }, \n                      updateAttributes(attrs){             \n                          this.attributes = getMappedAttributes(attrs);\n                          mappedAttributes = this.attributes;\n                          this.updateServerData(this.serverData);\n                          this.$forceUpdate();\n                      }, \n\n                  }, \n                  mounted() {\n                  }\n              });\n            }\n          },\n\n          init() {\n            this.listenTo(this, 'change:attributes', this.onAttributeChange);\n          },\n\n          handleAttrChange() {\n            //this.render();\n          },\n\n          render: function () {\n            this.view.onRender();\n          },\n\n          removed() {\n              window.parent.postMessage( {command:\"removeCanvasComponent\", uid:this.ccid }, \"*\" );\n          },\n        },\n        view: {\n          onAttributeChange() {\n          }, \n          onRender() {\n            const { el, model } = this;\n            let uniqueId = el.attributes.id.nodeValue;\n            el.grapesModel = model;\n\n            let tagName = el.grapesModel.attributes.tagName;\n            let internalTagName = tagName;\n            \n            // To-do: generalise this custom rendering mode so that it can be used for other components when needed\n            if( tagName == 'q-popup-proxy' ){\n              internalTagName = 'q-popup-proxy-gbinternal';\n            }\n\n            let attributesObject = el.grapesModel.attributes.attributes;\n            let componentDefinition = getComponentDefinitionByType( tagName );\n            let renderContent = `<div id=\"vueinternal_${uniqueId}\" style=\"position: relative;\">\n              <${internalTagName} `;\n              \n              for( let keyRaw in attributesObject ){\n                let key = keyRaw;\n                if( key.indexOf('gb_c__') == 0 || key.indexOf('gb_b__') == 0 ){\n                  key = key.substring(6);\n                }              \n                //= keyRaw[0] == ':' ? keyRaw.substring(1) : keyRaw;\n                let propertyDefinition = componentDefinition.properties.find( prop => prop.name == key );\n                let attributeValue = attributesObject[keyRaw];\n                let valueIsBinding = modelFieldsByName[attributeValue] != null;\n                \n                // If binding not recognised, check if it's a composed name (binding.property)\n                if( !valueIsBinding && attributeValue.indexOf('.') > -1 ){\n                  let bindingParts = attributeValue.split('.');\n                  let bindingName = bindingParts[0];\n                  // Check if binding exists with that name and if it's a dataTable\n                  let bindingObject = modelFieldsByName[bindingName];\n                  if( bindingObject && bindingObject.type == 'DataTable.DataFrames.DataFrame' ){\n                    // then check among its props\n                    if( bindingObject.props && bindingObject.props.includes( bindingParts[1] ) )\n                      valueIsBinding = true;\n                  }\n                }\n                if( key == 'v-model' ){\n                  if( attributeValue == '' )\n                    renderContent += `v-model=\"serverData.none\" `;\n                  else\n                    renderContent += `v-model=\"serverData.${attributeValue}\" `;\n                  continue;\n                }\n                if( propertyDefinition ){\n                  if( valueIsBinding ){\n                    renderContent += `:${key}=\"serverData.${attributeValue}\" `;\n                  }else{\n                    // Special case for images, so that their path is relative to the app\n                    if( componentDefinition.type == 'q-img' && key == 'src' && propertyDefinition.type == \"String\" && !attributeValue.startsWith('http') ){\n                      if( attributeValue.startsWith('/') )\n                        attributeValue = appBasePath + attributeValue;\n                      else\n                        attributeValue = appBasePath + '/' + attributeValue;\n                    }\n                    if( key=='v-if' || key=='v-for'){\n                      // skip\n                    }else if( propertyDefinition.type == \"String\" || key.indexOf('v-on') == 0 ){\n                      renderContent += `${key}=\"${attributeValue}\" `;\n                    }else{\n                      renderContent += `:${key}=\"${attributeValue}\" `;\n                    }\n                  }\n                }else{\n                  renderContent += `${key}=\"${attributeValue}\" `;\n                }\n              }\n\n              renderContent += `>`;\n              let isNestable = componentDefinition?.nestable;\n              if( isNestable ){\n                // some nestable components have trouble rendering their children in the editor,\n                // so here we make sure that the inner html is not altered by grapes and vue can render as normal\n                if( tagName == \"q-tab-panels\" || tagName == \"q-tab-panel\" || tagName == \"q-card\" || tagName == \"q-card-section\" || tagName == \"q-badge\" ){\n                  let cleanedHtml = model.getInnerHTML();\n\n                  const parser = new DOMParser();\n                  const doc = parser.parseFromString(cleanedHtml, 'text/html');\n                  const firstDiv = doc.body;\n                  \n\n                  HtmlTemplateParser.decodeAttributesInDOM(firstDiv );\n                  renderContent += firstDiv.innerHTML;\n                }else if( tagName == 'q-popup-proxy' ){\n                  // To-do: generalise this custom rendering mode so that it can be used for other components when needed\n                  renderContent += `<div style=\"background-color: #e6c2fe; margin: 5px; padding: 3px; border-radius: 5px; border: dashed 1px #985eab; width: max-content;\">\n                      <img src=\"img/block_icons/popup-proxy.png\" style=\"height:13px; display: block;\" />\n                    </div>`;\n                }else{\n                  // for all other nestable components, we just do some cleanup before appending children\n                  let innerHtmlClean = el.innerHTML;\n                  if( innerHtmlClean != '' ){\n                    const parser = new DOMParser();\n                    const doc = parser.parseFromString(innerHtmlClean, 'text/html');\n                    const firstDiv = doc.body;//.querySelector('#itkg') || null;  \n                    firstDiv.children.forEach( (child)=>{\n                      HtmlTemplateParser.decodeAttributesInDOM(child );\n                      let inner = child.innerHTML;\n                      renderContent += inner;\n                    });\n                  }\n                }\n              }\n\n              renderContent += `</${internalTagName}>\n              </div>\n            `;\n\n            \n            el.innerHTML = renderContent;\n          },\n        },\n      });\n\n    }\n\n  // Load autogenerated styles\n  /* let styles = props.appData.pages[Configuration.currentPageIndex].assets;\n  let autogeneratedStyles = styles.find((style) => {\n    return style.indexOf('autogenerated.css') > -1;\n  });\n  if( autogeneratedStyles ){\n    let stylePath = window.apibase + 'apps/' + Configuration.appid + '/edit?path=' + encodeURIComponent( autogeneratedStyles );\n    axios.get( stylePath ).then( (result) => {\n      editor.setComponents(mockedAppTemplate.value);\n      editor.setStyle(result.data.content);\n    }).catch( (error) => {\n      console.log('error loading autogenerated styles', error);\n    });\n  }else{\n    editor.setComponents(mockedAppTemplate.value);\n    } */\n\n}\n\nfunction showAiCodePreview(status){\n  aiCodePreviewShown.value = status;\n}\n\nfunction addShakeEffect($event) {\n  if( $event.target.id != 'canvasBlocker' )\n    return;\n\n  const element = document.getElementById('canvasBlockerDialog');\n  element.classList.add('shake-effect');\n\n  // Optional: Remove the class after the animation ends to reapply it later\n  element.addEventListener('animationend', () => {\n    element.classList.remove('shake-effect');\n  }, {once: true});\n}\n\nfunction updateReactiveModel(newModel){\n    reactiveModel.value = newModel;\n}\n\n\nfunction updateTemplateFile(fileContents){\n\n  // Clean DIVS (remove empty text nodes) to fix inability to drop components inside containers\n  fileContents = HtmlTemplateParser.removeInvalidNodes(fileContents);\n\n  fileContents = HtmlTemplateParser.replaceSpecialElements( fileContents );\n    \n    let fullContent = `\n    <div class=\"container layoutMockRoot\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\">\n      <div class=\"row layoutMockRow\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\">\n        <div class=\"col-12 layoutMockCol\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\">\n          <div id=\"gbTemplateContainer\" class=\"container\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-type=\"default\">\n            ${fileContents}\n          </div>\n        </div>\n      </div>\n    </div>`;\n\n    // Remove colons from attributes as needed\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(fullContent, 'text/html');\n    const firstDiv = doc.body;\n\n    HtmlTemplateParser.encodeAttributesInDOM(firstDiv );\n    \n    \n    const firstDivContent = firstDiv.innerHTML;\n\n    mockedAppTemplate.value = firstDivContent;\n    initMockedGenieApp();\n}\n\nlet dragStart;\n\n\n\nonMounted(() => {\n});\n\ndefineExpose({\n  updateReactiveModel, updateTemplateFile, showAiCodePreview\n}) \n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n#gjs {\n  border: none;\n  height: 100% !important;\n}\n</style>\n\n<style>\n/* ----------- Grapes' Layers panel ----------*/\n.gjs-layer-item {\n    background-color: #cccccc00 !important;\n    /* padding: 0px 40px; */\n}\n.gjs-layer-item:hover {\n    background-color: #cccccc20 !important;\n}\n.gjs-layer-name {\n    padding: 0px 0 8px !important;\n}\n.gjs-layer-count {\n    top: 2px !important;\n}\n.gjs-layer-move {\n    top: -4px !important;\n}\n.gjs-layer-vis {\n    top: -2px !important;\n    padding: 7px 5px 7px 5px;\n}\n.gjs-layer-title {\n    /* left: -5px; */\n    /* background-color: none !important; */\n}\n.gjs-layer-title-inn {\n    padding-left: 35px;\n}\n.gjs-layer-caret {\n    left: 20px;\n}\n.gjs-layer .gjs-layer-title {\n  background-color: #cccccc00 !important;;\n}\n.gjs-layer.gjs-selected {\n  background-color: #cccccc20 !important;;\n}\n\n/* ----------- end Grapes' Layers panel ----------*/\n.gjs-cv-canvas {\n  top: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n}\n\n#myStyleEditorContainer{\n  position: relative;\n}\n\n#customLibrary{\n  position: fixed;\n    bottom: 0px;\n    right: 0px;\n    background-color: #333;\n    padding: 20px;\n    /* user-select: none; */\n}\n\n.block {\n  user-select: none;\n  min-width: 45px;\n  padding: 1em;\n  box-sizing: border-box;\n  min-height: 90px;\n  cursor: all-scroll;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border: 1px solid rgba(0,0,0,.2);\n  border-radius: 3px;\n  margin: 10px 2.5% 5px;\n  box-shadow: 0 1px 0 0 rgb(0 0 0 / 15%);\n  transition: all .2s ease 0s;\n  transition-property: color;\n}\n\n.block:hover {\n  color: #d278c9;\n}\n\n.gjs-pn-panels{\n  display: none;\n}\n\n\n#canvasBlockerDialog{\n  color: black;\n  top: 10px;\n  right: 320px;\n  background-color: #ffffff;\n  padding: 10px 20px;\n  text-align: center;\n  border: solid 1px #cccccc90;\n  box-shadow: 4px 4px 20px #00000020;\n  width: 300px;\n  margin-left: 50%;\n  left: -150px;\n  position: relative;\n  color: #000000;\n}\n\n#canvasBlockerPreloader{\n      display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: #000000;\n}\n#canvasBlocker{\n    position: absolute;\n    top: 40px;\n    left: 0;\n    right: 310px;\n    bottom: 0px;\n    background-color: #eaeaea80;\n    z-index: 1;\n    /* border: solid 4px #3794ff; */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n    padding-bottom: 340px;\n}\n\n.editChildElementsIcon {\n    width: 15px;\n    height: 15px;\n    background: url('../../../public/img/icons/icon_edit_child_elements.png');\n    background-size: contain;\n    margin: 0px 10px 5px 5px;\n}\n\n@keyframes shake {\n  /* Same keyframes as the CSS example */\n  0%, 100% { transform: translateX(0); }\n  10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }\n  20%, 40%, 60%, 80% { transform: translateX(10px); }\n}\n.shake-effect {\n  animation: shake 0.8s;\n  animation-timing-function: ease-in-out;\n}\n\n</style>\n","import script from \"./CanvasPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CanvasPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CanvasPanel.vue?vue&type=style&index=0&id=49cd9b2f&lang=scss&scoped=true\"\nimport \"./CanvasPanel.vue?vue&type=style&index=1&id=49cd9b2f&lang=css\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-49cd9b2f\"]])\n\nexport default __exports__\nimport QTable from 'quasar/src/components/table/QTable.js';\nimport QTabs from 'quasar/src/components/tabs/QTabs.js';\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QImg from 'quasar/src/components/img/QImg.js';\nimport QTabPanels from 'quasar/src/components/tab-panels/QTabPanels.js';\nimport QTabPanel from 'quasar/src/components/tab-panels/QTabPanel.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QBadge from 'quasar/src/components/badge/QBadge.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QTable,QTabs,QPopupProxy,QImg,QTabPanels,QTabPanel,QCard,QCardSection,QBadge});\n","<template>\n    <div>\n        <vscode-text-field \n            :value=\"searchTerm\"\n            @input=\"(event)=>searchTermChanged(event)\" placeholder=\"Search UI Components\" style=\"padding: 5px 10px; width: 90%;\"></vscode-text-field>\n    </div>\n    <div style=\"max-height: 100%; overflow-y: auto; margin-top: 10px; user-select: none; flex-grow: 1;\">\n        <div style=\"display: flex; flex-wrap: wrap; gap: 5px;flex-direction: column;\">\n            <div v-for=\"category in blocksByCategory\" :key=\"category.category\" style=\"display: flex; flex-direction: column; width: 100%;\">\n                <div style=\"font-weight: bold; margin-bottom: 5px; text-transform: capitalize; margin-top: 10px;\">{{ category.category }}</div>\n                <div class=\"uiItemContainer\">\n                    <div v-for=\"block in category.blocks\" :key=\"block.id\" \n                        :blocktype=\"block.type\"\n                        :class=\"{uiItem:true, uiItemProDisabled: block.proRequired && !isPro}\" \n                        @mousedown=\"(!block.proRequired) || ( block.proRequired  && isPro ) ? dragStart(block) : showUpgradeLicenseDialog(true)\"\n                        :title=\"block.proRequired && !isPro ? 'Upgrade to PRO plan to use this component and many more!' : block.label\"\n                        >\n                            <div :class=\"{ uiItemLabel:true, uiItemLabelProRequired:block.proRequired && !isPro }\">{{ block.label }}</div>\n                            <div :class=\"{ uiItemIcon:true, uiItemIconProRequired:block.proRequired && !isPro }\">\n                                <img :src=\"getBlockIconPath(block)\" class=\"libraryIcon\" style=\"\"/>\n                            </div>\n                            <img v-if=\"block.proRequired && !isPro\" src=\"img/icons/pro_badge.png\" class=\"proBadge\" style=\"\"/>\n                    </div>\n                    <div class=\"disabledProPanel\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n\n//import blockDefinitions from '../../utils/blockDefinitions'\nimport { ref,computed, onMounted } from 'vue'\nimport Configuration from '../../utils/Configuration';\nimport _ from 'lodash';\n\nconst isPro = Configuration.IS_PRO;\n\nfunction showUpgradeLicenseDialog(showDialog=true){\n    window.showUpgradeLicenseDialog(showDialog);\n}\n\n// Exclude some block types from the list\nconst excludedTypes = [\"tempplaceholder\", \"partial\"];\nlet blockDefinitionsRaw = blockDefinitions.filter( block => {\n    return excludedTypes.indexOf( block.type ) === -1;\n} );\n\n//debugger;\n// HTML blocks\n// =============================================\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"1-Col Row\", properties:[], tagName: \"DIV\", type: '1column', content: `<div class=\"row\">\n<div class=\"st-col col-12 col-sm st-module\"></div></div>`, media: ``, category: 'Layout'   }); \n\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"2-Col Row\", properties:[], tagName: \"DIV\", type: '2columns', content: `<div class=\"row\">\n<div class=\"st-col col-12 col-sm st-module\"></div>\n<div class=\"st-col col-12 col-sm st-module\"></div>\n</div>`, media: ``, category: 'Layout'   }); \n\n\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"3-Col Row\", properties:[], tagName: \"DIV\", type: '3columns', content: `<div class=\"row\">\n<div class=\"st-col col-12 col-sm st-module\"></div>\n<div class=\"st-col col-12 col-sm st-module\"></div>\n<div class=\"st-col col-12 col-sm st-module\"></div>\n</div>`, media: ``, category: 'Layout'   }); \n\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"Column\", properties:[], tagName: \"DIV\", type: '1column', content: `<div class=\"st-col col-12 col-sm st-module\"></div>`, media: ``, category: 'Layout'   }); \n\n\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"Sidebar Left\", properties:[], tagName: \"DIV\", type: 'sidebar_left', content: `<header class=\"st-header q-pa-sm\">\n<h1 class=\"st-header__title text-h3\">Header Text</h1>\n</header>\n<div class=\"row\">\n<div class=\"st-col col-3 col-sm st-module\"></div>\n<div class=\"st-col col-9 st-module\"></div>\n</div>\n<footer class=\"st-module\">Page footer</footer>\n`, media: ``, category: 'Layout'   }); \n\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"Sidebar Right\", properties:[], tagName: \"DIV\", type: 'sidebar_right', content: `<header class=\"st-header q-pa-sm\">\n<h1 class=\"st-header__title text-h3\">Header Text</h1>\n</header>\n<div class=\"row\">\n<div class=\"st-col col-9 st-module\"></div>\n<div class=\"st-col col-3 col-sm st-module\"></div>\n</div>\n<footer class=\"st-module\">Page footer</footer>\n`, media: ``, category: 'Layout'   }); \n\nblockDefinitionsRaw.push( { description: \"\", draggable: true, droppable: true, editable: true, enabled: true, label: \"Sidebars\", properties:[], tagName: \"DIV\", type: 'sidebars',  content: `<header class=\"st-header q-pa-sm\">\n<h1 class=\"st-header__title text-h3\">Header Text</h1>\n</header>\n<div class=\"row\">\n<div class=\"st-col col-3 col-sm st-module\"></div>\n<div class=\"st-col col-5 st-module\"></div>\n<div class=\"st-col col-3 col-sm st-module\"></div>\n</div>\n<footer class=\"st-module\">Page footer</footer>\n`, media: ``, category: 'Layout'   });  \n\nblockDefinitionsRaw.push( {\n    label: \"Header\", tagName: \"header\", type: 'header', description: \"\", category: 'Layout', media: ``,\n    draggable: true, droppable: true, editable: true, enabled: true, properties:[],\n    content: `<header ><h1>Page header</h1></header>`\n});\n\nblockDefinitionsRaw.push( { \n    label: \"Footer\", tagName: \"footer\", type: 'footer', description: \"\", category: 'Layout', media: ``, \n    draggable: true, droppable: true, editable: true, enabled: true, properties:[],   \n    content: `<footer class=\"st-module\">Page footer</footer>`    \n});  \n\n\n\n\n\n// =============================================\n// End HTML blocks\n\nlet categoriesSorting = [\n    \"Layout\", \n    \"Text\", \n    \"Content\", \n    \"Forms\", \n    \"Widgets\", \n    \"Lists\", \n    \"Tables\", \n    \"Charts\", \n    \"Multimedia\", \n    \"Timeline\", \n    \"Other\", \n];\n\nlet blocksByCategory = ref(null);\nlet searchTerm = ref('');\n\n// Variables needed for the custom implementation of drag-and-drop\nlet isDragging = false;\nlet draggableElement = null;\nlet iframeB = null;\n\nlet blocks = blockDefinitions.map( (item)=>{\n  let newDef = {\n    type: item.type,\n    label: item.label, \n    tagName: item.tagName,\n\n    id: item.type,\n    category: item.category, \n    content: item.content,\n    droppable: item.droppable,\n    draggable: item.draggable,\n    editable: item.editable,\n\n    //media: item.media, \n    activate: true, \n  }\n  return newDef;\n});\n\nlet dragStart, dragStop;\n\nfunction handleBlocks(props) {\n      blocks = props.blocks;\n      dragStart = (block)=>{\n        //window.logUserEvent(\"library::dragToCanvas\", { component: block.type });\n        props.dragStart(block)\n      };\n      dragStop = props.dragStop;\n      emit(\"blockCustomTriggered\", props );\n    };\n\nlet editorCheckInterval;\n\nonMounted( ()=>{\n    editorCheckInterval = setInterval( ()=>{\n        if( window.editor ){\n            clearInterval( editorCheckInterval );\n            window.editor.on('block:custom', handleBlocks);\n            const { Panels } = window.editor;\n            Panels.getButton('views', 'open-blocks').set('active', true);\n        }else{\n            //console.log( \"[debug] LibraryPanel :: onMounted :: window.editor NOT ready\" );\n        }\n    }, 1000);\n});\n\n\nfunction searchTermChanged(event){\n    debouncedLogSearch();\n    buildCategoriesTree(event);\n}\n\nfunction buildCategoriesTree(event){\n    //console.log( 'buildCategoriesTree :: newValue: ', event );\n    if( event != undefined )\n        searchTerm.value = event.target.value;\n    \n    let categories = [];\n    let categoriesDict = {};\n    let blocks = [];\n    filteredBlockDefinitions.value.forEach( block => {\n        if( block.hideFromLibrary == true ) return;\n        let category = block.category || 'other';\n        if( !categoriesDict[ category ] ){\n            categoriesDict[ category ] = { category: category, blocks: [] }\n            categories.push( categoriesDict[ category ] );\n        }\n        categoriesDict[ category ].blocks.push( block );\n    });\n    // Sort categories based on categoriesSorting sorting array\n    categories.sort( (a,b)=>{\n        let aIndex = categoriesSorting.indexOf( a.category );\n        let bIndex = categoriesSorting.indexOf( b.category );\n        if( aIndex > bIndex ) return 1;\n        if( aIndex < bIndex ) return -1;\n        return 0;\n    });\n\n    // within each category, sort blocks by label\n    categories.forEach( category => {\n        category.blocks.sort( (a,b)=>{\n            if( a.label > b.label ) return 1;\n            if( a.label < b.label ) return -1;\n            return 0;\n        });\n    });\n\n    blocksByCategory.value = categories;\n    logCategories();\n    return categories;\n}\n\nfunction logCategories(){\n    let output = \"Block Categories:\\n--------------------\\n\";\n    blocksByCategory.value.forEach( category => {\n        output += category.category + \"\\n\";\n        category.blocks.forEach( block => {\n            output += \"  \" + block.label + \"\\n\";\n        });\n    });\n    //console.log( output );\n}\n\nconst filteredBlockDefinitions = computed( ()=>{\n    if( !searchTerm.value ) return blockDefinitionsRaw;\n    let results = blockDefinitionsRaw.filter( block => {\n        return block.label.toLowerCase().indexOf( searchTerm.value.toLowerCase() ) > -1;\n    });\n    return results;\n});\n\nbuildCategoriesTree();\n\nconst getBlockIconPath = function(block)  {   \n    let iconFileName;\n    let result;\n    // If icon is explicitly defined, use it\n    if( block.icon ){\n        // If icon starts with {appPath}, replace this token with the actual app path\n        if( block.icon.startsWith(\"{appPath}\") ){\n            let appPath = Configuration.getAppBaseUrl('http', Configuration.appport);\n            // remove trailing slash if present\n            if( appPath.endsWith(\"/\") ) appPath = appPath.slice(0, -1);\n            iconFileName = block.icon.replace(\"{appPath}\", \"\");\n            result = appPath + iconFileName;\n        }else{\n            // Else just use it as is\n            iconFileName = block.icon;\n            result = 'img/block_icons/'+iconFileName\n        }\n    // If icon is not defined, use the block type and resolve the icon file name from it\n    }else{\n        iconFileName = block.type.split(\"q-\").join(\"\")+'.png';\n        result = 'img/block_icons/'+iconFileName\n    }\n    return result;\n}\n\n\nfunction onDragStart(block, $event) {\n    iframeB = document.querySelector(\".gjs-frame\");\n\n    sorter = editor.BlockManager.blocksView.getSorter();\n    sorter.__currentBlock = block;\n    sorter.setDragHelper( $event.target, $event);\n    sorter.setDropContent(block.content);\n    sorter.startSort($event.target);\n\n    //sorter = editor.Utils.getSorter();\n\n    // Traverse up the DOM tree to find the .uiItem element\n    let target = $event.target;\n    while (target && !target.classList.contains('uiItem')) {\n        target = target.parentElement;\n    }\n\n    if (target) {\n        isDragging = true;\n        draggableElement = target;\n        target.setPointerCapture($event.pointerId);\n    }\n}\n\nfunction onPointerMove($event){\n    if (!isDragging || !sorter) return;\n\n    const rect = iframeB.getBoundingClientRect();\n    const x = $event.clientX - rect.left;\n    const y = $event.clientY - rect.top;\n}\n\n\nfunction onPointerUp(block, event){\n    if (sorter) {\n        sorter.endMove();\n        sorter = null;\n    }\n\n    isDragging = false;\n    const rect = iframeB.getBoundingClientRect();\n    if (\n        event.clientX >= rect.left &&\n        event.clientX <= rect.right &&\n        event.clientY >= rect.top &&\n        event.clientY <= rect.bottom\n    ) {\n        draggableElement.style.pointerEvents = 'none';  // Temporarily disable pointer events for the dragged element\n\n        const iframeDoc = iframeB.contentDocument;\n        const x = event.clientX - rect.left;\n        const y = event.clientY - rect.top;\n        const elementBelow = iframeDoc.elementFromPoint(x, y);\n\n        let elementBelowId = elementBelow.getAttribute('id');\n        draggableElement.style.pointerEvents = '';  // Restore pointer events for the dragged element\n        draggableElement.style.position = 'static';\n\n        // Get the GrapesJS component corresponding to elementBelow        \n        let targetComponent = editor.DomComponents.getWrapper().find('#'+elementBelowId)[0];\n\n        if (targetComponent) {\n            targetComponent.components().add( block.content );\n            // Refresh the canvas to reflect the changes\n            editor.refresh();\n        }\n    } else {\n        draggableElement.style.position = 'static';\n    }\n    draggableElement = null;\n}\n\nlet debouncedLogSearch = _.debounce(function () {\n    if( searchTerm.value.length > 0 ){\n        //window.logUserEvent(\"library::search\", { searchTerm: searchTerm.value });\n    }\n  }, 1000);\n\nconst emit = defineEmits(['blockCustomTriggered'])\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n.uiItemContainer{\n    display: grid;\n    flex-wrap: wrap;\n    gap: 5px;\n    /* max-height: 40vh; */\n    grid-template-columns: 32% 32% 32%;\n}\n\n.uiItem{\n    display: block;\n    flex: 1 1 49%;\n    border: solid 1px var(--checkbox-background);\n    padding: 5px 6px 3px;\n    box-sizing: border-box;\n    text-align: center;\n    cursor: move;\n    border-radius: 5px;\n    font-size: 0.9em;\n    position: relative;\n}\n\n.proBadge{\n    position: absolute;\n    bottom: 3px;\n    right: 3px;\n    width: 20px;\n    opacity: 0.2;\n}\n\n.uiItemProDisabled{\n    /* cursor: auto; */\n    cursor: not-allowed;\n}\n\n.uiItemProDisabled:hover{\n    .proBadge{\n        opacity: 1;\n    }\n}\n\n.uiItem:hover{\n    background-color: #00000010;\n}\n.uiItemIcon{\n    justify-content: center;\n    display: flex;\n    margin-bottom: 3px;\n    filter: brightness(1.5) saturate(1);\n    pointer-events: none;\n}\n.uiItemLabel{\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    pointer-events: none;\n    max-width: 75px;\n}\n.uiItemLabelProRequired, .uiItemIconProRequired{\n    opacity: 0.3;\n}\n\n.libraryIcon{\n    max-height: 20px;\n    margin-top:6px;\n    pointer-events: none;\n    filter: var(--library-icon-filter);\n}\n\n</style>\n","import script from \"./LibraryPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LibraryPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LibraryPanel.vue?vue&type=style&index=0&id=54aa55a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-54aa55a6\"]])\n\nexport default __exports__","<template>\n    <div class=\"blocker\" ref=\"dialogBlocker\" @click=\"blockerClicked($event)\">        \n        <div class=\"addPropsPanel\">\n            <div style=\"text-align: center; font-size: 0.8em; font-weight: bold; margin-bottom: 10px;\">Add Property</div>\n            <div class=\"closeAddProp\" @click=\"closeButtonClicked\">X</div>\n            <div>\n                <vscode-text-field \n                    id=\"addPropertyDialogSearch\"\n                    :value=\"searchTerm\"\n                    @input=\"(event)=>searchTermChanged(event)\" \n                    @keyup.escape=\"resetSearch\"\n                    placeholder=\"Search Properties\" style=\"padding: 5px 10px; width: 100%;\"></vscode-text-field>\n                    <i class=\"fas fa-search\" style=\"position:absolute; top: 47px; right: 15px; opacity: 0.5;\"></i>\n                <!-- <vscode-text-field \n                    :value=\"searchTerm\"\n                    @input=\"(event)=>buildCategoriesTree(event)\" placeholder=\"Search UI Components\" style=\"padding: 5px 10px; width: 90%;\"></vscode-text-field> -->\n            </div>\n            <div class=\"addPropsList\">\n                <div class=\"addPropRow\" v-for=\"item in sortedPropsList()\" @click=\"addProperty(item)\" :title=\"item.desc||'Property description not available'\">\n                    <div style=\"width:70%;\">{{item.label}}</div>\n                    <div style=\"    text-transform: capitalize;    width: 30%; font-size: 0.8em; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;     display: flex; justify-content: right; align-items: center; opacity: 0.6;\">{{item.type}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\nimport _ from 'underscore';\nimport { ref, onMounted } from 'vue'\n\n// Define props and emits\nconst props = defineProps(['propslist', 'defObject', 'destination']);\nconst emit = defineEmits(['propAdded', 'close' ]);\n\n// Define reactive variables\nconst searchTerm = ref('');\nconst dialogBlocker = ref('');\n\n\n// Event handlers\n// ---------------------------------------------------\nfunction blockerClicked(event){\n    if( event.target == dialogBlocker.value){\n        closeButtonClicked();\n    }\n}\n\nfunction closeButtonClicked(){\n    emit('close');    \n}\n\n// Component methods\n// ---------------------------------------------------\nfunction resetSearch(){\n    searchTerm.value = '';\n}\n\nfunction searchTermChanged(event){\n    searchTerm.value = event.target.value;\n}\n\n\nfunction addProperty(item){\n    emit('propAdded', item, props.defObject, props.destination);\n}\n\nfunction sortedPropsList(){\n    let results = props.propslist;\n    // Apply filtering if search term is present\n    if( searchTerm.value != '' ){\n        results = results.filter((item)=>{\n            return item.label.toLowerCase().indexOf(searchTerm.value.toLowerCase()) > -1;\n        });\n    }\n    // Sort the results by label\n    return _.sortBy(results, (item)=>{ return item.label.toLowerCase() });\n}\n\n\n\nonMounted(()=>{\n    document.querySelector('#addPropertyDialogSearch').focus();\n});\n\n</script>\n\n<style scoped>\n\n.blocker{\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgb(0 0 0 / 0.5);\n    z-index: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.addPropsPanel{\n    background-color: var(--background);\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1882352941);\n    border-radius: 5px;\n    padding: 10px 0px;\n    width: 300px;\n    min-height: 200px;\n    max-height: 500px;\n    display: flex;\n    flex-direction: column;\n    position: relative;    \n    border: solid 1px #ffffff20;\n}\n\n.closeAddProp{\n    position: absolute;\n    right: 10px;\n    top: 5px;\n    cursor: pointer;\n    font-weight: bold;\n    font-size: 12px;\n    color: #999;\n}\n\n.addPropsList{\n    padding: 10px 10px;\n    position: relative;\n    height: 100%;\n    overflow: auto;\n}\n\n.addPropRow{\n    padding: 2px;\n    border-bottom: solid 1px rgb(0 0 0 / 17%);\n    opacity: 0.9;\n    cursor: pointer;\n    position: relative;\n    font-size: 0.9em;\n    display: flex;\n    flex-direction: row;\n    gap: 5px;\n}\n\n.addPropRow:hover{\n    opacity: 1;\n    background-color:#f4f4f410; \n}\n\n.addPropRow:hover >.addPropIcon{\n    opacity: 1;\n}\n</style>","import script from \"./AddPropertyDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddPropertyDialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddPropertyDialog.vue?vue&type=style&index=0&id=7c578f7c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c578f7c\"]])\n\nexport default __exports__","<template>   \n    <div class=\"foldableGroupHeader\" v-if=\"showSectionTitle\">\n        <!-- <div style=\"width:40px;\">?</div> -->\n        <div class=\"groupHeaderContent\">\n            <img :src=\"'img/block_icons/'+getChartTypeIcon+'.png'\" class=\"chartTypeIcon\" :style=\"{opacity: 1}\" /> \n            {{ treeObject.name }}\n        </div>\n        <div class=\"removeBtnCnt\" style=\"width:20px;\">\n            <span @click=\"removeSection\" title=\"Remove Trace\" class=\"codicon codicon-settings\">\n                <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 14px; padding: 0px;\">delete</i>\n            </span>\n        </div>\n        \n        \n        \n        <!-- <div style=\"\">v</div> -->\n    </div>\n    <!-- <div style=\"position: relative; padding-top: 20px;\"> -->\n        <div class=\"row propRow\" style=\"position: relative;\" v-for=\"property in definitionsListWithValues\" :key=\"property.id\">\n            <!-- remove-prop button -->\n            <div class=\"col-1 removeBtnCnt\" style=\"width:20px; position: absolute;\">\n                <span @click=\"removeTraceProperty(property)\" title=\"Remove Property\" class=\"codicon codicon-settings\">\n                    <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 14px; padding: 0px;\">delete</i>\n                </span>\n            </div>\n            <!-- Prop Label -->\n            <div class=\"col-4 propRowLabel\" style=\"\" :title=\"property.label\">\n                {{ property.label }}:\n            </div>\n\n            <!-- Binding mode -->\n\n            <div class=\"col-7\" v-if=\"isPropValueBinding(property)\">\n                <select class=\"propInput propInputDynamic\" style=\"width:100%;height: 25px;\" v-model=\"property.valueHolderParent[property.propName]\" @change=\"submitChanges\" \n                :attrname=\"property.propertyName\">\n                    <option v-for=\"binding in modelFields\" :key=\"'binding_'+binding.name\" :value=\"'$_{'+binding.name+'}'\">{{binding.name}}</option>\n                </select>\n            </div>\n\n            <!-- UI controls -->\n            <div class=\"col-7\" v-else-if=\"property.id=='type'\">\n                <div class=\"chartTypeContainer\" v-if=\"property.id=='type'\" style=\"position: relative;\">\n                    <select class=\"propInput propInputDynamic\" style=\"width:100%;height: 25px;\" @change=\"changeChartType\" v-model=\"currentGbType\" :attrname=\"property.propertyName\">\n                        <option v-for=\"chartType in chartTypes\" :key=\"'chartType_'+chartType.id\" :value=\"chartType.id\">{{chartType.id}}</option>\n                    </select>\n                    <!-- <div style=\"justify-content: start; display: flex; margin-bottom: 3px; filter: brightness(1.5) saturate(1);\">\n                        <img src=\"img/block_icons/areaChart.png\" class=\"chartTypeIcon\" :style=\"{opacity: property.valueHolderParent[property.propName] == 'area' ? 1 : 0.3}\" \n                            @click=\"changeChartType(property, 'area')\" />\n                        <img src=\"img/block_icons/barChart.png\" class=\"chartTypeIcon\" :style=\"{opacity: property.valueHolderParent[property.propName] == 'bar' ? 1 : 0.3}\" \n                            @click=\"changeChartType(property, 'bar')\" />\n                        <img src=\"img/block_icons/scatterChart.png\" class=\"chartTypeIcon\" :style=\"{opacity: property.valueHolderParent[property.propName] == 'scatter' ? 1 : 0.3}\" \n                            @click=\"changeChartType(property,  'scatter')\" />\n                        <img src=\"img/block_icons/chart.png\" class=\"chartTypeIcon\" :style=\"{opacity: property.valueHolderParent[property.propName] == 'chart' ? 1 : 0.3}\" \n                            @click=\"changeChartType(property,  'chart')\" />\n                        <img src=\"img/block_icons/pieChart.png\" class=\"chartTypeIcon\" :style=\"{opacity: property.valueHolderParent[property.propName] == 'pie' ? 1 : 0.3}\" \n                            @click=\"changeChartType(property,  'pie')\" />\n                    </div> -->\n                </div>\n            </div>\n            <div class=\"col-7\" v-else-if=\"property.type=='array'\">\n                <textarea name=\"\" id=\"\" rows=\"3\" \n                    :value=\"JSON.stringify(property.valueHolderParent[property.propName])\"\n                    @input=\"handleArrayInput(property, $event.target.value)\" \n                    @change=\"submitChanges\"></textarea>\n            </div>\n\n\n\n            <!-- <div class=\"col-7\" v-else-if=\"property.id=='x' || property.id=='y' || property.id=='z' || property.id=='values' || property.id=='labels' || property.id=='coordinates' || property.id=='dimensions' || property.id=='counts'  \">\n                <vscode-dropdown style=\"width: 100%;\" name=\"\" id=\"\" \n                    :value=\"property.valueHolderParent[property.propName]\"\n                    @input=\"(event) => property.valueHolderParent[property.propName] = event.target.value\" \n                    @change=\"submitChanges\"\n                >\n                    <vscode-option :value=\"'$_{'+field+'}'\" v-for=\"field in dataSourceColumns\">{{ field }}</vscode-option>\n                </vscode-dropdown>\n            </div> -->\n            <div class=\"col-7\" v-else-if=\"property.type=='enum'\">\n                <!-- <vscode-dropdown style=\"width: 100%;\" name=\"\" id=\"\" \n                    :value=\"property.valueHolderParent[property.propName]\"\n                    @input=\"(event) => property.valueHolderParent[property.propName] = event.target.value\" \n                    @change=\"submitChanges\"\n                >\n                    <vscode-option :value=\"field\" v-for=\"field in property.options\">{{ field }}</vscode-option>\n                </vscode-dropdown> -->\n                <select class=\"propInput propInputDynamic\" style=\"width:100%;height: 25px;\" v-model=\"property.valueHolderParent[property.propName]\" @change=\"submitChanges\" \n                :attrname=\"property.propertyName\">\n                    <option v-for=\"field in property.options\" :key=\"'field_'+field\" :value=\"field\">{{field}}</option>\n                </select>\n            </div>\n            <div class=\"col-7\" v-else style=\"align-items: center; position: relative; display: flex;\">          \n                <input type=\"checkbox\" v-if=\"property.type=='boolean'\" name=\"\" id=\"\" v-model=\"property.valueHolderParent[property.propName]\" @change=\"submitChanges\">\n                <input v-if=\"property.type=='color'\" :type=\"property.type\" v-model=\"property.valueHolderParent[property.propName]\" @change=\"submitChanges\" style=\"height: 23px; width: 23px; margin-right: 5px; background-color:#ffffff00\">\n                <vscode-text-field v-if=\"property.type=='color'\" type=\"text\" name=\"\" id=\"\" \n                    :value=\"property.valueHolderParent[property.propName]\"\n                    @input=\"(event) => property.valueHolderParent[property.propName] = event.target.value\" \n                    @change=\"submitChanges\" style=\"width:80px;\"></vscode-text-field>\n                <vscode-text-field v-if=\"property.type=='string' || property.type=='number'\" :type=\"property.type\" name=\"\" id=\"\" \n                    :value=\"property.valueHolderParent[property.propName]\"\n                    @input=\"(event) => property.valueHolderParent[property.propName] = event.target.value\" \n                    @change=\"submitChanges\"></vscode-text-field>\n            </div>\n\n            <div class=\"propRowDynamicSwitch\" @click=\"toggleDynamicAttribute(property)\" v-if=\"property.propName!='type' && property.propName!='name'\">\n                <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"isPropValueBinding(property)\" draggable=\"false\" />\n                <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\" v-if=\"!isPropValueBinding(property)\" draggable=\"false\" />\n            </div>\n        </div>\n    <!-- </div> -->\n</template>\n  \n<script setup>\n    import {chartTypes} from '../utils/chartDefinitions.js';\n  import { ref, computed } from 'vue';\n\n  // PROPS and EMITS\n  const props = defineProps(['dataSourceColumns', 'treeObject', 'propertiesDefinition', 'appData', 'modelFields', 'sectionIndex', 'showSectionTitle'])\n  const emit = defineEmits(['change'])\n\n  let currentGbType = ref[null];\n\nconsole.log( \"ChartSection.modelFields: \", props.modelFields)\n\n    function handleArrayInput(property, inputValue) {\n        try {\n            const parsedValue = JSON.parse(inputValue);\n            if (Array.isArray(parsedValue)) {\n                property.valueHolderParent[property.propName] = parsedValue;\n            } else {\n                // To-do: show UI to inform user about invalid value\n                console.error(\"Input is not an array.\");\n            }\n        } catch (e) {\n            // To-do: show UI to inform user about invalid value\n            console.error(\"Failed to parse input as JSON:\", e);\n        }\n    }\n\n  /*  ======================================================================================\n                                    COMPONENT METHODS\n    ====================================================================================== */\n    /* function getPropVal(property){\n        console.log( 'getPropVal', property.name, property );\n        let value = property.valueHolderParent[property.propName]\n        console.log( 'getPropVal value: ', value );\n        return value;\n    } */\nconst getChartTypeIcon = computed( ()=>{\n    let chartTypeDef = chartTypes.find( (chartType)=>{ return chartType.id == currentGbType } );\n    console.log( 'chartTypeDeffffff', chartTypeDef );\n    if( !chartTypeDef ){\n        console.error( \"Could not find chart type definition for: \" + currentGbType );\n        return \"scatterChart\";\n    }else{\n        return chartTypeDef.icon;\n    \n    }\n})\n\n    function removeSection(){\n        let sectionIndex = props.sectionIndex;\n        emit('removeTrace', sectionIndex);\n    }\n    function removeTraceProperty( property ){\n        let propertyId = property.id;\n        console.log( 'removeTraceProperty before: ', property, props.treeObject );\n        removePropertyPath( props.treeObject, propertyId );        \n        console.log( 'removeTraceProperty after: ', property, props.treeObject );\n        submitChanges();\n        //let sectionIndex = props.sectionIndex;\n        //emit('removeTrace', sectionIndex);\n    }\n\n    function removePropertyPath(obj, propertyPath) {\n        // Split the property path into parts\n        const parts = propertyPath.split('.');\n\n        // Recursive function to delete properties\n        function deleteProp(currentObj, pathIndex) {\n            const prop = parts[pathIndex];\n\n            // Base case: if we've reached the last part of the path\n            if (pathIndex === parts.length - 1) {\n                delete currentObj[prop];\n                return Object.keys(currentObj).length === 0;\n            }\n\n            // Recursive case: go deeper if the property exists\n            if (currentObj[prop] !== undefined) {\n                const shouldDeleteParent = deleteProp(currentObj[prop], pathIndex + 1);\n\n                // Delete the parent property if it's now empty\n                if (shouldDeleteParent) {\n                    delete currentObj[prop];\n                    return Object.keys(currentObj).length === 0;\n                }\n            }\n\n            return false;\n        }\n\n        // Start the recursive deletion process\n        deleteProp(obj, 0);\n    }\n\n    /**\n     * Toggles the attribute mode from constant to binding and viceversa\n     * @param {string} key - The name of the attribute.\n     * @param {string} value - The value of the attribute.\n     */\n    function toggleDynamicAttribute(property){\n        console.log( 'toggleDynamicAttribute', property );\n        let currentValue = property.valueHolderParent[property.propName];\n        let newKey;\n        if( typeof currentValue == \"string\" && currentValue.indexOf('$_{')==0 ){\n            // Switch to constant\n            newKey = currentValue.replace( '$_{', '' );\n            // remove '}' char at the end\n            newKey = newKey.substring(0, newKey.length - 1);\n        }else{\n            // Switch to binding\n            newKey = '$_{' + currentValue + '}';\n        }\n\n        property.valueHolderParent[property.propName] = newKey;\n        submitChanges();\n        /* \n        let newKey = key.indexOf('gb_b__') == 0 ? key.replace( 'gb_b__', 'gb_c__' ) : key.replace( 'gb_c__', 'gb_b__' );\n        component.value.removeAttributes( [key]);\n        let newAtts = {};\n        // When switching to Binding mode, pick the model variable with the same name set as constant or,\n        // If it doesn't exist, pick one of the same type by default\n        if( newKey.indexOf('gb_b__') == 0 ){\n            if(modelFieldsByName[value] != null )\n                newAtts[newKey] = value;\n            else{\n                let cleanAttributeName = getAttributeCleanRealName(newKey).toLowerCase();\n                let def = getBlockPropertyDefinition(cleanAttributeName);\n\n                let attributeObject = { def }\n                let sameTypeModelFields = filteredModelFields(attributeObject);\n                if( sameTypeModelFields.length > 0 )\n                    newAtts[newKey] = sameTypeModelFields[0].name;\n                else\n                    newAtts[newKey] = \"Not Set\";\n            }\n        }else{\n            newAtts[newKey] = value;\n        }\n\n        component.value.addAttributes(newAtts);\n        submitChanges(); */\n    }\n\n    function isPropValueBinding( property ){\n        console.log( 'isPropValueBinding', property.propName, property );\n        let value = property.valueHolderParent[property.propName];\n        return typeof value == 'string' && value.indexOf('$_{')==0;\n    }\n    \n    //function changeChartType( property, newType){\n    function changeChartType( event){\n        console.log( 'changeChartType', currentGbType, props.treeObject );\n        console.log( 'chartTypes', chartTypes );\n        let chartTypeDef = chartTypes.find( (chartType)=>{ return chartType.id == currentGbType } );\n        console.log( 'chartTypeDef', chartTypeDef );\n        // store current props in temp object\n        let tempProps = {};\n        for( let prop in props.treeObject ){\n            tempProps[prop] = props.treeObject[prop];\n        }\n        // remove all properties from props.treeObject\n        for( let prop in props.treeObject ){\n            delete props.treeObject[prop];\n        }\n        // assign props from template. use tempobject if prop matches\n        for( let prop in chartTypeDef.traceTemplate ){\n            if( tempProps[prop] != undefined && prop != \"type\" && prop != \"gbtype\"  )\n                props.treeObject[prop] = tempProps[prop];\n            else\n                props.treeObject[prop] = chartTypeDef.traceTemplate[prop];\n        }\n        console.log( 'props.treeObject FINAL:', props.treeObject );\n        // assign props from temp object\n        props.treeObject.gbtype = currentGbType;\n        submitChanges();\n        return;\n        let oldType = property.valueHolderParent[property.propName];\n        console.log( 'changeChartType', newType, props );\n        if( newType == property.valueHolderParent[property.propName] ){\n            console.log( \"same chart type chosen, skipping...\" );\n            return;\n        }\n        // Transform trace based on type\n        if( newType == 'pie' ){\n         console.log( \"transforming to pie chart\" );\n         props.treeObject.labels = props.treeObject.x;\n         props.treeObject.values = props.treeObject.y;\n            props.treeObject.x = undefined;\n            props.treeObject.y = undefined;\n            delete props.treeObject.x;\n            delete props.treeObject.y;\n        }else if( oldType == 'pie' && (newType != 'pie' ) ){\n            console.log( \"transforming FROM pie chart\" );\n            props.treeObject.x = props.treeObject.labels;\n            props.treeObject.y = props.treeObject.values;\n            props.treeObject.labels = undefined;\n            props.treeObject.values = undefined;\n            delete props.treeObject.labels;\n            delete props.treeObject.values;\n        }\n        \n        property.valueHolderParent[property.propName] = newType;\n        submitChanges();\n    }\n    \n  function submitChanges(){\n    emit('change', props.treeObject);\n  }\n\n  function getNestedPropertyParent(obj, propName) {\n    const propParts = propName.split('.');\n    if( propParts.length == 1 )\n      return obj;\n\n    for (let i = 0; i < propParts.length-1; i++) {\n        if (!obj || !obj.hasOwnProperty(propParts[i])) {\n            return undefined;\n        }\n        obj = obj[propParts[i]];\n    }\n    return obj;\n}\n\nfunction getNestedProperty(obj, propName) {\n    const propParts = propName.split('.');\n    for (let i = 0; i < propParts.length; i++) {\n        if (!obj || !obj.hasOwnProperty(propParts[i])) {\n            return undefined;\n        }\n        obj = obj[propParts[i]];\n    }\n    return obj;\n}\n\nconst definitionsListWithValues = computed( ()=>{\n    let result = [];\n    for( let i = 0; i < props.propertiesDefinition.length; i++ ){\n        let propertyDefCloned = { ...props.propertiesDefinition[i] };\n        let value = getNestedProperty( props.treeObject, propertyDefCloned.id );\n        if( value !== undefined ){\n            propertyDefCloned.valueHolderParent = getNestedPropertyParent( props.treeObject, propertyDefCloned.id );\n            propertyDefCloned.propName = propertyDefCloned.id.split('.').pop();\n            result.push( propertyDefCloned );\n        }\n    }\n    console.log( 'definitionsListWithValues', result );\n    return result;\n});\n  \n</script>\n  \n\n<style scoped>\ntextarea {\n    overflow: auto;\n    background-color: var(--input-background) !important;\n    color: var(--input-foreground) !important;\n    border: calc(var(--border-width)* 1px) solid var(--dropdown-border) !important;\n    border-radius: calc(var(--corner-radius)* 1px) !important;\n    font-size: 11px;\n    width: 100%;\n    min-height: 60px;\n    padding: 5px 10px;\n}\n\ntextarea:focus-visible {\n    outline: none;\n    border: 1px solid var(--focus-border);\n}\ntextarea:focus {\n    border: 1px solid var(--focus-border) !important;\n}\n\n.propRow{\n    width: calc(100% - 10px) !important;\n    right: -10px;\n    border-bottom: solid 1px var(--checkbox-background);\n    padding: 5px 0px 5px;\n}\n\n/* generic grid */\n.row::after {\n  content: \"\";\n  clear: both;\n  display: table;\n}\n\n.propRowLabel{\n   /*  width: 35%; */\n    font-size: 0.9em;\n    /* display: flex;\n    align-items: center;\n    */\n    justify-content: right;\n    text-transform: capitalize;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    user-select: none; \n    padding-right: 10px;\n    text-align: right;\n    line-height: 2;\n}\n\n/* Basic row class */\n.row {\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n  display: flex;\n}\n\n/* Column class */\n.col {\n  float: left;\n  padding: 15px;\n  box-sizing: border-box;\n}\n\n/* 12-column classes */\n.col-1 { width: 8.33%; }\n.col-2 { width: 16.66%; }\n.col-3 { width: 25%; }\n.col-4 { width: 33.33%; }\n.col-5 { width: 41.66%; }\n.col-6 { width: 50%; }\n.col-7 { width: 58.33%; }\n.col-8 { width: 66.66%; }\n.col-9 { width: 75%; }\n.col-10 { width: 83.33%; }\n.col-11 { width: 91.66%; }\n.col-12 { width: 100%; }\n\n\n.chartTypeIcon{\n  max-height: 15px; \n  margin-right: 5px; \n  margin-top: 6px; \n  opacity: 0.5;\n  position: relative;\n  display: inline-block;\n  /* right: 20px; */\n  top: -6px;\n  filter: var(--library-icon-filter);\n}\n\n.propRowDynamicSwitch{\n    /* width: 5%; */\n    \n    width: 5%;\n    display: flex;\n    justify-content: left;\n    align-items: center;\n    cursor: pointer;\n    opacity:0.7;\n    left: 5px;\n    position: relative;\n}\n\n.propRowDynamicSwitch:hover{\n    opacity:1;\n}\n\n.foldableGroupHeader {\n  display: flex;\n  flex-direction: row;\n  gap: 2px;\n  padding: 5px 0px;\n  border-bottom: solid 1px var(--badge-background);\n  margin-bottom: 10px;\n  position: relative;\n}\n\n.groupHeaderContent{\n    width:50px;\n    flex-grow: 1;\n}\n.propRow:hover .removeBtnCnt{\n    opacity: 0.5;\n}\n.removeBtnCnt{\n    opacity: 0;\n    cursor: pointer;\n    left: -16px;\n}\n.foldableGroupHeader:hover .removeBtnCnt{\n    opacity: 0.5;\n}\n.removeBtnCnt:hover{\n    opacity: 1 !important;\n}\n\n</style>","import script from \"./ChartPropertiesSection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChartPropertiesSection.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChartPropertiesSection.vue?vue&type=style&index=0&id=6bcc04fe&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6bcc04fe\"]])\n\nexport default __exports__\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QIcon});\n","<template>\n    <div class=\"chartConfigContainer\" v-if=\"selectedComponent && selectedComponent.attributes.type=='plotly'\">\n        <div class=\"tabSelector\">\n            <div @click=\"currentTabIndex=tab.id\" :class=\"{ tabItem:true, tabItemSelected:tab.id==currentTabIndex }\" v-for=\"tab in tabsList\" :key=\"tab\">\n              {{ tab.name }}\n              <!-- <div class=\"propRowDynamicSwitch tabSwitch\" @click=\"setSpecialAttributeAsConstant(tab.key)\">\n                  <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"attributeIsBinding(tab.key)\" draggable=\"false\" />\n                  <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\" v-if=\"!attributeIsBinding(tab.key)\" draggable=\"false\" />\n              </div> -->\n            </div>\n        </div>\n        \n        <!-- ---------------------------------------------------\n                            DATA (TRACES)\n        --------------------------------------------------- -->\n        <div class=\"tabSectionContainer\" v-if=\"currentTabIndex==0\">\n\n         <!-- --------- BINDING CASE --------- -->\n          <div v-if=\"attributeIsBinding('data')\" class=\"propRow\" style=\"margin-top: 20px;\">            \n            <div class=\"removeBtnCnt\" style=\"width:20px; cursor: auto;\" ></div>\n            <div class=\"propRowLabel\" title=\"Data object for the chart\">Data Binding: </div>\n            <div class=\"propRowControl\">\n                <select class=\"propInput propInputDynamic\" v-model=\"selectedComponent.attributes.attributes.gb_b__data\" @change=\"dataChanged\" \n                @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent attrname=\"gb_b_data\">\n                    <option v-for=\"binding in filteredModelFields.data\" :key=\"'binding_'+binding.name\" :value=\"binding.name\">{{binding.label ? binding.label : binding.name }}</option>\n                </select>\n            </div>\n\n            <div class=\"propRowDynamicSwitch\" @click=\"setSpecialAttributeAsConstant('data')\">\n                <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" draggable=\"false\" />\n            </div>\n          </div>\n\n\n         <!-- --------- NOT-BINDING CASE --------- -->\n          <div class=\"tracesContainer\" style=\"position: relative;\" v-else>\n            <div style=\"width: 100%; justify-content: flex-end; display: flex; margin: 10px 0px 0px;\">\n              <div class=\"nanoButton\" style=\"\" @click=\"setSpecialAttributeAsBinding('data')\" v-if=\"getBindingsOfType( 'PlotlyBase.GenericTrace' ).length > 0\">\n                <div style=\"\">Use Binding</div>\n                <div class=\"\">\n                  <!-- <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"attributeIsBinding('data')\" draggable=\"false\" /> -->\n                  <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\" draggable=\"false\" />\n                </div>\n              </div>\n            </div>\n            <!-- <div class=\"propRowDynamicSwitch tabSwitch\" @click=\"setSpecialAttributeAsConstant('data')\">\n                  <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"attributeIsBinding('data')\" draggable=\"false\" />\n                  <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\" v-if=\"!attributeIsBinding('data')\" draggable=\"false\" />\n              </div>\n            </div> -->\n\n            <div class=\"foldableGroup\" v-for=\"(trace, index) in traces\" :key=\"trace\">\n                <div class=\"foldableGroupContent\">\n                    <div class=\"subgroup\">\n                        \n                        <div class=\"subgroupContent\">\n                            <ChartPropertiesSection \n                            :showSectionTitle=\"true\"\n                            :sectionIndex=\"index\" \n                            :treeObject=\"trace\" \n                            :dataSourceColumns=\"getSelectedDataSourceColumns\"\n                            :propertiesDefinition=\"tracePropertiesDefinition\" \n                            :modelFields=\"getAllModelFields\" \n                            @removeTrace=\"removeTrace\"\n                            @change=\"dataChanged\"/>                            \n                        </div>\n                    </div>\n                    <div class=\"addPropertyButtonRow\">\n                      <vscode-button @click=\"showAddPropertyList(trace)\" style=\"\">Add Property</vscode-button> \n                    </div>\n                  <AddPropertyDialog v-if=\"addPropertyDestination==trace\" :defObject=\"tracePropertiesDefinition\" :destination=\"addPropertyDestination\" :propslist=\"availableDataProperties(tracePropertiesDefinition, trace)\" @propAdded=\"addProperty\" @close=\"hideAddProperty\">\n                  </AddPropertyDialog>\n                  \n                \n              </div>\n            </div>\n          </div>\n          \n          <div  v-if=\"!attributeIsBinding('data')\" style=\"border-top: solid 1px var(--badge-background); padding: 20px;     text-align: center;\">\n            <vscode-button class=\"addTraceButton\" @click=\"addNewTrace\">Add Trace</vscode-button>\n\n            <!-- <div class=\"toggleBindingModeContainer\"  style=\"margin-top: 20px; font-size: 0.6rem; color: #ccc;\">\n            or switch to <span @click=\"setSpecialAttributeAsBinding('data')\" style=\"text-decoration: underline; color:#fff;\">binding mode</span>\n            </div> -->\n          </div>\n        </div>\n\n        <!-- ---------------------------------------------------\n                              LAYOUT\n        --------------------------------------------------- -->\n        <div class=\"tabSectionContainer\" v-if=\"currentTabIndex==1\">\n         <!-- --------- BINDING CASE --------- -->\n          <div v-if=\"attributeIsBinding('layout')\" class=\"propRow\" style=\"margin-top: 20px;\">  \n            <div class=\"removeBtnCnt\" style=\"width:20px; cursor: auto;\" ></div>\n            <div class=\"propRowLabel\" title=\"Data object for the chart\">Layout Binding: </div>\n            <div class=\"propRowControl\">\n                <select class=\"propInput propInputDynamic\" v-model=\"selectedComponent.attributes.attributes.gb_b__layout\" @change=\"layoutChanged\" \n                @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent attrname=\"gb_b_layout\">\n                    <option v-for=\"binding in filteredModelFields.layout\" :key=\"'binding_'+binding.name\" :value=\"binding.name\">{{binding.label ? binding.label : binding.name }}</option>\n                </select>\n            </div>\n\n            <div class=\"propRowDynamicSwitch\" @click=\"setSpecialAttributeAsConstant('layout')\">\n                <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" draggable=\"false\" />\n            </div>\n          </div>\n\n         <!-- --------- NOT-BINDING CASE --------- -->\n          <div v-else>\n            <div style=\"width: 100%; justify-content: flex-end; display: flex; margin: 10px 0px 0px;\">\n              <div class=\"nanoButton\" style=\"\" @click=\"setSpecialAttributeAsBinding('layout')\" v-if=\"getBindingsOfType( 'PlotlyBase.Layout' ).length > 0\">\n                <div style=\"\">Use Binding</div>\n                <div class=\"\">\n                  <!-- <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"attributeIsBinding('data')\" draggable=\"false\" /> -->\n                  <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\"  draggable=\"false\" />\n                </div>\n              </div>\n            </div>\n            <div class=\"subgroup\">\n                \n                <div class=\"subgroupContent\">\n                    <ChartPropertiesSection \n                    :treeObject=\"layout\" \n                    :dataSourceColumns=\"getSelectedDataSourceColumns\"\n                    :propertiesDefinition=\"layoutPropertiesDefinition\" \n                    :modelFields=\"getAllModelFields\" \n                    @change=\"layoutChanged\"/>                            \n                </div>\n            </div>\n            <div class=\"addPropertyButtonRow\">\n              <vscode-button v-if=\"!addPropertyDestination\" @click=\"showAddPropertyList(layout)\" style=\"\">Add Property</vscode-button> \n            </div>\n            <AddPropertyDialog v-if=\"addPropertyDestination==layout\" :defObject=\"layoutPropertiesDefinition\" :destination=\"layout\" :propslist=\"availableDataProperties(layoutPropertiesDefinition, layout)\" @propAdded=\"addProperty\" @close=\"hideAddProperty\">\n            </AddPropertyDialog>\n          </div>\n        </div>\n\n        <!-- ---------------------------------------------------\n                              CONFIG\n        --------------------------------------------------- -->\n        <div class=\"tabSectionContainer\" v-if=\"currentTabIndex==2\">\n         <!-- --------- BINDING CASE --------- -->\n          <div v-if=\"attributeIsBinding('config')\" class=\"propRow\" style=\"margin-top: 20px;\">  \n            <div class=\"removeBtnCnt\" style=\"width:20px; cursor: auto;\" ></div>\n            <div class=\"propRowLabel\" title=\"Data object for the chart\">Config Binding: </div>\n            <div class=\"propRowControl\">\n                <select class=\"propInput propInputDynamic\" v-model=\"selectedComponent.attributes.attributes.gb_b__config\" @change=\"configChanged\" \n                @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent attrname=\"gb_b_config\">\n                    <option v-for=\"binding in filteredModelFields.config\" :key=\"'binding_'+binding.name\" :value=\"binding.name\">{{binding.label ? binding.label : binding.name }}</option>\n                </select>\n            </div>\n\n            <div class=\"propRowDynamicSwitch\" @click=\"setSpecialAttributeAsConstant('config')\">\n                <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" draggable=\"false\" />\n            </div>\n          </div>\n\n         <!-- --------- NOT-BINDING CASE --------- -->\n          <div v-else>\n            <div style=\"width: 100%; justify-content: flex-end; display: flex; margin: 10px 0px 0px;\">\n              <div class=\"nanoButton\" style=\"\" @click=\"setSpecialAttributeAsBinding('config')\" v-if=\"getBindingsOfType( 'Object' ).length > 0\">\n                <div style=\"\">Use Binding</div>\n                <div class=\"\">\n                  <!-- <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"attributeIsBinding('data')\" draggable=\"false\" /> -->\n                  <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\" draggable=\"false\" />\n                </div>\n              </div>\n            </div>\n            <div class=\"subgroup\">\n                \n                <div class=\"subgroupContent\">\n                    <ChartPropertiesSection \n                    :treeObject=\"config\" \n                    :dataSourceColumns=\"getSelectedDataSourceColumns\"\n                    :propertiesDefinition=\"configPropertiesDefinition\" \n                    :modelFields=\"getAllModelFields\" \n                    @change=\"configChanged\"/>                            \n                </div>\n            </div>\n            <div class=\"addPropertyButtonRow\">\n              <vscode-button v-if=\"!addPropertyDestination\" @click=\"showAddPropertyList(config)\" style=\"\">Add Property</vscode-button> \n            </div>\n            <AddPropertyDialog v-if=\"addPropertyDestination==config\" :defObject=\"configPropertiesDefinition\" :destination=\"config\" :propslist=\"availableDataProperties(configPropertiesDefinition, config)\" @propAdded=\"addProperty\" @close=\"hideAddProperty\">\n            </AddPropertyDialog>\n              \n          </div>\n        </div>\n\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeMount, computed } from 'vue'\nimport AddPropertyDialog from './panels/properties/AddPropertyDialog.vue';\nimport ChartPropertiesSection from './ChartPropertiesSection.vue';\nimport Configuration from '../utils/Configuration';\n\nconst emit = defineEmits(['chartpropmodechanged']);\n\nconst mybool = ref(true);\n// ====================== PROPS ====================== \n\nconst props = defineProps(['appData', 'selectedComponent', 'blockPropertyDefinition', 'filteredModelFields']);\n\n\n\nfunction attributeIsBinding(attributeName ){\n  let isBinding = props.selectedComponent.attributes.attributes['gb_b__'+attributeName] != null;\n  return isBinding;\n}\n\n// ====================== DATA ====================== \n\nlet currentTabIndex = ref(0);\nlet tabsList = ref( [ \n  { id:0, name:\"Data\", key:\"data\" }, \n  { id:1, name:\"Layout\", key:\"layout\" }, \n  { id:2, name:\"Config\", key:\"config\" } \n] );\n\nlet dataSourceFields = ref(null);\n\nlet showAddConfigProperty = ref(false);\nlet addPropertyDestination = ref(null);\n\nlet traces = ref([]);\nlet config = ref([]);\nlet layout = ref([]);\nlet modelFields = ref(props.appData.pages[Configuration.currentPageIndex].model.fields);\nlet modelFieldsDict = {};\nmodelFields.value.forEach( (field)=>{\n    modelFieldsDict[field.name] = field;\n})\n\n\n\n\n/* \nlet tracePropertiesDefinition = ref([\n  { id:\"name\", label:\"Name\", type: \"string\", default: \"\" },\n  { id:\"type\", label:\"Type\", type: \"enum\", default: \"scatter\", options:[\"scatter\",\"bar\",\"histogram\",\"pie\", \"box\", \"histogram2d\", \"parcats\",\"heatmap\",\"contour\",\"funnel\", \"indicator\"] },\n  { id:\"mode\", label:\"Mode\", type: \"enum\", default: \"markers\", options:[\"markers\",\"lines\",\"lines+markers\", \"none\", \"gauge\", \"number\", \"gauge+number\"] },\n  { id:\"x\", label:\"X\", type: \"array\", default: [0,1,2,3,4,5] },\n  { id:\"y\", label:\"Y\", type: \"array\", default: [2,4,8,16,32] },\n  { id:\"z\", label:\"Z\", type: \"array\", default: [3,5,7,9,11] },\n  { id:\"dimensions\", label:\"Dimensions\", type: \"array\", default: [] },\n  { id:\"counts\", label:\"Counts\", type: \"array\", default: [] },\n  { id:\"values\", label:\"Values\", type: \"array\", default: [1,3,5] },\n  { id:\"labels\", label:\"Labels\", type: \"array\", default: ['a', 'b', 'c'] },\n  { id:\"fill\", label:\"Fill\", type: \"enum\", default: 'tozeroy', options:['tozeroy', 'tonexty'] },\n  { id:\"orientation\", label:\"Orientation\", type: \"enum\", default: 'v', options:['v', 'h'] },\n  { id:\"marker.size\", label:\"Marker Size\", type: \"number\", default: 5 },\n  { id:\"marker.color\", label:\"Marker Color\", type: \"color\", default: '#2578B4' },\n  { id:\"value\", label:\"Value\", type: \"number\", default: 0 },\n  { id:\"delta.reference\", label:\"Delta Reference\", type: \"number\", default: 0 },\n  { id:\"title.text\", label:\"Title Text\", type: \"string\", default: 'Title' },\n  { id:\"gauge.axis.range\", label:\"Gauge Axis Range\", type: \"array\", default: [0,1] },\n  { id:\"error_y.type\", label:\"ErrorY Type\", type: \"string\", default: 'data' },\n  { id:\"error_y.array\", label:\"ErrorY Array\", type: \"array\", default: [1,2,3,4,5] },\n  { id:\"error_y.visible\", label:\"ErrorY Visible\", type: \"boolean\", default: true },\n]); */\n\nlet tracePropertiesDefinition = ref([\n  { id:\"name\", label:\"Name\", type: \"string\", default: \"\" },\n  { id:\"type\", label:\"Type\", type: \"enum\", default: \"scatter\", options:[\"scatter\",\"bar\",\"histogram\",\"pie\", \"box\", \"histogram2d\", \"histogram2dcontour\", \"parcats\",\"heatmap\",\"heatmapgl\",\"contour\",\"funnel\",\"funnelarea\",\"indicator\",\"isosurface\",\"mesh3d\",\"ohlc\",\"candlestick\",\"scatter3d\",\"scattergeo\",\"scattergl\",\"surface\",\"table\",\"timeline\",\"violin\",\"waterfall\"] },\n  { id:\"mode\", label:\"Mode\", type: \"enum\", default: \"markers\", options:[\"markers\",\"lines\",\"lines+markers\", \"none\", \"gauge\", \"number\", \"gauge+number\", \"text\"] },\n  { id:\"x\", label:\"X\", type: \"array\", default: [0,1,2,3,4,5] },\n  { id:\"y\", label:\"Y\", type: \"array\", default: [2,4,8,16,32] },\n  { id:\"z\", label:\"Z\", type: \"array\", default: [3,5,7,9,11] },\n  { id:\"u\", label:\"U\", type: \"array\", default: [] }, // For Cone\n  { id:\"v\", label:\"V\", type: \"array\", default: [] }, // For Cone\n  { id:\"w\", label:\"W\", type: \"array\", default: [] }, // For Cone\n  { id:\"i\", label:\"I\", type: \"array\", default: [] }, // For Mesh3D\n  { id:\"j\", label:\"J\", type: \"array\", default: [] }, // For Mesh3D\n  { id:\"k\", label:\"K\", type: \"array\", default: [] }, // For Mesh3D\n  { id:\"open\", label:\"Open\", type: \"array\", default: [] }, // For OHLC, Candlestick\n  { id:\"high\", label:\"High\", type: \"array\", default: [] },\n  { id:\"low\", label:\"Low\", type: \"array\", default: [] },\n  { id:\"close\", label:\"Close\", type: \"array\", default: [] },\n  { id:\"dimensions\", label:\"Dimensions\", type: \"array\", default: [] },\n  { id:\"counts\", label:\"Counts\", type: \"array\", default: [] },\n  { id:\"values\", label:\"Values\", type: \"array\", default: [1,3,5] },\n  { id:\"labels\", label:\"Labels\", type: \"array\", default: ['a', 'b', 'c'] },\n  { id:\"fill\", label:\"Fill\", type: \"enum\", default: 'tozeroy', options:['tozeroy', 'tonexty', 'toself', 'tonext'] },\n  { id:\"orientation\", label:\"Orientation\", type: \"enum\", default: 'v', options:['v', 'h'] },\n  { id:\"marker.size\", label:\"Marker Size\", type: \"number\", default: 5 },\n  { id:\"marker.color\", label:\"Marker Color\", type: \"color\", default: '#2578B4' },\n  { id:\"locationmode\", label:\"Locationmode\", type: \"string\", default: \"country names\" }, // For Choropleth\n  { id:\"locations\", label:\"Locations\", type: \"array\", default: [] }, // For Choropleth\n  { id:\"text\", label:\"Text\", type: \"array\", default: [] }, // General, for annotations\n  { id:\"value\", label:\"Value\", type: \"number\", default: 0 },\n  { id:\"delta.reference\", label:\"Delta Reference\", type: \"number\", default: 0 },\n  { id:\"title.text\", label:\"Title Text\", type: \"string\", default: 'Title' },\n  { id:\"gauge.axis.range\", label:\"Gauge Axis Range\", type: \"array\", default: [0,1] },\n  { id:\"error_y.type\", label:\"ErrorY Type\", type: \"string\", default: 'data' },\n  { id:\"error_y.array\", label:\"ErrorY Array\", type: \"array\", default: [1,2,3,4,5] },\n  { id:\"error_y.visible\", label:\"ErrorY Visible\", type: \"boolean\", default: true },\n  { id:\"sizemode\", label:\"SizeMode\", type: \"string\", default: \"diameter\" }, // For Bubble charts\n  { id:\"sizeref\", label:\"SizeRef\", type: \"number\", default: 2 }, // For Bubble charts\n  { id:\"autobinx\", label:\"AutoBinX\", type: \"boolean\", default: true }, // For histograms\n  { id:\"nbinsx\", label:\"NBinsX\", type: \"number\", default: 10 }, // For histograms\n  { id:\"autobiny\", label:\"AutoBinY\", type: \"boolean\", default: true }, // For 2D histograms\n  { id:\"nbinsy\", label:\"NBinsY\", type: \"number\", default: 10 }, // For 2D histograms\n  { id:\"hoverinfo\", label:\"HoverInfo\", type: \"string\", default: \"all\" },\n  { id:\"hovertemplate\", label:\"HoverTemplate\", type: \"string\", default: \"\" },\n  // Additional properties specific to various chart types\n  { id:\"boxpoints\", label:\"BoxPoints\", type: \"string\", default: \"all\" }, // For Box plots\n  { id:\"notched\", label:\"Notched\", type: \"boolean\", default: false }, // For Box plots\n  { id:\"whiskerwidth\", label:\"WhiskerWidth\", type: \"number\", default: 0.5 }, // For Box plots\n  { id:\"fillcolor\", label:\"FillColor\", type: \"color\", default: \"#888\" }, // General appearance\n  { id:\"line.color\", label:\"Line Color\", type: \"color\", default: \"#888\" }, // General appearance\n  { id:\"line.width\", label:\"Line Width\", type: \"number\", default: 2 }, // General appearance\n  { id:\"line.shape\", label:\"Line Shape\", type: \"string\", default: \"linear\" }, // For Line charts\n  { id:\"line.smoothing\", label:\"Line Smoothing\", type: \"number\", default: 1.3 }, // For Line charts\n  { id:\"colorscale\", label:\"ColorScale\", type: \"string\", default: \"Viridis\" }, // For Heatmaps, Contours\n  { id:\"showscale\", label:\"ShowScale\", type: \"boolean\", default: true }, // For Heatmaps, Contours\n  { id:\"reversescale\", label:\"ReverseScale\", type: \"boolean\", default: false }, // For Heatmaps, Contours\n  { id:\"contours.coloring\", label:\"Contours Coloring\", type: \"string\", default: \"fill\" }, // For Contour plots\n  { id:\"contours.start\", label:\"Contours Start\", type: \"number\", default: 0 }, // For Contour plots\n  { id:\"contours.end\", label:\"Contours End\", type: \"number\", default: 10 }, // For Contour plots\n  { id:\"contours.size\", label:\"Contours Size\", type: \"number\", default: 1 }, // For Contour plots\n  { id:\"opacity\", label:\"Opacity\", type: \"number\", default: 0.8 }, // General appearance\n  { id:\"cmin\", label:\"Cmin\", type: \"number\", default: 0 }, // For Color scales\n  { id:\"cmax\", label:\"Cmax\", type: \"number\", default: 10 }, // For Color scales\n  { id:\"colorbar.title\", label:\"ColorBar Title\", type: \"string\", default: \"ColorBar\" }, // For Color scales\n  { id:\"colorbar.tickvals\", label:\"ColorBar TickVals\", type: \"array\", default: [] }, // For Color scales\n  { id:\"colorbar.ticktext\", label:\"ColorBar TickText\", type: \"array\", default: [] }, // For Color scales\n  { id:\"autocolorscale\", label:\"AutoColorScale\", type: \"boolean\", default: true }, // For Color scales\n  { id:\"showlegend\", label:\"ShowLegend\", type: \"boolean\", default: true }, // General appearance\n  { id:\"legendgroup\", label:\"LegendGroup\", type: \"string\", default: \"\" }, // For grouping legend items\n\n  // Scatter Mapbox \n  { id:\"lat\", label:\"Lat\", type: \"array\", default: [38] },\n  { id:\"lon\", label:\"Lon\", type: \"array\", default: [-90] },\n\n  // Ensure to include properties for specific visualization needs not covered here.\n]);\n\nlet configPropertiesDefinition = ref([\n  { id:\"autosizable\", label:\"Autosizable\", type: \"boolean\", default: false },\n  { id:\"displaylogo\", label:\"Display Logo\", type: \"boolean\", default: true },\n  { id:\"scrollZoom\", label:\"Scroll Zoom\", type: \"boolean\", default: true },\n  { id:\"editable\", label:\"Editable\", type: \"boolean\", default: true },\n  { id:\"displayModeBar\", label:\"Mode Bar\", type: \"boolean\", default: true },\n]);\nlet layoutPropertiesDefinition = ref([\n  { id:\"title\", label:\"Title\", type: \"string\", default: \"Hello Def\" },\n  { id:\"showlegend\", label:\"Show Legend\", type: \"boolean\", default: true },\n  { id:\"legend.x\", label:\"Legend X\", type: \"number\", default: 1 },\n  { id:\"legend.y\", label:\"Legend Y\", type: \"number\", default: 1 },\n  { id:\"legend.xanchor\", label:\"Legend X-Anchor\", type: \"enum\", default: \"right\", options: [\"left\", \"right\"] },\n  { id:\"legend.yanchor\", label:\"Legend Y-Anchor\", type: \"enum\", default: \"right\", options: [\"left\", \"right\"] },\n  { id:\"legend.orientation\", label:\"Legend Orientation\", type: \"enum\", default: \"v\", options: [\"v\", \"h\"] },\n  { id:\"paper_bgcolor\", label:\"Paper\", type: \"color\", default: \"#ffffff\" },\n  { id:\"plot_bgcolor\", label:\"Background\", type: \"color\", default: \"#ffffff\" },\n  { id:\"font.color\", label:\"Font Color\", type: \"color\", default: \"#000000\" },\n  { id:\"font.size\", label:\"Font Size\", type: \"number\", default: 10 },\n\n  { id:\"xaxis.title.text\", label:\"X-Axis Title Text\", type: \"string\", default: \"Axis Title\" },\n  { id:\"xaxis.title.font.size\", label:\"X-Axis Title Font Size\", type: \"number\", default: 24 },\n  { id:\"xaxis.title.font.color\", label:\"X-Axis Title Font Color\", type: \"color\", default: \"#000000\" },\n  \n  { id:\"yaxis.title.text\", label:\"Y-Axis Title Text\", type: \"string\", default: \"Axis Title\" },\n  { id:\"yaxis.title.font.size\", label:\"Y-Axis Title Font Size\", type: \"number\", default: 24 },\n  { id:\"yaxis.title.font.color\", label:\"Y-Axis Title Font Color\", type: \"color\", default: \"#000000\" },\n\n  { id:\"dragmode\", label:\"Dragmode\", type: \"enum\", default: \"zoom\", options:[\"zoom\"] },\n  { id:\"mapbox.style\", label:\"Mabox Style\", type: \"enum\", default: \"open-street-map\", options:[\"open-street-map\"] },\n  { id:\"mapbox.center.lat\", label:\"Mapbox Center Lat\", type: \"number\", default: 38 },\n  { id:\"mapbox.center.lon\", label:\"Mapbox Center Lon\", type: \"number\", default: -90 },\n  { id:\"mapbox.zoom\", label:\"Mapbox Zoom\", type: \"number\", default: 3 },\n  { id:\"margin.l\", label:\"Margin L\", type: \"number\", default: 0 },\n  { id:\"margin.t\", label:\"Margin T\", type: \"number\", default: 0 },\n  { id:\"margin.r\", label:\"Margin R\", type: \"number\", default: 0 },\n  { id:\"margin.b\", label:\"Margin B\", type: \"number\", default: 0 },\n\n  { id:\"width\", label:\"Width\", type: \"number\", default: 500 },\n  { id:\"height\", label:\"Height\", type: \"number\", default: 500 },\n  { id:\"xaxis.showgrid\", label:\"Show X grid\", type: \"boolean\", default: true },\n  { id:\"yaxis.showgrid\", label:\"Show Y grid\", type: \"boolean\", default: true },\n  { id:\"xaxis.range\", label:\"X range\", type: \"array\", default: [0,1500] },\n  { id:\"xaxis.visible\", label:\"X visible\", type: \"boolean\", default: false },\n\n]);\n\nconst isPro = computed(() => {\n    return Configuration.IS_PRO;\n});\n\n\n\nfunction getFieldsOfDataFrameType(){\n  let dsFields = props.appData.pages[Configuration.currentPageIndex].model.fields.filter( (field)=>{ \n    return  field.type == \"DataFrames.DataFrame\" || \n            field.type == \"PlotlyData\" || \n            field.type == \"DataTable.DataFrames.DataFrame\"\n  } );\n  dataSourceFields.value = dsFields;\n}\n\n// ====================== COMPUTED ====================== \n\nconst getAllModelFields = computed(() => {\n  let fields = props.appData.pages[Configuration.currentPageIndex].model.fields;\n  let result = [];\n  fields.forEach( (field)=>{\n    if( field.type == 'DataTable.DataFrames.DataFrame' ){\n      let props = field.props;\n      if( props ){\n        props.forEach( (prop)=>{\n          result.push( { name:field.name + '.' + prop, type:field.type } );\n        } )\n      }\n    }else if( field.type == 'DataFrames.DataFrame' ){\n        let columns = field.columns;\n        if( columns ){\n          columns.forEach( (column)=>{\n            result.push( { name:field.name + '.' + column, type:field.type } );\n          } )\n        }\n      }\n    result.push( { name:field.name, type:field.type } );\n  } )\n  // sort alphabetically ignoring case\n  result.sort( (a,b)=>{\n    return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n  } )\n  return result;\n  //return ['uno', 'dos', 'tres'];\n})\n\nconst getSelectedDataSourceColumns = computed(() => {\n  let selectedDataSourceColumns = [];\n\n  // Extract columns or props from dataframes\n  console.log( 'dataSourceFields', dataSourceFields );\n  dataSourceFields.value.forEach( (field)=>{\n    // Dataframes expected to have columns\n    if( field.type.indexOf( 'DataFrames.DataFrame') == 0 ){\n      let columns = field.columns;\n      if( columns ){\n\n        columns.forEach( (column)=>{\n          selectedDataSourceColumns.push( field.name + \".\" + column );\n        } )\n      }\n    }\n    // DataTables expected to have props\n    let props = field.props;\n    if( props )\n    props.forEach( (prop)=>{\n      selectedDataSourceColumns.push( field.name + \".\" + prop );\n    } )\n  } )\n  // add array-type fields\n  props.appData.pages[Configuration.currentPageIndex].model.fields.forEach( (field)=>{\n    if( field.type == \"Array\" ){\n      selectedDataSourceColumns.push( field.name );\n    }\n  } )\n\n\n\n  /* let selectedDataSourceName = selectedDataSource.value;\n  if( selectedDataSourceName ){\n    let selectedDataSourceField = dataSourceFields.value.find( (field)=>{ return field.name == selectedDataSourceName } );\n    if( selectedDataSourceField ){\n      selectedDataSourceColumns = selectedDataSourceField.columns;\n    }\n  } */\n  return selectedDataSourceColumns;\n})\n\nfunction availableDataProperties(defObject, destination) {\n  let notUsedProperties = defObject.filter( (propDef)=>{\n    let isUsed = false;\n    let existingProperty = getNestedProperty(destination, propDef.id);\n    if( existingProperty != null ){\n      isUsed = true;\n    }    \n    return !isUsed;\n  })\n  return notUsedProperties;\n};\n\nconst availableConfigProperties = computed(() => {\n  let notUsedProperties = configPropertiesDefinition.value.filter( (propDef)=>{\n    let isUsed = false;\n    let existingProperty = getNestedProperty(addPropertyDestination.value, propDef.id);\n    if( existingProperty != null ){\n      isUsed = true;\n    }    \n    return !isUsed;\n  })\n  return notUsedProperties;\n})\n\n\n\n\n\n// ====================== Methods ====================== \n\nfunction setSpecialAttributeAsConstant(key){\n  const functionMap = {\n    'data': setDataAsConstant,\n    'layout': setLayoutAsConstant,\n    'config': setConfigAsConstant\n  }\n  if( functionMap[key] )  \n    functionMap[key]();\n  else\n    console.error( 'setSpecialAttributeAsConstant: key not found', key );\n}\n\nfunction setSpecialAttributeAsBinding(key){\n  const functionMap = {\n    'data': setDataAsBinding,\n    'layout': setLayoutAsBinding,\n    'config': setConfigAsBinding\n  }\n  if( functionMap[key] )  \n    functionMap[key]();\n  else\n    console.error( 'setSpecialAttributeAsBinding: key not found', key );\n}\n\nfunction getBindingsOfType( type ){\n  return modelFields.value.filter( (field)=>{ return field.type == type } );\n}\n\nfunction setDataAsBinding(){\n  let matchingModelFields = modelFields.value.filter( (field)=>{ return field.type == 'PlotlyBase.GenericTrace' } );\n  if( matchingModelFields.length == 0 ){\n    console.error( 'setDataAsBinding: No matching model fields found for type ', 'PlotlyBase.GenericTrace' );    \n    return;\n  }\n\n  delete props.selectedComponent.gb_c__data;\n  let newBindingValue = matchingModelFields[0].name;\n  props.selectedComponent.gb_b__data = newBindingValue;\n  traces.value = newBindingValue;\n  submitChanges();\n  setSelectedComponent( props.selectedComponent );\n  emit('chartPropModeChanged', 'gb_c__data', newBindingValue );\n}\n\nfunction setLayoutAsBinding(){\n  let matchingModelFields = modelFields.value.filter( (field)=>{ return field.type == 'PlotlyBase.Layout' } );\n  if( matchingModelFields.length == 0 ){\n    console.error( 'setLayoutAsBinding: No matching model fields found for type ', 'PlotlyBase.Layout' );    \n    return;\n  }\n\n  delete props.selectedComponent.gb_c__layout;\n  let newBindingValue = matchingModelFields[0].name;\n  props.selectedComponent.gb_b__layout = newBindingValue;\n  layout.value = newBindingValue;\n  submitChanges();\n  setSelectedComponent( props.selectedComponent );\n  emit('chartPropModeChanged', 'gb_c__layout', newBindingValue );\n}\n\nfunction setConfigAsBinding(){\n  let matchingModelFields = modelFields.value.filter( (field)=>{ return field.type == 'Object' } );\n  if( matchingModelFields.length == 0 ){\n    console.error( 'setConfigAsBinding: No matching model fields found for type ', 'Object' );    \n    return;\n  }\n\n  delete props.selectedComponent.gb_c__config;\n  let newBindingValue = matchingModelFields[0].name;\n  props.selectedComponent.gb_b__config = newBindingValue;\n  config.value = newBindingValue;\n  submitChanges();\n  setSelectedComponent( props.selectedComponent );\n  emit('chartPropModeChanged', 'gb_c__config', newBindingValue );\n}\n\nfunction getModelFieldsOfType(type){\n  return modelFields.value.filter( (field)=>{ return field.type == type } );\n}\n\nfunction setDataAsConstant(){\n  delete props.selectedComponent.gb_b__data;\n  let newConstantValue = [{\"gbtype\":\"Bar Chart\",\"x\":[],\"y\":[],\"type\":\"bar\",\"name\":\"Trace\"}];\n  props.selectedComponent.gb_c_data = newConstantValue;\n  traces.value = newConstantValue;\n  submitChanges();\n  setSelectedComponent( props.selectedComponent );\n  emit('chartPropModeChanged', 'gb_b__data', btoa( JSON.stringify(newConstantValue) ) );\n}\n\nfunction setLayoutAsConstant(){\n  delete props.selectedComponent.gb_b__layout;\n  let newConstantValue = {\"title\":\"Chart Title\"};\n  props.selectedComponent.gb_c_layout = newConstantValue;\n  layout.value = newConstantValue;\n  submitChanges();\n  setSelectedComponent( props.selectedComponent );\n  emit('chartPropModeChanged', 'gb_b__layout', btoa( JSON.stringify(newConstantValue) ) );\n}\n\nfunction setConfigAsConstant(){\n  delete props.selectedComponent.gb_b__config;\n  let newConstantValue = {\"autosizable\":true,\"displaylogo\":true,\"scrollZoom\":true,\"editable\":true,\"displayModeBar\":true};\n  props.selectedComponent.gb_c_config = newConstantValue;\n  config.value = newConstantValue;\n  submitChanges();\n  setSelectedComponent( props.selectedComponent );\n  emit('chartPropModeChanged', 'gb_b__config', btoa( JSON.stringify(newConstantValue) ) );\n}\n\nfunction layoutChanged(newTreeObject){\n  submitChanges();\n}\nfunction configChanged(newTreeObject){\n  submitChanges();\n}\n\nfunction dataChanged(newTreeObject){\n  submitChanges();\n}\n\nfunction removeTrace(traceIndex){\n  console.log( 'removeTrace', traceIndex );\n  console.log( 'traces.value before: ', traces.value );\n  traces.value.splice(traceIndex, 1);\n  console.log( 'traces.value after: ', traces.value );\n  submitChanges();\n}\n\nfunction showAddPropertyList(destination){\n    addPropertyDestination.value = destination;\n}\n\nfunction hideAddProperty(){\n    addPropertyDestination.value = null;\n}\n\nfunction addProperty(prop, defObject, destination){\n  let propId = prop.id;\n  let propDef = defObject.find( (propDef)=>{ return propDef.id == propId } );\n  //addPropertyDestination.value = destination;\n  setNestedProperty(destination, propId, propDef.default);\n    submitChanges();\n}\n\nfunction getNestedProperty(obj, propName) {\n    const propParts = propName.split('.');\n    for (let i = 0; i < propParts.length; i++) {\n        if (!obj || !obj.hasOwnProperty(propParts[i])) {\n            return undefined;\n        }\n        obj = obj[propParts[i]];\n    }\n    return obj;\n}\n\nfunction setNestedProperty(obj, propName, value) {\n    const propParts = propName.split('.');\n    for (let i = 0; i < propParts.length - 1; i++) {\n        if (!obj.hasOwnProperty(propParts[i]) || typeof obj[propParts[i]] !== 'object') {\n            obj[propParts[i]] = {};\n        }\n        obj = obj[propParts[i]];\n    }\n    obj[propParts[propParts.length - 1]] = value;\n}\n\n\n\n\n\n\n\n\nfunction submitChanges(){\n  console.log( 'ChartProperties::submitChanges', selectedComponent.attributes.attributes );\n  let newAttributes = {};\n  let newData, newConfig, newLayout;\n  \n  if( attributeIsBinding('data') ){\n    newData = selectedComponent.attributes.attributes.gb_b__data\n    newAttributes.gb_b__data = newData;\n  }else{\n    newData = btoa( JSON.stringify(traces.value) );\n    newAttributes.gb_c__data = newData;\n  }\n  \n  if( attributeIsBinding('config') ){\n    newConfig = selectedComponent.attributes.attributes.gb_b__config\n    newAttributes.gb_b__config = newConfig;\n  }else{\n    newConfig = btoa( JSON.stringify(config.value) );\n    newAttributes.gb_c__config = newConfig;\n  }\n  \n  if( attributeIsBinding('layout') ){\n    newLayout = selectedComponent.attributes.attributes.gb_b__layout\n    newAttributes.gb_b__layout = newLayout;\n  }else{\n    newLayout = btoa( JSON.stringify(layout.value) );\n    newAttributes.gb_c__layout = newLayout;\n  }\n\n  props.selectedComponent.setAttributes( newAttributes );\n\n  props.selectedComponent.view.$el[0].vueApp.updateAttributes(newAttributes);\n  //props.selectedComponent.view.$el[0].vueApp.updateAttributes({data:newData, config: newConfig, layout:newLayout });\n  //props.selectedComponent.view.$el[0].vueApp.$forceUpdate();\n\n}\n\n\n  \nfunction setSelectedComponent(newComponent){\n \n  //let newComponent = props.selectedComponent;\n    if( !newComponent || newComponent.attributes.type != 'plotly' ){\n      traces.value = null;\n      config.value = null;\n      layout.value = null;\n      return;\n    }\n    let componentAttributesRaw = newComponent.getAttributes();\n    if( componentAttributesRaw.gb_c__data )\n      componentAttributesRaw.gb_c__data = atob(componentAttributesRaw.gb_c__data);\n    if( componentAttributesRaw.gb_c__config )\n      componentAttributesRaw.gb_c__config = atob(componentAttributesRaw.gb_c__config);\n    if( componentAttributesRaw.gb_c__layout )\n      componentAttributesRaw.gb_c__layout = atob(componentAttributesRaw.gb_c__layout);\n    \n\n    let data = componentAttributesRaw.gb_c__data || \"[]\";\n    data = JSON.parse(data);\n    traces.value = data;\n\n    let configInput = componentAttributesRaw.gb_c__config || \"{}\";\n    configInput = JSON.parse(configInput);\n    config.value = configInput;\n    \n    let layoutInput = componentAttributesRaw.gb_c__layout || \"{}\";\n    layoutInput = JSON.parse(layoutInput);\n    layout.value = layoutInput;\n}\n\nfunction findBindingValues(obj) {\n  let result = [];\n\n  function recurse(o) {\n    for (let key in o) {\n      if (typeof o[key] === 'object' && o[key] !== null) {\n        recurse(o[key]);\n      } else if (typeof o[key] === 'string' && o[key].startsWith('$_{') && o[key].endsWith('}')) {\n        result.push({ value: o[key] });\n      }\n    }\n  }\n\n  recurse(obj);\n  return result;\n}\n\nfunction addNewTrace(){\n  traces.value.push( { x:'', y:'', type:'scatter', name:'Trace' } )\n}\n\nfunction addNewTraceFromBinding(columnA, columnB){\n  traces.value.push(\n    { x:columnA, y:columnB, type:'scatter', name:'Trace' }, \n  );\n  submitChanges();\n\n}\nonBeforeMount( ()=>{\n    setSelectedComponent( props.selectedComponent );\n    getFieldsOfDataFrameType();\n});\n\ndefineExpose({\n    setSelectedComponent, addNewTraceFromBinding\n})\n\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n.chartConfigContainer::v-deep {\n  --grey0: #EEEEEE;\n  --grey1: #CCCCCC;\n  --grey2: #AAAAAA;\n  --grey3: #999999;\n  --grey4: #666666;\n  --grey5: #333333;\n\n  width: 100%;\n\n  input[type=text] {\n    width: 100%;\n    border-bottom: solid 1px var(--grey0);\n    padding: 2px 5px;\n  }\n\n  input[type=number] {\n    width: 100%;\n  }\n\n  input[type=color] {\n    width: 18px;\n    height: 20px;\n    padding: 0px;\n  }\n}\n\n.tabSelector {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  \n}\n\n.tabItem {\n  flex: 1;\n  text-align: center;\n  padding: 10px;\n  cursor: pointer;\n  border-bottom: solid 1px #ffffff00;\n  position: relative;\n  border-bottom: solid 1px #cccccc30\n}\n\n.tabSwitch{\n  position: absolute;\n  top: 3px;\n  right: 3px;\n}\n.tabItemSelected {\n  \n  border-bottom: solid 1px var(--grey0)\n}\n\n.tabSectionContainer {\n  display: flex;\n  flex-direction: column;\n}\n\n.foldableGroup {\n  display: flex;\n  flex-direction: column;\n}\n\n\n\n.foldableGroupContent {\n  display: flex;\n  flex-direction: column;\n\n}\n\n.subgroup {\n  padding: 0px 0px 5px;\n  display: flex;\n  flex-direction: column;\n\n\n  .subgroupTitle {\n    font-weight: bold;\n    padding: 0px 0px 5px;\n  }\n\n  .subgroupContent {\n    padding-top: 0px;\n  }\n\n  .subgroupContent {\n    .row {\n      padding: 5px 0px;\n    }\n  }\n}\n\n.addPropertyButtonRow {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  padding-bottom: 20px;\n}\n\n.addPropertyButton {\n  border: solid 1px #ccc;\n  padding: 0px 7px;\n  border-radius: 7px;\n  font-size: 1.1em;\n  width: min-content;\n\n}\n\n.propRow{\n    position: relative;\n    border-bottom: solid 1px var(--checkbox-background);\n    display: flex;\n    flex-direction: row;\n    gap: 10px;\n    padding: 5px 0px 5px;\n}\n.nanoButton{\n  width: max-content;\n  text-align: center;\n  display: flex;\n  padding: 0px 3px 0px 9px;\n  border: 1px solid rgb(204, 204, 204);\n  border-radius: 9px;\n  font-size: 0.64rem;\n  position: relative;\n  right: 0px;\n  opacity: 0.5;\n  user-select: none;\n  cursor: pointer;\n}\n.nanoButton:hover{\n  opacity: 1;\n}\n</style>\n","import script from \"./ChartProperties.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChartProperties.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ChartProperties.vue?vue&type=style&index=0&id=f312c504&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f312c504\"]])\n\nexport default __exports__","<template>\n    <div>\n        <div v-if=\"!component\" class=\"nothingSelected\">\n            <i>Nothing selected</i>\n        </div>\n\n        <div v-if=\"component && !licenseAllowsComponent(component)\" class=\"notProUI\">\n            This component requires a Pro license.<br/>\n            Upgrade to Pro and start using it now!<br/> <br/>\n            <vscode-button @click=\"showUpgradeLicenseDialog\" style=\"margin-right: 3px;\">Upgrade</vscode-button> \n        </div>\n\n        <div v-if=\"component && licenseAllowsComponent(component) && component.attributes.type != 'tempplaceholder' && ( component.attributes.type != 'plotly' )\">\n            <div style=\"user-select:none;\">\n                <div \n                    v-for=\"attributeObject in getCleanAttributesList()\" :key=\"attributeObject.name\" \n                    class=\"propRow\" \n                    >\n                    <div class=\"removeBtnCnt\" style=\"width:20px;\" v-if=\"component && component.attributes.type != 'plotly'\">\n                        <span v-if=\"attributeObject.def?.mandatory != true && attributeObject.name!='gb_b__v-model'\" @click=\"removeAttribute(attributeObject)\" title=\"Remove Property\" class=\"codicon codicon-settings\">\n                            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 14px; padding: 0px;\">delete</i>\n                        </span>\n                    </div>\n                    <div class=\"propRowLabel\" :title=\"attributeObject.def.name + ': ' + attributeObject.def.desc\">{{ attributeObject.def.label }}: </div>\n\n                    <!-- --------- NOT-BINDING CASE --------- -->\n                    \n                    <div v-if=\"!attributeIsBinding(attributeObject.name)\" class=\"propRowControl\">\n                        <!-- Dropdown (generic, with predefined ooptions) -->\n                        <vscode-dropdown \n                            v-if=\"attributeObject.def.uitype=='select'\"\n                            style=\"width: 100%; min-width: unset;\" \n                            :value=\"component.attributes.attributes[ attributeObject.name ]\"\n                            @input=\"(event) => component.attributes.attributes[ attributeObject.name ] = event.target.value\" \n                            @change=\"submitChanges\">\n                            <span slot=\"selected-value\" class=\"codicon codicon-settings\">\n                                {{ component.attributes.attributes[ attributeObject.name ] }}\n                            </span>\n                            <vscode-option :value=\"option\" v-for=\"option in attributeObject.def.options\" style=\"padding: 5px;\">\n                                {{ option }}</vscode-option>\n                        </vscode-dropdown>\n\n                        <!-- Dropdown for icons (uitype == 'enum_icons' in blockDefinitions) -->\n                        <vscode-dropdown \n                            v-else-if=\"attributeObject.def.uitype=='enum_icons'\"\n                            style=\"width: 100%; min-width: unset;\" \n                            :value=\"component.attributes.attributes[ attributeObject.name ]\"\n                            @input=\"(event) => component.attributes.attributes[ attributeObject.name ] = event.target.value\" \n                            @change=\"submitChanges\">\n                            <span slot=\"selected-value\" class=\"codicon codicon-settings\">\n                                <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 16px; padding: 5px;\">{{component.attributes.attributes[ attributeObject.name ]}}</i> {{ component.attributes.attributes[ attributeObject.name ] }}\n                            </span>\n                            <vscode-option :value=\"option\" v-for=\"option in attributeObject.def.options\" style=\"padding: 5px;\">\n                                <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 16px; \">{{option}}</i> {{ option }}</vscode-option>\n                        </vscode-dropdown>\n\n                        <!-- Dropdown for icons (uitype == 'enum_colors' in blockDefinitions) -->\n                        <vscode-dropdown \n                            v-else-if=\"attributeObject.def.uitype=='enum_colors'\"\n                            style=\"width: 100%; min-width: unset;\" \n                            :value=\"component.attributes.attributes[ attributeObject.name ]\"\n                            @input=\"(event) => component.attributes.attributes[ attributeObject.name ] = event.target.value\" \n                            @change=\"submitChanges\">\n                            <!-- this is to set the selected value region (component view when not expanded) -->\n                            <span slot=\"selected-value\">\n                                <q-icon name=\"circle\" :color=\"component.attributes.attributes[ attributeObject.name ]\" style=\"margin-right: 5px;\" /> \n                                {{ component.attributes.attributes[ attributeObject.name ] }}\n                            </span>\n                            <!-- this is to set the expanded otions views -->\n                            <vscode-option :value=\"option\" v-for=\"option in attributeObject.def.options\" style=\"padding: 5px;\">\n                                <q-icon name=\"circle\" :color=\"option\" style=\"margin-right: 5px;\" /> \n                                {{ option }}</vscode-option>\n                        </vscode-dropdown>\n                        <input \n                            :attrname=\"attributeObject.name\"  type=\"text\"\n                            v-else-if=\"attributeObject.def.uitype=='String' || (attributeObject.def.type=='String' && attributeObject.cleanName.indexOf('color') == -1) \" \n                            @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent class=\"propInput\" @change=\"submitChanges\" \n                            v-model=\"component.attributes.attributes[ attributeObject.name ]\" \n                            style=\"width: 220px%;\" \n                        />\n                        <input \n                            :attrname=\"attributeObject.name\"  type=\"text\"\n                            v-else-if=\"attributeObject.def.type=='Array'\" \n                            @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent class=\"propInput\" @change=\"submitChanges\" \n                            v-model=\"component.attributes.attributes[ attributeObject.name ]\" \n                            style=\"width: 220px%;\" \n                        />\n                        <input \n                            :attrname=\"attributeObject.name\"  type=\"text\"\n                            v-else-if=\"attributeObject.def.type=='Function'\" \n                            @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent class=\"propInput\" @change=\"submitChanges\" \n                            v-model=\"component.attributes.attributes[ attributeObject.name ]\" \n                            style=\"width: 220px%;\" \n                        />\n                        <input \n                            :attrname=\"attributeObject.name\"  type=\"color\"\n                            v-else-if=\"attributeObject.def.type=='String' && attributeObject.name.indexOf('color') > -1 \" \n                            @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent class=\"propInput\" @change=\"submitChanges\" \n                            v-model=\"component.attributes.attributes[ attributeObject.name ]\" \n                            style=\"padding: 0px 2px; height: 21px;\" \n                        />\n                        <input \n                            :attrname=\"attributeObject.name\"  type=\"number\"\n                            v-else-if=\"attributeObject.def.type=='Number'\" \n                            @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent class=\"propInput\" @change=\"submitChanges\" \n                            v-model=\"component.attributes.attributes[ attributeObject.name ]\"                         \n                        />\n                        <input \n                            :attrname=\"attributeObject.name\"  type=\"checkbox\"\n                            v-else-if=\"attributeObject.def.type=='Boolean'\" \n                            @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent class=\"propInput\" @change=\"submitChanges\"\n                            v-model=\"component.attributes.attributes[ attributeObject.name ]\" \n                            style=\"width: auto;\"                        \n                        />\n                    </div>\n\n                    <!-- --------- BINDING CASE --------- -->\n\n                    <div v-if=\"attributeIsBinding(attributeObject.name)\" class=\"propRowControl\">\n                        <select class=\"propInput propInputDynamic\" v-model=\"component.attributes.attributes[ attributeObject.name ]\" name=\"cars\" id=\"cars\" @change=\"submitChanges\" \n                        @drop.prevent=\"onDrop\" @dragenter.prevent @dragover.prevent :attrname=\"attributeObject.name\">\n                            <option v-for=\"binding in filteredModelFields(attributeObject, component)\" :key=\"'binding_'+binding.name\" :value=\"binding.name\">{{binding.label ? binding.label : binding.name }}</option>\n                        </select>\n                    </div>\n                    <div v-if=\"attributeObject.name!='gb_b__v-model' && attributeObject.name!='gb_c__v-for' && component.attributes.type != 'plotly'\" @click=\"toggleDynamicAttribute(attributeObject.name, attributeObject.value )\" class=\"propRowDynamicSwitch\">\n                        <img src=\"img/icons/binding_on.png\" style=\"height: 16px;\" v-if=\"attributeIsBinding(attributeObject.name)\" draggable=\"false\" />\n                        <img src=\"img/icons/binding_off.png\" style=\"height: 16px;\" v-if=\"!attributeIsBinding(attributeObject.name)\" draggable=\"false\" />\n                    </div>\n                    <div v-else class=\"propRowDynamicSwitch\" draggable=\"false\" style=\"cursor: auto;\"></div>\n                </div>\n\n                <!-- suggested attributes -->\n                <div class=\"suggestedPropertiesContainer\" style=\"margin: 20px 0px 0px 0px;\" v-if=\"getSuggestedProperties().length>0\">\n                    <div class=\"suggestedPropertiesTitle\" style=\"margin-bottom:10px; font-weight: bold; font-size: 0.9em;\">Suggested Properties:</div>\n                    <div \n                        v-for=\"attributeDefObject in getSuggestedProperties()\" :key=\"attributeDefObject.name\" class=\"propRow\" >\n                        <div class=\"propRowLabel\" style=\"font-weight: bold; text-align: left:\">{{ attributeDefObject.label }}: </div>\n                        <div class=\"propRowControl\" style=\"text-align: left; font-size: 0.8em; user-select: none;\">\n                            {{ attributeDefObject.desc }}\n                        </div>\n                        <div class=\"propRowDynamicSwitch\" draggable=\"false\" title=\"Add property\" @click=\"addProperty(attributeDefObject)\">\n                            <i class=\"fa fa-plus\"></i>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <br/>\n            <div class=\"addPropertyButtonRow\">\n                <vscode-button v-if=\"!showAddProperty && component && ( component.attributes.type != 'plotly' )\" @click=\"showAddPropertyList\">Add Property</vscode-button>\n            </div>\n            <div v-if=\"!component\" style=\"font-size: 0.8em;\"><i>Nothing selected</i></div>\n\n            <AddPropertyDialog v-if=\"showAddProperty\" :propslist=\"availableProperties\" @propAdded=\"addProperty\" @close=\"hideAddProperty\">\n            </AddPropertyDialog>\n\n        </div>\n        <ChartProperties ref=\"chartPropertiesPanel\" :appData=\"appData\" \n            @chartPropModeChanged=\"onChartPropModeChanged\"\n            :selectedComponent=\"selectedComponent\" \n            :blockPropertyDefinition=\"getBlockPropertyDefinition()\" \n            :filteredModelFields=\"{ \n                data: filteredModelFields( getCleanAttributeObject('gb_b__data'), selectedComponent ), \n                layout: filteredModelFields( getCleanAttributeObject('gb_b__layout'), selectedComponent ), \n                config: filteredModelFields( getCleanAttributeObject('gb_b__config'), selectedComponent, selectedComponent) \n            }\" \n            style=\"height: 100%;\" \n        />\n    </div>\n</template>\n\n\n\n<script setup>\n\nimport { ref, onMounted, computed } from 'vue'\nimport AddPropertyDialog from './properties/AddPropertyDialog.vue';\nimport ChartProperties from '../ChartProperties.vue'\n//import blockDefinitions from '../../utils/blockDefinitions';\nimport HtmlTemplateParser from '../../utils/HtmlTemplateParser';\nimport _ from 'lodash'\nimport Configuration from '../../utils/Configuration';\n\n// Component props (set from outside)\nconst props = defineProps(['title', 'appData', 'selectedComponent', 'parentPanel']);\n\n\n\nfunction showUpgradeLicenseDialog(){\n    window.showUpgradeLicenseDialog(false);\n}\n\nfunction licenseAllowsComponent( component ){\n    if( Configuration.IS_PRO ){\n        return true;\n    }\n    let componentType = component.attributes.tagName;\n    let componentDefinition = getBlockDefinition( componentType );\n    let requiresPro = componentDefinition?.proRequired;\n    if( requiresPro ){\n        return false;\n    }else{\n        return true;\n    }\n}\n\nconst chartPropertiesPanel = ref(null);\n\n/*  ======================================================================================\n                                    COMPONENT VARIABLES\n    ====================================================================================== */\n\n// Component variables\nlet component = ref(null);\nlet showAddProperty = ref(false);\nlet modelFields = ref(props.appData.pages[Configuration.currentPageIndex].model.fields);\nlet modelFieldsByName = {};\n    modelFields.value.forEach( field => {\n        modelFieldsByName[field.name] = field;\n    });\n\n// Dictionary for easy access to blockDefinitions\nconst blockDefinitionsByType = blockDefinitions.reduce((acc, block) => {\n    acc[block.type] = block;\n    return acc;\n}, {});\n\n\n\n/*  ======================================================================================\n                                    COMPONENT METHODS\n    ====================================================================================== */\n\n/**\n * This function takes an attribute name as input and returns a cleaned version of the name.\n * If the attribute name starts with \"gb_c__\" or \"gb_b__\", it removes the prefix.\n * If the attribute name doesn't start with these prefixes, it returns the attribute name as is.\n * @param {string} attributeName - The name of the attribute to clean.\n * @return {string} The cleaned attribute name.\n */\nfunction getAttributeCleanRealName( attributeName ){\n    try{\n        if( attributeName.indexOf(\"gb_c__\") == 0 || attributeName.indexOf(\"gb_b__\") == 0 ){\n            return attributeName.substring(6);\n        }\n        return attributeName;\n    }catch(error){\n        console.error( 'Error in getAttributeCleanRealName: ', attributeName, error );\n    }\n}\n\n\n\n/**\n * Removes an attribute from the selected component.\n * @param {Object} attributeObject \n */\nfunction removeAttribute(attributeObject ){\n    component.value.removeAttributes( [attributeObject.name]);\n    submitChanges();\n    /* window.logUserEvent( \"component-property::removed\", { \n        component: component.value.attributes.tagName, \n        property: getAttributeCleanRealName( attributeObject.name ) \n    }); */\n\n}\n\n\n\n/**\n* Returns a list of suggested properties for the selected component.\n* The suggested props for each component are defined in the blockDefinitions list (attribute \"suggest\" = true).\n* If the property is already present in the component attributes, it is not suggested.\n* @return {Array} An array of suggested properties.\n*/\nfunction getSuggestedProperties(){\n    let componentDefinition = getBlockDefinition( component.value.attributes.tagName );\n    if( !componentDefinition ){\n        return [];\n    }\n    let currentAttributesCleanNames = getCleanAttributesList().map( att => att.cleanName );\n    let suggestedProperties = componentDefinition.properties.filter( propDef => {\n        return propDef.suggested == true;\n    })\n    let suggestedPropertiesNotUsed = suggestedProperties.filter( propDef => {\n        return currentAttributesCleanNames.indexOf( propDef.name ) == -1;\n    });\n\n    return suggestedPropertiesNotUsed;\n}\n\n\n\n\n    \n/** Returns a list of model fields filtered by type.\n * @param {Object} attributeObject - An object containing the attribute definition.\n * @return {Array} An array of model fields.\n */\nfunction filteredModelFields( attributeObject, component){\n    let results = [];\n    if( component?.view?.el ){\n        let componentAndAncestorsVforVariableNames = HtmlTemplateParser.extractVforVariablesAncestors( component.view.el );\n        componentAndAncestorsVforVariableNames.forEach( vforVar => {\n            results.push( { name: vforVar, label: vforVar+' *' } );\n        })\n    }\n    if( !attributeObject || !attributeObject.def ){\n        return results;\n    }\n    \n    /* if( component && component.attributes.attributes['gb_c__v-for'] ){\n        let vFor = HtmlTemplateParser.parseVFor( component.attributes.attributes['gb_c__v-for'] );\n        if( vFor ){\n            let variables = vFor.variables;\n            variables.forEach( variable => {\n                results.push( { name: variable, label: variable+'**' } );\n            })\n        }\n    } */\n    let allowedTypes = attributeObject.def.typeList != null ? attributeObject.def.typeList : [ attributeObject.def.type ];\n    modelFields.value.forEach( field =>{ \n        if( attributeObject.def.type == \"Any\" || allowedTypes.indexOf( field.type ) > -1 ){\n            results.push( field );\n        }else if( field.type == \"DataTable.DataFrames.DataFrame\"){\n            // DataTables expected to have props\n            let props = field.props;\n            if( props ){\n                props.forEach( (prop)=>{\n                    results.push( { name: field.name + \".\" + prop } );\n                } )\n            }\n        }\n    } );\n    return results;\n};\n\n\n\n/**\n * Returns a list of attributes for the selected component, \n * including the name of the attribute, the cleaned name and the value, as well as the definition of the attribute.\n * @return {Array} An array of attributes.\n */\nfunction getCleanAttributesList(){\n    if( !component.value ){\n        return [];\n    }\n    const elementAttributes = component.value.attributes.attributes;\n    let result = [];\n    let attrsForVuecomponent = {};\n    for( let p in elementAttributes ){\n        let cleanAttributeObject = getCleanAttributeObject(p);\n        if( cleanAttributeObject && elementAttributes[p] != undefined ){\n            result.push( cleanAttributeObject );\n            attrsForVuecomponent[p] = elementAttributes[p];\n        }\n        /* if( p.startsWith('gb_c__') || p.startsWith('gb_b__') ){\n            let cleanName = getAttributeCleanRealName(p).toLowerCase(); // p.toLowerCase();            \n            if( cleanName != 'id' && cleanName != 'charttype' && cleanName != 'class' ){\n                let def = getBlockPropertyDefinition(cleanName);\n                if( !def ){\n                    console.error(\"Definition not found for: \", p, cleanName, elementAttributes[p])\n                }\n                result.push( { name:p, cleanName, value: elementAttributes[p], def:def } );\n                attrsForVuecomponent[p] = elementAttributes[p];\n            }\n        } */\n    }\n    \n    if( props.selectedComponent.view.el.vueApp ){\n        props.selectedComponent.view.el.vueApp.updateAttributes( attrsForVuecomponent )\n    }\n\n    result = _.sortBy( result, 'cleanName' );    \n    return result;\n}\n\nconst getCleanAttributeObject = ( p ) =>{\n    if( !component.value )\n        return null;\n    const elementAttributes = component.value.attributes.attributes;\n    let result = null;\n    if( p.startsWith('gb_c__') || p.startsWith('gb_b__') ){\n        let cleanName = getAttributeCleanRealName(p).toLowerCase(); // p.toLowerCase();            \n        if( cleanName != 'id' && cleanName != 'charttype' && cleanName != 'class' ){\n            let def = getBlockPropertyDefinition(cleanName);\n            if( !def ){\n                console.log(\"Definition not found for: \", p, cleanName, elementAttributes[p]);\n                return null;\n            }\n            result = { name:p, cleanName, value: elementAttributes[p], def:def };\n        }\n    }\n    return result;\n}\n\n\n\n/** \n * Returns the definition of a property for the selected component.\n */\nfunction getBlockPropertyDefinition( propertyName ){\n    if( !component.value ){\n        return null;\n    }\n    // Usually we take the \"type\" as uid\n    let realType = component.value.attributes.type;\n    // but native-text elements (p, h1, h2, etc...) have their type set to \"text\"\n    // so we need to infer the type from the tagName\n    if( realType == \"text\" ){\n        realType = component.value.attributes.tagName;\n    }\n    let blockDefinition = getBlockDefinition( realType );\n    if( !blockDefinition ){\n        return null;\n    }\n    let propertyDefinition = blockDefinition.properties.find( prop => prop.name == propertyName );\n    return propertyDefinition;\n}\n\n\n\n/** \n * Returns true if the attribute is a dynamic binding (starts with \"gb_b__\").\n */\nfunction attributeIsBinding(attributeName ){\n    let isDynamic = attributeName.indexOf('gb_b_') == 0;\n    return isDynamic;\n}\n\n\n\n/** \n * Event handler for the drop event when user drops a binding on top of a property.\n * It will swtich to \"binding\" mode if it's not already so, and then assign the binding to the property.\n */\nfunction onDrop( event ){\n    let dragTransferData = JSON.parse( event.dataTransfer.getData(\"text\") );\n    let attrname = event.target.getAttribute('attrname');\n    if( attrname.indexOf('gb_c__') == 0 ){\n        toggleDynamicAttribute( attrname, dragTransferData.bindingname );\n    }else{\n        let newAttrs = {};\n        newAttrs[attrname] = dragTransferData.bindingname;\n        component.value.addAttributes( newAttrs );\n    }\n};\n\n\n\n/** \n * Shows the \"Add Property\" dialog.\n */\nfunction showAddPropertyList(){\n    showAddProperty.value = true;\n}\n\n/** \n * Hides the \"Add Property\" dialog.\n */\nfunction hideAddProperty(){\n    showAddProperty.value = false;\n}\n\n\n\n/**\n * Adds a property to the selected component.\n * @param {Object} prop \n */\nfunction addProperty(prop){\n    let defaultValuesByType = {\n        Boolean: true,\n        String: \"\", \n        Number: 0, \n        Array: [], \n        Function: \"\", \n        Object: {}\n    }\n    let attrsObject = {};\n    let gbName = \"gb_c__\"+prop.name;\n\n    let defaultValue = defaultValuesByType[prop.type] != null ? defaultValuesByType[prop.type] : \"\";\n    attrsObject[gbName] = defaultValue;\n    component.value.addAttributes(attrsObject);\n    submitChanges();\n\n    /* window.logUserEvent( \"component-property::added\", { \n        component: component.value.attributes.tagName, \n        property: getAttributeCleanRealName( prop.name ) \n    }); */\n}\n\n\n\n/**\n * Returns the definition of a block (component) by type.\n * @param {string} type - The type of the block (component).\n * @return {Object} The definition of the block (component).\n */\nfunction getBlockDefinition( type ){\n    let componentDefinition = blockDefinitionsByType[type];\n    return componentDefinition;\n}\n\n\n\n/**\n * Returns a list of properties that can be added to the selected component.\n * It excludes the ones already present in the component.\n */\nconst availableProperties = computed( ()=>{\n    let componentDefinition = getBlockDefinition( component.value.attributes.tagName );\n    if( !componentDefinition ){\n        return [];\n    }\n    \n    let definitionProperties = componentDefinition.properties;\n    let currentAttributes = component.value.getAttributes();\n    let currentAttributesClean = [];\n    for( let p in currentAttributes ){\n        let cleanName = getAttributeCleanRealName(p);\n        currentAttributesClean.push( cleanName );\n    }\n    let filtered = [];\n    definitionProperties.forEach( prop => {\n        let cleanName = getAttributeCleanRealName(prop.name);\n        if( currentAttributesClean.indexOf(cleanName) == -1 ){\n            filtered.push( prop );\n        }\n    })\n    return filtered;\n} );\n\n\n\n/**\n * Submits the changes to the selected component.\n * This is needed so that the component in the canvas is updated with the new attributes.\n */\nfunction submitChanges(){\n    //setTimeout( ()=>{\n            // before parsing the html, we need to make sure we handle booleans properly\n            let componentAttributes = component.value.attributes.attributes;\n            for( let attName in componentAttributes ){\n                if( componentAttributes[attName] === true ){\n                    componentAttributes[attName] = 'true';\n                }\n                if( componentAttributes[attName] === false ){\n                    componentAttributes[attName] = 'false';\n                }\n            }\n            let newHtml = selectedComponent.toHTML();\n            editor.getSelected().replaceWith( newHtml );\n            \n            \n            let clonedAttributes = {};                    \n            let attributeNames = Object.getOwnPropertyNames(componentAttributes);\n            attributeNames.forEach( (attrName)=>{\n                let attributeValue;\n                if( componentAttributes[attrName] != undefined && componentAttributes[attrName].nodeValue != undefined ){\n                    attributeValue = componentAttributes[attrName].nodeValue;\n                } else{\n                    attributeValue = componentAttributes[attrName];\n                }\n                clonedAttributes[attrName] = attributeValue;\n            })\n        props.selectedComponent.setAttributes(clonedAttributes);\n            let grapesElementVueApp = props.selectedComponent.view.$el[0].vueApp;\n            if( grapesElementVueApp )\n                grapesElementVueApp.updateAttributes(clonedAttributes);\n    //}, 1000);\n}\n\n\n\n/**\n * Toggles the attribute mode from constant to binding and viceversa\n * @param {string} key - The name of the attribute.\n * @param {string} value - The value of the attribute.\n */\nfunction toggleDynamicAttribute(key, value){\n    let newKey = key.indexOf('gb_b__') == 0 ? key.replace( 'gb_b__', 'gb_c__' ) : key.replace( 'gb_c__', 'gb_b__' );\n    component.value.removeAttributes( [key]);\n    let newAtts = {};\n    // When switching to Binding mode, pick the model variable with the same name set as constant or,\n    // If it doesn't exist, pick one of the same type by default\n    if( newKey.indexOf('gb_b__') == 0 ){\n        if(modelFieldsByName[value] != null )\n            newAtts[newKey] = value;\n        else{\n            let cleanAttributeName = getAttributeCleanRealName(newKey).toLowerCase();\n            let def = getBlockPropertyDefinition(cleanAttributeName);\n\n            let attributeObject = { def }\n            let sameTypeModelFields = filteredModelFields(attributeObject);\n            if( sameTypeModelFields.length > 0 )\n                newAtts[newKey] = sameTypeModelFields[0].name;\n            else\n                newAtts[newKey] = \"Not Set\";\n        }\n    }else{\n        newAtts[newKey] = value;\n    }\n\n    component.value.addAttributes(newAtts);\n    submitChanges();\n}\n\nconst onChartPropModeChanged = (key, value) =>{\n    console.log( 'onChartPropModeChanged', key, value );\n    toggleDynamicAttribute(key, value);\n}\n\n\n/**\n * Sets the selected component.\n * @param {Object} newComponent \n */\nfunction setSelectedComponent(newComponent){\n    if( props.parentPanel){\n        if( newComponent )\n            props.parentPanel.expand(true);\n        else\n            props.parentPanel.expand(false);\n    }\n    component.value = newComponent;\n    if( newComponent && newComponent.attributes.type == 'plotly' ){\n        chartPropertiesPanel.value.setSelectedComponent( newComponent );\n    }\n    /* if( chartPropertiesPanel.value){\n      chartPropertiesPanel.value.setSelectedComponent(com);\n    } */\n}\n\n\n\n/*  ======================================================================================\n                                    COMPONENT LIFECYCLE HOOKS\n    ====================================================================================== */\nonMounted( ()=>{\n    setSelectedComponent( window.selectedComponent );\n});\n\n\n\n/*  ======================================================================================\n                                    COMPONENT EXPORTS\n    ====================================================================================== */\ndefineExpose({\n    setSelectedComponent, chartPropertiesPanel\n})\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n    @import \"../../styles/globalStyles.scss\";\n\n    .propRow{\n        position: relative;\n        border-bottom: solid 1px var(--checkbox-background);\n        display: flex;\n        flex-direction: row;\n        gap: 10px;\n        padding: 5px 0px 5px;\n    }\n</style>\n\n<style lang=\"scss\">\n    @import \"../../styles/globalStyles.scss\";\n    .propRowLabel{\n        width: 35%;\n        font-size: 0.9em;\n        text-align: right;\n        text-transform: capitalize;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        user-select: none;\n    }\n    .propRowControl{\n        width: 60%;\n        display: flex;\n        justify-content: left;\n    }\n\n    .propRowDynamicSwitch{\n        min-width: 15px;\n        width: 15px;\n        display: flex;\n        justify-content: left;\n        align-items: center;\n        cursor: pointer;\n        opacity:0.7;\n    }\n\n    .propRowDynamicSwitch:hover{\n        opacity:1;\n    }\n\n    .addPropIcon{\n        font-size: 1.2em;\n        opacity: 0;\n    }\n\n\n    .propInput{\n        padding: 1px 10px;\n        border: solid 1px #999;\n        border-radius: 3px;\n        box-sizing: border-box;\n        width: 100%;\n        color: #000000;\n    }\n\n    .propInputDynamic{\n        background-color: #fff1cd;\n        border: solid 1px #d8b252;\n        color: #916a09;\n    }\n\n    .removeBtnCnt{\n        opacity: 0;\n        cursor: pointer;\n    }\n    .propRow:hover .removeBtnCnt{\n        opacity: 0.5;\n    }\n    .removeBtnCnt:hover{\n        opacity: 1 !important;\n    }\n    .addPropertyButtonRow {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-bottom: 20px;\n    }\n</style>","import script from \"./PropertiesPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PropertiesPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PropertiesPanel.vue?vue&type=style&index=0&id=d4c6351e&lang=scss&scoped=true\"\nimport \"./PropertiesPanel.vue?vue&type=style&index=1&id=d4c6351e&lang=scss\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d4c6351e\"]])\n\nexport default __exports__\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QIcon});\n","<template>\n    <div class=\"logsPanel\" style=\"position:relative;\">\n        <div class=\"toolBar\">\n            <div>\n                <input type=\"checkbox\" id=\"showServerLogs\" name=\"showServerLogs\" v-model=\"showServerLogs\" /> GB Server\n            </div>\n            <div>\n                <input type=\"checkbox\" id=\"showClientLogs\" name=\"showClientLogs\" v-model=\"showClientLogs\" /> Client\n            </div>\n            <div>\n                <!-- select log level -->\n                <select v-model=\"logLevel\">\n                    <!-- <option value=\"0\">Debug</option> -->\n                    <option value=\"1\">Info</option>\n                    <option value=\"2\">Warning</option>\n                    <option value=\"3\">Error</option>\n                </select>\n            </div>\n            <!--\n            <div>\n                <select v-model=\"loggedAppId\">\n                    <option v-for=\"item in loggedAppIdsMap\" :value=\"item.id\">{{ item.label }}</option>\n                </select>\n            </div> -->\n            <div>\n                Search: <input type=\"text\" id=\"searchString\" name=\"searchString\" v-model=\"searchString\" style=\"width: 200px;\"/>\n            </div>\n            <div style=\"text-align: right; flex-grow: 1; flex-basis: 0;\">\n                <!-- <vscode-button @click=\"clearLogs\">Clear</vscode-button> -->\n                <button class=\"clearLogsButton\" @click=\"clearLogs\" title=\"Clear Logs\">\n                    <span class=\"codicon codicon-settings\"><i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 16px; padding: 5px;\">delete</i></span>\n                    <!-- <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"font-size: 16px; padding: 5px;\">Clear</i> -->\n                </button>\n            </div>\n        </div>\n        <div ref=\"logsContainer\" class=\"logsContainer\">\n            <div :class=\"{logItem:true, levelInfo:item.level=='info', levelWarning:item.level=='warning', levelError:item.level=='error' }\" v-for=\"(item, $index) in filteredLogs\" :key=\"'logItem_'+$index\">\n                <div class=\"timeStamp\">{{ item.timestamp }}</div>\n                <!-- <div class=\"appSource\">{{ item.appSource }}</div> -->\n                <div class=\"logLevel\">{{ item.level }}</div>\n                <div :class=\"{logMessage:true, logMessageExpanded:item.expanded}\" v-highlight=\"item.message\" @click=\"item.expanded=!item.expanded\"></div>\n            </div>\n        </div>\n        \n    </div>\n</template>\n\n<script setup>\n\nimport _ from 'underscore';\nimport {computed, ref} from 'vue';\nimport Configuration from '../../utils/Configuration.js'\n\nconst props = defineProps(['appData'])\nconst showServerLogs = ref(true);\nconst showClientLogs = ref(true);\nconst logLevel = ref(1);\nconst loggedAppId = ref('all');\nconst searchString = ref('');\nconst logsContainer = ref(null);\n\nimport hljs from 'highlight.js/lib/core';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport sql from 'highlight.js/lib/languages/sql';\nimport 'highlight.js/styles/atom-one-dark.css';\n\nhljs.registerLanguage('javascript', javascript);\nhljs.registerLanguage('sql', sql);\n\nconst highlight = {\n  mounted(el, binding) {\n    const code = binding.value || '';\n    const highlightedCode = hljs.highlight('sql', code).value;\n    el.innerHTML = `<pre style=\"white-space: pre-wrap; word-wrap: break-word;\"><code style=\"display: block; width: 100%;\">${highlightedCode}</code></pre>`;\n  },\n  updated(el, binding) {\n    const code = binding.value || '';\n    const highlightedCode = hljs.highlight('sql', code).value;\n    el.innerHTML = `<pre style=\"white-space: pre-wrap; word-wrap: break-word;\"><code style=\"display: block; width: 100%;\">${highlightedCode}</code></pre>`;\n  }\n};\n\n// Registering directive locally\nconst vHighlight = highlight;\n\nconst loggedAppIdsMap = ref([\n    { id:'all', label:\"All\" },\n    { id:0, label:\"GB\" },\n])\nconst logLevelsMap = {\n    //debug: 0,\n    info: 1,\n    warning: 2,\n    error: 3\n}\n// debug, info, wanring, error\nconst logs = ref([]);\nwindow.logs = logs;\n\nconst filteredLogs = computed( ()=>{\n    let results = logs.value.filter( (item)=>{\n        //debugger;\n        let matchesSource = (item.source==\"server\" && showServerLogs.value) || (item.source==\"client\" && showClientLogs.value );\n        let matchesLevel = logLevelsMap[item.level] >= logLevel.value;\n        let matchesAppId = loggedAppId.value == 'all' || item.appid == loggedAppId.value;\n        let matchesSearch = searchString.value == '' || item.message.toLowerCase().indexOf(searchString.value.toLowerCase() ) >= 0;\n        return matchesSource && matchesLevel && matchesSearch && matchesAppId;\n    })\n    return results;\n})\n\nfunction clearLogs(){\n    logs.value = [];\n}\n\nfunction addLog( logObject ){\n    // Discard messages with appId and not matching the current app id\n    let configuredAppId = Configuration.appid;\n    let messageAppId = logObject.appid;\n    if( messageAppId != undefined && messageAppId != configuredAppId ){\n        return;\n    }\n    let logPrefix = 'log:message ';\n    if( logObject.message.indexOf( logPrefix ) == 0 ){\n        // Add the app id to the loggedAppIdsMap if it doesn't exist\n        if( !loggedAppIdsMap.value.find( (item)=>{ return item.id == logObject.appid } ) ){\n            loggedAppIdsMap.value.push( { id:logObject.appid, label:logObject.appid } );\n        }\n        \n        // Remove the logPrefix from the message\n        let message = logObject.message.slice( logPrefix.length );\n\n        // Extract the log level from the message text\n        if( message.indexOf(\"Info: \") == 0 ){\n            logObject.level = \"info\";\n            message = message.slice( \"Info: \".length );\n        }else if( message.indexOf(\"Warning: \") == 0 ){\n            logObject.level = \"warning\";\n            message = message.slice( \"Warning: \".length );\n        }else if( message.indexOf(\"Error: \") == 0 ){\n            logObject.level = \"error\";\n            message = message.slice( \"Error: \".length );\n        }\n\n\n        // Replace newlines with <br/>\n        //message = message.split(\"\\n\").join(\"<br/>\");\n        message = message.split(\" \").join(\"\");\n        logObject.message = message;\n        \n        // Parse app source-id and timestamp\n        logObject.appSource = logObject.appid == \"0\" ? \"GB\" : \"app \"+logObject.appid;\n        logObject.timestamp = logObject.timestamp.replace(\"T\", \" \").replace(\"Z\", \"\").split(\".\")[0];\n\n        // set collapsd view by default\n        logObject.expanded = false;\n\n        // Add the log to the logs array\n        logs.value.push( logObject );\n\n        // Scroll to bottom so that latest log is visible\n        logsContainer.value.scrollTop = logsContainer.value.scrollHeight;\n    }\n}\n\ndefineExpose( {addLog} );\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n\n.toolBar{\n    display: flex;\n    flex-direction: row;\n    font-size: 12px;\n    padding-bottom: 5px;\n    border-bottom: solid 1px #ccc;\n    margin-bottom: 10px;\n    gap: 15px;\n}\n\n\n.logsContainer{\n    height: 200px;\n    overflow: auto;\n}\n\n.logItem:hover{\n    background-color: #00000010;\n}\n.logItem{\n    font-size: 14px;\n    color: #828282;\n    display: flex;\n    flex-direction: row;\n    gap: 20px;\n    align-items: flex-start;\n    border-bottom: solid 1px #cccccc20;\n}\n\n.timeStamp, .appSource, .logLevel, .logMessage {\n    flex-shrink: 0; /* Ensure they don't shrink below their designated width */\n    overflow: hidden; /* For text-overflow, if needed */\n    \n    text-overflow: ellipsis; /* Ellipsis if content overflows */\n}\n\n.timeStamp{\n    width: 150px;\n}\n.logLevel{\n    width: 60px;\n}\n.appSource{\n    width: 50px;\n}\n\n\n.logMessage {\n    flex-grow: 1;\n    flex-basis: 0;\n    min-width: 0;\n    overflow-wrap: break-word;\n    max-width: calc(100% - 260px - 60px); /* Subtract the total width of the other columns and gap */\n    overflow: hidden; \n    max-height: 20px;\n    cursor: pointer;\n}\n.logMessageExpanded{\n    overflow: unset; \n    max-height: unset;\n}\n.levelInfo{\n    color: #49afed;\n}\n.levelWarning{\n    color: #e29a42;\n}\n.levelError{\n    color: rgb(242, 91, 91);\n}\n\n.clearLogsButton{\n    opacity: 0.5;\n}\n.clearLogsButton:hover{\n    opacity: 1;\n}\n</style>","import script from \"./LogsPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LogsPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LogsPanel.vue?vue&type=style&index=0&id=0ebb8bf8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ebb8bf8\"]])\n\nexport default __exports__\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QIcon});\n","<template>\n    <div ref=\"bindingsConnectorsContainer\" class=\"bindingsConnectorsContainer\">\n            <svg width=\"100%\" height=\"100%\" style=\"position: absolute; z-index: 11; pointer-events: none;\">\n                <rect v-for=\"connection in connections\" :key=\"connection.id\" :x=\"connection.x\" :y=\"connection.y+yOffsetRect\" :width=\"connection.width\" :height=\"connection.height\" style=\"fill:transparent; stroke-width:3; stroke:#0099ff;\"/>\n                <path  v-for=\"connection in connections\" :key=\"connection.id\" \n                    :d=\"getConnectionSVGPath(connection)\" stroke=\"#0099ff\" stroke-width=\"2\" fill=\"transparent\"/>\n            </svg>\n    </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\n\nconst canvasElementsPositions = ref([]);\nconst connections = ref([]);\nconst _iframePosition = ref(null);\nconst overedBinding = ref(null);\nconst yOffsetRect = ref(-40);\nconst yOffsetConnectorTarget = ref(-30);\nconst bindingsConnectorsContainer = ref(null);\n\nfunction getConnectionSVGPath(connection ){\n    let logsPanel = document.querySelector('.logsPanel');\n    let logsPanelHeight = logsPanel.clientHeight;\n    let logsPanelHeadHeight = 40;\n    let origin = connection;\n    let target = getOveredBindingPosition();\n    let xDistance = Math.abs( origin.x+origin.width - target.x );\n    let controlPointOffsetX = xDistance*0.5;\n    bindingsConnectorsContainer.value.style.height = `calc(100% - ${ (logsPanelHeight+logsPanelHeadHeight) }px)`;\n    let path = `M ${origin.x+origin.width} ${yOffsetRect.value+origin.y+origin.height*.5} C ${origin.x+origin.width+controlPointOffsetX} ${yOffsetRect.value+origin.y+origin.height*.5}, ${target.x-controlPointOffsetX} ${target.y+yOffsetConnectorTarget.value}, ${target.x} ${target.y+yOffsetConnectorTarget.value}`;\n    return path;\n}\n\n\n\nfunction getOveredBindingPosition(){\n    let elPosition = getElementPosition( overedBinding.value.element );\n    return elPosition;\n}\n\n\n\nfunction getElementPosition(element) {\n  const rect = element.getBoundingClientRect();\n  return {\n    x: rect.left, \n    y: rect.top\n  };\n}\n\nfunction updateElementsPositions(lines){\n    canvasElementsPositions.value = lines;\n    updateConnections();\n\n}\nfunction updateConnections(){\n    if( _iframePosition.value == null )\n        updateIframePosition();\n    let iframePosition = _iframePosition.value;\n    let adjustedPositions = canvasElementsPositions.value.map( (line)=>{\n        return {\n            x: line.x + iframePosition.x,\n            y: line.y + iframePosition.y, \n            width: line.width,\n            height: line.height,\n        }\n    })\n    connections.value = adjustedPositions;\n\n}\n\nfunction updateIframePosition(){\n    let iframeElement = document.querySelector('.gjs-frame') ;\n    _iframePosition.value = getElementPosition( iframeElement );;\n    updateConnections();\n}\n\nfunction onBindingOvered(event){\n    overedBinding.value = event;\n}\n\n\n\ndefineExpose({\n    updateElementsPositions, updateIframePosition, onBindingOvered\n})\n</script>\n\n<style scoped>\n.bindingsConnectorsContainer{\n    /* border: solid 2px #ff0000; */\n    background-color: #ff000000;\n    top: 40px;\n    left: 0px;\n    right: 0px;\n    height: 100%;\n    position: fixed;\n    z-index: 10;\n    pointer-events: none;\n}\n</style>","import script from \"./BindingsConnector.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BindingsConnector.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BindingsConnector.vue?vue&type=style&index=0&id=704c43b8&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-704c43b8\"]])\n\nexport default __exports__","<template>\n    <div>\n        <div v-if=\"!isPro\" class=\"notProUI\">\n        AI Help is a Pro feature.<br/>\n        Upgrade to Pro and start using it now!<br/> <br/>\n        <vscode-button @click=\"showUpgradeLicenseDialog\" style=\"margin-right: 3px;\">Upgrade</vscode-button> \n        </div>\n\n        <div v-if=\"isPro\">\n\n            <div style=\"position:relative;width: 280px;\">\n                <div class=\"flex flex-col items-center justify-center p-6\" style=\"padding: 0px;\">\n                    <div class=\"mb-4 w-full max-w-xl\">\n                        <textarea rows=\"2\" v-model=\"question\" placeholder=\"Ask AI for help on how to use Genie\"\n                            class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" />\n                    </div>\n\n                    <div v-if=\"error\" class=\"\">\n                        <p class=\"text-red-600\" style=\"margin-top: -15px;\">{{ error }}</p>\n                    </div>\n\n                    <vscode-button @click=\"askQuestion\" style=\"width: 100px !important;\">Ask AI</vscode-button>\n\n\n                    <!-- to-do: this text and link is also used in the AI docs panel. Ideally we should store the text and link in a shared variable. But vue won't listen to the click events within the v-html, and regular links will be blocked by vscode. So by now we are adding the text and link here and in aidocs -->\n                    <div class=\"terms\" style=\"margin-top: 10px;\">\n                    Use of the AI features implies acceptance of the Genie AI <span @click=\"openLink( Configuration.TERMS_OF_USE_URL )\" style=\"text-decoration: underline;\">terms of use</span>. AI results can be incorrect.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n\nimport _ from 'underscore';\nimport {computed, ref, onMounted} from 'vue';\nimport Configuration from '../../utils/Configuration';\n\n\nconst props = defineProps(['appData']);\n\nconst isPro = computed(() => {\n    return Configuration.IS_PRO;\n});\n\nconst question = ref('');\nconst error = ref(null);\n\n\n\nfunction showUpgradeLicenseDialog(){\n    window.showUpgradeLicenseDialog(false);\n}\n\nconst askQuestion = async () => {\n    if (question.value.trim() === '') {\n        error.value = 'Please enter a question.';\n        return;\n    }\n    window.parent.postMessage( {command:\"openAiDocs\", query:question.value }, \"*\" );\n    question.value = \"\";\n    error.value = null;\n    \n    //window.logUserEvent( \"ai-help-panel::ask\", { });\n};\n\nfunction openLink(url){\n    console.log( 'aiCodePanel :: openLink: ', url );\n    window.parent.postMessage( {command:\"openLink\", url:url, name:\"Genie Builder Docs\" }, \"*\" );\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n\n\n.terms{\n    margin: -15px 0px 15px;\n    font-size: 0.85em;\n    opacity: 0.5;\n    text-align: center;\n    padding: 0px;\n    cursor: pointer;\n}\n\n</style>\n","import script from \"./AiHelpPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AiHelpPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AiHelpPanel.vue?vue&type=style&index=0&id=46c931ab&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-46c931ab\"]])\n\nexport default __exports__","<template>\n    <div>\n        <div v-if=\"!isPro\" class=\"notProUI\">\n        The AI Assistant is a Pro feature.<br/>\n        Upgrade to Pro and start using it now!<br/> <br/>\n        <vscode-button @click=\"showUpgradeLicenseDialog\" style=\"margin-right: 3px;\">Upgrade</vscode-button> \n        </div>\n\n        <div v-if=\"isPro\">\n            <div v-if=\"!component\" class=\"nothingSelected\">\n                <i>Nothing selected</i>\n            </div>\n\n            <div v-else style=\"position:relative;\">\n                <div class=\"flex flex-col items-center justify-center p-6\" style=\"padding: 0px;\">\n                    <div class=\"mb-4 w-full max-w-xl\">\n                        <textarea rows=\"2\" v-model=\"userPrompt\" :disabled=\"isLoading\" placeholder=\"Select a UI component and ask AI to style or edit it\"\n                            class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" />\n                    </div>\n\n                    <div v-if=\"requestObject.aiError\" class=\"\">\n                        <p class=\"text-red-600\" style=\"margin-top: -15px;\">{{ requestObject.aiError }}</p>\n                    </div>\n\n                    <vscode-button v-if=\"!isLoading\" @click=\"aiSendClicked\" style=\"width: 100px !important;\">Ask AI</vscode-button>\n                    <vscode-button v-if=\"isLoading\"  disabled style=\"width: 100px !important;\">Plese wait...</vscode-button>\n\n                    <!-- to-do: this text and link is also used in the AI docs panel. Ideally we should store the text and link in a shared variable. But vue won't listen to the click events within the v-html, and regular links will be blocked by vscode. So by now we are adding the text and link here and in aidocs -->\n                    <div class=\"terms\" style=\"margin-top: 10px;\">\n                    Use of the AI features implies acceptance of the Genie AI <span @click=\"openLink( Configuration.TERMS_OF_USE_URL )\" style=\"text-decoration: underline;\">terms of use</span>. AI results can be incorrect.\n                    </div>\n                    <!-- insert svg file -->\n                    <!-- <img v-if=\"isLoading\" src=\"img/icons/loading_58.svg\" alt=\"Loading\" style=\"position: relative; bottom: 0; right: 0; width: 58px; height: 58px;\"/> -->\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n\nimport _ from 'underscore';\nimport axios from 'axios';\nimport {computed, ref} from 'vue';\nimport Configuration from '../../utils/Configuration.js'\nimport HtmlTemplateParser from '../../utils/HtmlTemplateParser';\n\nconst props = defineProps(['appData', 'selectedComponent'])\n\nconst isPro = computed(() => {\n    return Configuration.IS_PRO;\n});\n\nlet component = ref(null);\nlet userPrompt = ref(\"\");\nlet isLoading = ref(false);\nlet aiApiUrl = Configuration.ask_ai_url + 'codegen';\nlet requestObject = ref({});\n\n/**\n * Sets the selected component.\n * @param {Object} newComponent \n */\nfunction setSelectedComponent(newComponent){\n    component.value = newComponent;\n}\n\nfunction showUpgradeLicenseDialog(){\n    window.showUpgradeLicenseDialog(false);\n}\n\nfunction applyCssStylesToHtml(html, cssString) {\n    // Parse the CSS string to extract styles for ID selectors\n    const styleRules = cssString.match(/#[^\\{]+\\{[^\\}]+\\}/g);\n    const stylesById = {};\n\n    if (styleRules) {\n        styleRules.forEach(rule => {\n            const parts = rule.split('{');\n            const id = parts[0].trim().substring(1); // Remove '#' at the start\n            const styles = parts[1].trim().slice(0, -1); // Remove closing '}'\n            stylesById[id] = styles;\n        });\n    }\n\n    // Create a DOM parser to parse the HTML string\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(`<body>${html}</body>`, 'text/html');\n\n    // Apply the styles to the elements with the corresponding IDs\n    Object.keys(stylesById).forEach(id => {\n        const element = doc.getElementById(id);\n        if (element) {\n            element.style.cssText += stylesById[id];\n        }\n    });\n\n    // Extract and return the inner HTML of the body, excluding the automatically added tags\n    return doc.body.innerHTML;\n}\n\nfunction openLink(url){\n    window.parent.postMessage( {command:\"openLink\", url:url }, \"*\" );\n}\n\nfunction sendRequestToAiPreservingPlotlyAttributes(inputHtml, attributes, onComplete) {\n    \n  // Create a DOMParser to parse HTML strings\n  const parser = new DOMParser();\n  const serializer = new XMLSerializer();\n\n  // Parse the initial HTML code to a DOM\n  const initialDOM = parser.parseFromString(inputHtml, 'text/html');\n\n  // Store the attributes of <plotly> nodes\n  const plotlyAttributes = {};\n  initialDOM.querySelectorAll('plotly').forEach(node => {\n    attributes.forEach(attr => {\n      if (node.hasAttribute(attr)) {\n        const nodeId = node.id; // Assuming each <plotly> node has a unique ID\n        if (!plotlyAttributes[nodeId]) {\n          plotlyAttributes[nodeId] = {};\n        }\n        plotlyAttributes[nodeId][attr] = node.getAttribute(attr);\n      }\n    });\n  });\n\n    // Add css styles as inline styles to the html\n    let htmlWithStyles = applyCssStylesToHtml( inputHtml, editor.getCss() );\n\n    // Inform the request is started (loading)\n    emit(\"aiCodeChanged\", 'loading');    \n    isLoading.value = true;\n\n    // Send the AJAX request\n    axios.post( aiApiUrl, \n        { \n            content_type: \"html\", \n            sessionid: Configuration.SESSIONID, \n            prompt: requestObject.value.userPrompt, \n            code: htmlWithStyles\n        }\n    )\n    .then( (response)=>{\n        // Inform the request is finished (not loading)\n        isLoading.value = false;\n\n        // Parse the response\n        let responseObject = JSON.parse( response.request.response )\n\n        // Handle errors\n        if( responseObject.error ){\n            requestObject.value.aiError = responseObject.error;\n            emit(\"aiCodeChanged\", 'hidden');\n        \n        }else{\n        // handle success\n\n            // reset prompt and loading state\n            isLoading.value = false;\n            userPrompt.value = \"\";\n\n            // Restore the attributes for each <plotly> node using stored values\n            let receivedHtml = responseObject.response;\n            let parser = new DOMParser();\n            const newDOM = parser.parseFromString(receivedHtml, 'text/html');\n\n            Object.keys(plotlyAttributes).forEach(nodeId => {\n                const node = newDOM.getElementById(nodeId);\n                if (node) { // Check if the node still exists\n                    Object.entries(plotlyAttributes[nodeId]).forEach(([attr, value]) => {\n                        node.setAttribute(attr, value);\n                    });\n                }\n            });\n\n            // Serialize the DOM back to an HTML string\n            let restoredHtml = serializer.serializeToString(newDOM.body);\n/* \n            // Make sure all blocks have mandatory attributes if missing\n            let mandatoryDefs = HtmlTemplateParser.generateBlocksMandatoryProperties();\n            let filledHtml = HtmlTemplateParser.addMandatoryProperties( restoredHtml, mandatoryDefs );\n             */\n            let cleanHtml;\n            try{\n                cleanHtml = HtmlTemplateParser.cleanHtml( restoredHtml );\n            }catch(e){\n                requestObject.value.aiError = e.message;\n                emit(\"aiCodeChanged\", 'hidden');\n            }\n            // encode the html\n            // ------------------------------------------\n            const doc = parser.parseFromString(cleanHtml, 'text/html');\n            const firstDiv = doc.body || null;      \n            HtmlTemplateParser.encodeAttributesInDOM(firstDiv );    \n            const firstDivContent = firstDiv.innerHTML;\n            requestObject.value.aiApiResponse = firstDivContent;\n            \n            // Update the selected element in the canvas and inform\n            \n            window.lastHtmlBeforeAiReplace = editor.getHtml();\n            //editor.UndoManager.stop();\n            if( editor.getSelected().attributes.attributes.id == \"gbTemplateContainer\" ){\n                editor.getSelected().components(firstDivContent);\n            }else{\n                editor.getSelected().replaceWith( firstDivContent );\n            }\n                \n            emit(\"aiCodeChanged\", 'ready');\n            \n        }\n    } )\n    .catch( (err)=>{\n        // Inform the request is finished with an error\n        isLoading.value = false;\n        requestObject.value.aiError = err.message;\n        emit(\"aiCodeChanged\", 'hidden');\n    } )\n}\n\nfunction aiSendClicked(){\n    let selectedElement = component.value;\n\n    let selectedHtml = selectedElement.toHTML();\n\n    let componentCss = editor.getCss({   \n                                    component: selectedElement, //editor.getSelected(), \n                                    keepUnusedStyles:false, \n                                    avoidProtected: true \n                                });\n\n\n    let bindingsList = appData.value.pages[Configuration.currentPageIndex].model.fields.map (el=>{\n        let result = { name:el.name, type:el.type };\n        if( el.columns != null ){\n            result.columns = el.columns.map(column=>column);\n        }\n        return result;\n    } );\n    bindingsList = JSON.stringify( bindingsList, null, 4 );\n\n    let extendedPrompt = `\nUser Request: ${userPrompt.value}\n\nInstructions for AI:\n1. Layout: Utilize DIV elements with \"row\" and \"st-col col-x col-sm st-module\" classes for creating a responsive layout. The layout should be divided into the sections described above. For columns, (\"col-x\"), \"x\" is a number between 1 and 12. \n2. Components: Wherever possible, employ Quasar 1 components for UI elements. For date selection, use 'q-date' instead of standard HTML input components. Refer to the supported components list provided below.\n3. never nest a \"row\" directly as a child of a \"row\" or a \"col\" directly as a child of a \"col\".\n4. For 'q-table' elements, bind data using only \"DataTable\" or Array types, never DataFrames.\n5. Data Binding: Properly assign data to UI components, ensuring mandatory attributes like 'v-model' are used for input components such as textfields, select, and checkbox. \n6. Rules:\n   - Avoid using '<template>' tags.\n   - In dynamic attributes (starting with ':'), do not use interpolated values (e.g., avoid '{{value}}').\n   - Never return an element with a CSS class whose name is or starts with \"gbTemplateContainer\"\n7. Other components: \n7.1. For \"big numbers\" use this component template (use colon in attributes for bindings if necessary):\n<st-big-number number=\"0\" title=\"Label\"></st-big-number>\n7.2. For date pickers use this component template (use colon in attributes for bindings if necessary, and note that v-model value must match for the INPUT and the q-date components):\n<q-input iscomposite=\"true\" v-model=\"undefined\" clearable=\"true\" filled=\"true\" label=\"Pick a date\"><q-icon class=\"cursor-pointer\" name=\"event\" style=\"height: 100%;\"><q-popup-proxy><q-date v-model=\"undefined\" mask=\"YYYY-MM-DD\" no-unset=\"true\" today-btn=\"true\"></q-date></q-popup-proxy></q-icon></q-input>\n7.3. For date pickers use this component template (use colon in attributes for bindings if necessary, and note that v-model value must match for the INPUT and the q-date components):\n<q-input v-model=\"undefined\" clearable=\"true\" filled=\"true\" label=\"Pick a time\"><q-icon class=\"cursor-pointer\" name=\"alarm\" style=\"height: 100%;\"><q-popup-proxy><q-time v-model=\"undefined\" mask=\"HH:mm:ss\"></q-time></q-popup-proxy></q-icon></q-input>\n7.4. For charts, use Plotly library, with this component template below, replacing binding names as needed and preserving the $_{} syntax found in the template. When binding to DataFrame data, never bind directly to it, always bind to a nested column (i.e. myDataFrame.myColumn), and use the syntax found in the template ( i.e. $_{myDataFrame.myColumn} ). Do not use the colon \":\" prefix inside attribute values, that's only for dynamic attribute names when appropriate. Make sure the plot data is properly bsae64 encoded.\n8. Styles should always be applied inline. If user provides current css styles (see below), make sure to apply them inline to your answer, unless user requests to change or remove them,\n\n<plotly data=\"W3siZ2J0eXBlIjoiU2NhdHRlciIsIngiOiIkX3tCSU5ESU5HX05BTUV9IiwieSI6IiRfe0FOT1RIRVJfQklORElOR19OQU1FfSIsInR5cGUiOiJzY2F0dGVyIiwibW9kZSI6ImxpbmVzIiwibmFtZSI6IlRyYWNlIn1d\" config=\"e30=\" layout=\"eyJ0aXRsZSI6Ik15IENoYXJ0In0=\"></plotly>\n\nAvailable Data (Bindings):\n${bindingsList}\n\nSupported Quasar Components:\n[\"q-input\", \"q-btn\", \"q-select\", \"q-radio\", \"q-checkbox\", \"q-toggle\", \"q-slider\", \"q-range\", \"q-date\", \"q-time\", \"q-knob\", \"q-list\", \"q-table\", \"q-img\", \"q-video\", \"q-avatar\", \"q-badge\", \"q-chip\", \"q-icon\", \"q-rating\", \"q-spinner\", \"q-timeline\", \"q-timeline-entry\", \"q-scroll-area\"]\n\nRelated CSS styles:\n${componentCss}\n`;\n\n/* \n    IMPORTANT:\nUse columns and rows (DIV elements with \"row\"/\"col\" classes), to generate beautiful layouts (i.e. using rows to separate SVGTextContentElement, columns to distribute controls and viuews, etc). \n\nAdd the appropriate UI components based on the purpose of the dashboard and the available data. Whenever possible, use Quasar 1 components (i.e.q-date instead of html inpout component) but only from the supported list above.\n\nPlease also assign the appropriate data to the UI components, making sure that mandatory attributes are properly assigned (i.e v-model for input components such as textfields, select, checkbox, etc).\n\nSome rules you need to apply:\n\n- For \"data\" attribute value of \"q-table\" elements, use only bindings of type-family \"DataTable\" (i.e. DataTable.DataFrames) or Array, and never use bindings of type-family \"DataFrames\" (i.e. DataFrames.DataFrames).\n\n\n- never include <template> nodes\n\n- in dynamic attributes (starting with colon), never use interpolated values (i.e. {{value}})\n\n\nHere's the available data (so-called \"bindings\" ) and their types:\n[\n    { \"name\": \"avg_price\", \"type\": \"Number\" },\n    { \"name\": \"end_date\", \"type\": \"String\" },\n    { \"name\": \"end_price\", \"type\": \"Number\" },\n    { \"name\": \"fileuploads\", \"type\": \"UnknownType\" },\n    { \"name\": \"isprocessing\", \"type\": \"Boolean\" },\n    { \"name\": \"isready\", \"type\": \"Boolean\" },\n    { \"name\": \"percent_return\", \"type\": \"Number\" },\n    { \"name\": \"period_diff\", \"type\": \"Number\" },\n    { \"name\": \"prices\", \"type\": \"DataFrames.DataFrame\", \"columns\": [ \"stock\",\"close\", \"timestamp\", \"ma20\" ] },\n    {\n        \"name\": \"prices_table\",\n        \"type\": \"DataTable.DataFrames.DataFrame\",\n        \"columns\": []\n    }, \n    { \"name\": \"selected_stock\", \"type\": \"String\" },\n    { \"name\": \"start_date\", \"type\": \"String\" },\n    { \"name\": \"stocks\", \"type\": \"Array\" }\n]\n\nHere's the list of supported Quasar components:\n[ \"q-input\", \"q-btn\", \"q-select\", \"q-radio\", \"q-checkbox\", \"q-toggle\", \"q-slider\", \"q-range\", \"q-date\", \"q-time\", \"q-knob\", \"q-list\", \"q-table\", \"q-img\", \"q-video\", \"q-avatar\", \"q-badge\", \"q-chip\", \"q-icon\", \"q-rating\", \"q-spinner\", \"q-timeline\", \"q-timeline-entry\", \"q-scroll-area\" ]\n`;\n */\n    requestObject.value = {\n        selectedHtml: selectedHtml, \n        userPrompt: extendedPrompt, \n    };\n    requestObject.value.previousPrompt = userPrompt.value;\n\n\n    // Decode the html\n    // ------------------------------------------\n    const entireHtml = requestObject.value.selectedHtml;\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(entireHtml, 'text/html');\n    const firstDiv = doc.body || null;      \n    HtmlTemplateParser.decodeAttributesInDOM(firstDiv );    \n    const firstDivContent = firstDiv.innerHTML;\n    // ------------------------------------------\n    // End of decoding html\n    // ------------------------------------------\n\n        \n    sendRequestToAiPreservingPlotlyAttributes(firstDivContent, [\"data\", \"config\", \"layout\"], (resultHtml) => {\n        //console.log( 'aiCodePanel :: sendRequestToAiPreservingPlotlyAttributes-resultHtml: ', resultHtml );\n    });\n\n\n  //window.logUserEvent( \"ai-code-panel::ask\", {   });\n    \n}\n\n\ndefineExpose( { setSelectedComponent } );\nconst emit = defineEmits([\"aiCodeChanged\"]);\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../styles/globalStyles.scss\";\n\n\n\ntextarea:disabled{\n    color: unset;\n}\nvscode-button:disabled{\n    color: unset;\n}\n\n\n.terms{\n    margin: -15px 0px 15px;\n    font-size: 0.85em;\n    opacity: 0.5;\n    text-align: center;\n    padding: 0px;\n    cursor: pointer;\n}\n\n\n</style>","import script from \"./AiCodePanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AiCodePanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AiCodePanel.vue?vue&type=style&index=0&id=69ff92f5&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-69ff92f5\"]])\n\nexport default __exports__\nimport QDate from 'quasar/src/components/date/QDate.js';\nimport QTable from 'quasar/src/components/table/QTable.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QTime from 'quasar/src/components/time/QTime.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QRadio from 'quasar/src/components/radio/QRadio.js';\nimport QCheckbox from 'quasar/src/components/checkbox/QCheckbox.js';\nimport QToggle from 'quasar/src/components/toggle/QToggle.js';\nimport QSlider from 'quasar/src/components/slider/QSlider.js';\nimport QRange from 'quasar/src/components/range/QRange.js';\nimport QKnob from 'quasar/src/components/knob/QKnob.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QImg from 'quasar/src/components/img/QImg.js';\nimport QVideo from 'quasar/src/components/video/QVideo.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QBadge from 'quasar/src/components/badge/QBadge.js';\nimport QChip from 'quasar/src/components/chip/QChip.js';\nimport QRating from 'quasar/src/components/rating/QRating.js';\nimport QSpinner from 'quasar/src/components/spinner/QSpinner.js';\nimport QTimeline from 'quasar/src/components/timeline/QTimeline.js';\nimport QTimelineEntry from 'quasar/src/components/timeline/QTimelineEntry.js';\nimport QScrollArea from 'quasar/src/components/scroll-area/QScrollArea.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QDate,QTable,QInput,QIcon,QPopupProxy,QTime,QBtn,QSelect,QRadio,QCheckbox,QToggle,QSlider,QRange,QKnob,QList,QImg,QVideo,QAvatar,QBadge,QChip,QRating,QSpinner,QTimeline,QTimelineEntry,QScrollArea});\n","import Configuration from \"./Configuration\";\n\nexport default class StatusMonitor{\n    constructor( onOpen, onClose, onMessage){\n        this.wsEndpoint = Configuration.getExternalApiBaseUrl('ws');\n        this.ws = null;\n        this.onOpenHandler = onOpen;\n        this.onCloseHandler = onClose;\n        this.onMessageHandler = onMessage;\n    }\n\n    connect(){\n        this.ws = new WebSocket( this.wsEndpoint );\n        this.ws.onopen = this.onOpen.bind(this);\n        this.ws.onmessage = this.onMessage.bind(this);\n        this.ws.onclose = this.onClose.bind(this);\n    }\n\n    restart( seconds ){\n        seconds = seconds || 1;\n        setTimeout( ()=>{\n            this.connect();\n        }, seconds*1000 );\n    }\n\n    onOpen(){\n        this.ws.send(JSON.stringify({\n            'channel': 'geniebuilder',\n            'message': 'subscribe',\n            'payload': {}\n        }));\n        this.onOpenHandler();\n    }\n\n    onMessage(message){\n        this.onMessageHandler(message);\n    }\n\n    onClose(){\n        this.onCloseHandler();\n    }\n\n}","<template>\n  <div class=\"mainContainer\" v-if=\"appData\">\n    <div class=\"topBar\">\n      <div style=\"width: 100%; display: flex; flex-direction: row; justify-content: end; padding-right: 12px;\">\n          <div class=\"topbarButton\" @click=\"toggleComponentsFrame\" title=\"View Component Outlines\" style=\"padding-top: 5px;\">\n            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"\">highlight_alt</i>\n          </div>\n          <div class=\"topbarButton\" @click=\"openFeedbackPage\" title=\"Give Feedback\" style=\"padding-top: 5px;\">\n            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"\">feedback</i>\n          </div>\n          <div class=\"topbarButton\" @click=\"openHelpPage\" title=\"Get Support\">\n            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"\">help</i>\n          </div>\n          <div class=\"topbarButton\" @click=\"openThemeEditor\" title=\"Theme Editor\">\n            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"\">palette</i>\n            <img v-if=\"!userIsPro()\" src=\"img/icons/pro_badge.png\" class=\"proBadge\" style=\"height: 10px; position: absolute;     top: 20px;     right: -4px;     pointer-events: none;\"/>\n          </div>\n          <div class=\"topbarButton\" @click=\"reloadPage\" title=\"Reload\">\n            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"\">refresh</i>\n          </div>\n          <div class=\"topbarButton\" @click=\"saveTemplate(true)\" title=\"Save\">\n            <i aria-hidden=\"true\" role=\"img\" class=\"q-icon notranslate material-icons\" style=\"\">save</i>\n          </div>\n      </div>\n      <div class=\"topToolBar\" style=\"display: flex; flex-direction: row;\">\n        <div v-if=\"!userIsPro()\" style=\"flex-grow: 1; text-align: left; padding-left: 15px;\">\n            <vscode-button @click=\"showUpgradeLicenseDialog(false)\" style=\"\">Upgrade to PRO</vscode-button> \n        </div>\n        <div style=\"display: flex; flex-direction: column;\">\n          <div class=\"gbLogo\" v-html=\"getLogoContent()\"></div>\n          <div style=\"margin-right: 10px; color: rgb(204, 204, 204); width: 100%; padding: 3px 0px; font-size: 0.9em; position: relative; top: -8px; opacity: 0.7;\">v {{ version }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"rowStack\">\n      <div class=\"centralBar\">\n        <div class=\"panel canvasPanel\" style=\"\">\n            <CanvasPanel ref=\"canvasPanel\" @autoSaveTriggered=\"onAutoSaveTriggered\" @saveTriggered=\"saveTemplate(true)\" @componentSelected=\"onComponentSelected\" @bindingDroppedOnComponent=\"onBindingDroppedOnComponent\" :appData=\"appData\" />\n        </div>\n        <div class=\"panel logsPanel\">\n          <Panel title=\"Logs\">\n            <LogsPanel ref=\"logsPanel\" :appData=\"appData\"/>\n          </Panel>\n        </div>\n      </div>\n      <splitpanes horizontal class=\"rightBar\" @resized=\"panesResized\">\n        <pane id=\"bindingsPanelContainer_Pane\" :size=\"panelStates.bindingsPanelContainer.size\" :style=\"{ minHeight: panelStates.bindingsPanelContainer.expanded ? '200px' : '25px', maxHeight: panelStates.bindingsPanelContainer.expanded ? '100%' : '25px'}\">\n          <div class=\"panel bindingsPanel fullHeight\">\n            <Panel title=\"Library & Bindings\" ref=\"bindingsPanelContainer\" @update:expanded=\"updatePaneState('bindingsPanelContainer', $event)\" class=\"fullHeight\">\n              <tabs mode=\"light\" @changeTab=\"onMainTabChanged\" style=\"height: 100%; display: flex; flex-direction: column;\">\n                <tab title=\"UI Library\" active=\"true\" style=\"\">\n                  <LibraryPanel ref=\"libraryPanel\" @blockCustomTriggered=\"onBlockCustomTriggered\" />\n                </tab>\n                <tab title=\"Styles\">\n                  <div id=\"myStyleEditorContainer\">\n                    <div id=\"myStyleEditorContainerClasses\"></div>\n                    <div id=\"myStyleEditorContainerSections\"></div>\n                  </div>\n                </tab>\n                <tab title=\"Bindings\">\n                  <BindingsPanel ref=\"bindingsPanel\" :appData=\"appData\" @bindingOvered=\"onBindingOvered\" />\n                </tab>\n                <tab title=\"Layers\">\n                  <div id=\"layersContainer\">\n                  </div>\n                </tab>\n                <tab title=\"Code\" style=\"width: 100%\">\n                  <div class=\"nothingSelected\" v-show=\"!selectedComponent\">\n                    <i>Nothing selected</i>\n                  </div>\n                  <div id=\"customCodeEditor\" v-show=\"selectedComponent\">\n                    <Codemirror\n                      ref=\"codeEditor\"\n                      v-model:value=\"codeEditorValue\"\n                      :options=\"cmOptions\"\n                      border\n                      placeholder=\"test placeholder\"\n                      :height=\"200\"\n                    />\n                    <vscode-button @click=\"applyCodeChanges\">Apply</vscode-button>\n                  </div>\n                </tab>\n              </tabs>\n            </Panel>\n          </div>\n        </pane>\n        <pane id=\"propertiesPanelContainer_Pane\" :size=\"panelStates.propertiesPanelContainer.size\" :style=\"{ minHeight: panelStates.propertiesPanelContainer.expanded ? '100px' : '25px', maxHeight: panelStates.propertiesPanelContainer.expanded ? '100%' : '25px'}\">\n          <div class=\"panel propertiesPanel fullHeight\">\n            <Panel :title=\"getPropertiesPanelName\" ref=\"propertiesPanelContainer\" @update:expanded=\"updatePaneState('propertiesPanelContainer', $event)\" class=\"fullHeight\">\n              <PropertiesPanel ref=\"propertiesPanel\" :appData=\"appData\" :selectedComponent=\"selectedComponent\" class=\"fullHeight\" :parentPanel=\"propertiesPanelContainer\"/>\n            </Panel>\n          </div>  \n        </pane>\n        <pane id=\"aiHelpPanelContainer_Pane\" :size=\"panelStates.aiHelpPanelContainer.size\" :style=\"{ minHeight: panelStates.aiHelpPanelContainer.expanded ? '150px' : '25px', maxHeight: panelStates.aiHelpPanelContainer.expanded ? '100%' : '25px'}\">\n          <div class=\"panel aiHelpPanel fullHeight\">\n            <Panel title=\"AI Assistant\" ref=\"aiHelpPanelContainer\" @update:expanded=\"updatePaneState('aiHelpPanelContainer', $event)\" class=\"fullHeight\">\n              <tabs mode=\"light\" style=\"height: 100%; display: flex; flex-direction: column;\">\n                <tab title=\"UI\" active=\"true\">\n                  <AiCodePanel ref=\"aiCodePanel\" :appData=\"appData\" @aiCodeChanged=\"onAiCodeChanged\" :selectedComponent=\"selectedComponent\" class=\"fullHeight\"/>\n                </tab>\n                <tab title=\"Help\" style=\"\">\n                  <AiHelpPanel ref=\"aiHelpPanel\" :appData=\"appData\" :selectedComponent=\"selectedComponent\" class=\"fullHeight\"/>\n                </tab>\n              </tabs>\n              \n            </Panel>\n          </div>  \n        </pane>      \n      </splitpanes>\n    </div>\n    \n    <BindingsConnector ref=\"bindingConnectorsManager\" :appData=\"appData\" />\n    \n  </div>\n</template>\n\n\n\n<script setup >\n// ===============================================================================\n// Import 3rd party modules\n// ===============================================================================\nimport axios from 'axios';\nimport _ from 'underscore';\nimport { Splitpanes, Pane } from 'splitpanes'\nimport 'splitpanes/dist/splitpanes.css'\nimport { computed, ref, onMounted } from 'vue'\nimport Codemirror from \"codemirror-editor-vue3\";\nimport \"codemirror/addon/display/placeholder.js\";\nimport \"codemirror/mode/xml/xml.js\";\nimport \"codemirror/addon/display/placeholder.js\";\nimport \"codemirror/theme/dracula.css\";\nimport \"codemirror/theme/neat.css\";\n\n// ===============================================================================\n// Import local modules\n// ===============================================================================\nimport activateInterceptors from \"../utils/axiosInterceptors\"\nactivateInterceptors();                       // registers interceptor to inject session id and manage restricted-license responses\nimport { clear, update } from 'vue-plotly';   // This needs to be imported even though it's not used directly\nimport Panel from './Panel.vue'\nimport Tabs from './tabs/Tabs.vue';\nimport Tab from './tabs/Tab.vue';\nimport BindingsPanel from './panels/BindingsPanel.vue'\nimport CanvasPanel from './panels/CanvasPanel.vue'\nimport LibraryPanel from './panels/LibraryPanel.vue'\nimport PropertiesPanel from './panels/PropertiesPanel.vue'\nimport LogsPanel from './panels/LogsPanel.vue'\nimport BindingsConnector from './BindingsConnector.vue'\nimport AiHelpPanel from './panels/AiHelpPanel.vue';\nimport AiCodePanel from './panels/AiCodePanel.vue';\nimport StatusMonitor from '../utils/StatusMonitor';\nimport HtmlTemplateParser from '../utils/HtmlTemplateParser';\nimport Configuration from '../utils/Configuration';\n\n\n\n// ===============================================================================\n// Local variables\n// ===============================================================================\n\nconst version = process.env.PACKAGE_VERSION;\nlet codeEditor = ref(null);\nlet codeEditorValue = ref('test <p>para</p>');\nlet cmOptions = ref({\n        mode: \"text/xml\", // Language mode\n        theme: \"neat\", // Theme\n        lineWrapping: true\n      });\n\nlet beautifyOptions = {\n  indent_size: 4, indent_char: \" \", max_preserve_newlines: 5, preserve_newlines: true, keep_array_indentation: false, \n  break_chained_methods: false, indent_scripts: \"normal\", brace_style: \"collapse\", space_before_conditional: true, \n  unescape_strings: false, jslint_happy: false, end_with_newline: false, wrap_line_length: 0, indent_inner_html: false, \n  comma_first: false, e4x: false, indent_empty_lines: false, inline_custom_elements: false \n};\n\n\n// Used when editing a specific component, so that we can save the full document\n// and to compare on save and when file-change messages are received\nlet fullDocumentHTML = \"\"; \nlet fullDocumentCSS = \"\";\nlet lastSavedHTMLCode = \"\";\n\n// Panels state management\n// --------------------------------------------------------------------------------\nlet panelStates = ref(null);\nlet storedStates = localStorage.getItem('panelStates');\nif( storedStates ){\n  panelStates.value = JSON.parse(storedStates);\n}else{\n  panelStates.value = {\n    bindingsPanelContainer: { expanded: true, size: 10 },\n    propertiesPanelContainer: { expanded: true, size: 10 },\n    aiHelpPanelContainer: { expanded: true, size: 10 },\n  }\n  savePanelStates();\n}\n\n\n// Component reactive variables and child refs\n// --------------------------------------------------------------------------------\nconst bindingsPanelContainer = ref(null);\nconst propertiesPanelContainer = ref(null);\nconst aiHelpPanelContainer = ref(null);\nconst logsPanel = ref(null);\nconst canvasPanel = ref(null);\nconst bindingsPanel = ref(null);\nconst libraryPanel = ref(null);\nconst propertiesPanel = ref(null);\nconst aiHelpPanel = ref(null);\nconst aiCodePanel = ref(null);\nconst bindingConnectorsManager = ref(null);\nconst selectedComponent = ref(null);\nlet currentPage = null;\nlet savedFromNoCodeEditor = false;\nlet appData = window.appData = ref(null);\n\n\n\n// Status monitor (websocket)\n// --------------------------------------------------------------------------------\nconst statusMonitor = window.statusMonitor = new StatusMonitor( onSocketOpen, onSocketClose, onSocketMessage);\n\n\n// Computed properties\n// --------------------------------------------------------------------------------\nconst getPropertiesPanelName = computed( ()=>{\n  let title = \"Properties\";\n  if( selectedComponent && selectedComponent.value ){\n    if( selectedComponent.value.attributes.name )\n      title += ' - ' + selectedComponent.value.attributes.name;\n  }else{\n    title += ' (nothing selected)';\n  }\n  return title;\n});\n\n\n\n\n\n// ===============================================================================\n// Functions\n// ===============================================================================\n\n\n// Panel Management\n// ===============================================================================\nfunction savePanelStates() {\n  try {\n    panelStates.value.bindingsPanelContainer.size = Math.round(document.getElementById('bindingsPanelContainer_Pane').style.height.split('%').join(''));\n    panelStates.value.propertiesPanelContainer.size = Math.round(document.getElementById('propertiesPanelContainer_Pane').style.height.split('%').join(''));\n    panelStates.value.aiHelpPanelContainer.size = Math.round(document.getElementById('aiHelpPanelContainer_Pane').style.height.split('%').join(''));\n  } catch (e) {\n    console.error('savePanelStates error', e);\n  }\n  localStorage.setItem('panelStates', JSON.stringify(panelStates.value));\n}\n\nfunction panesResized(){\n  savePanelStates();\n}\n\nfunction updatePaneState(panelRefName, expanded) {\n  panelStates.value[panelRefName].expanded = expanded;\n  savePanelStates();\n}\n\n\n\n\n// Used by view template (as getters and event handlers)\n// ===============================================================================\nfunction capitalize(str){\n  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\n}\n\nfunction userIsPro(){\n  return Configuration.IS_PRO\n}\n\nfunction getLogoContent(){\n  let result = `Genie Builder <span style=\" font-weight: bold;\">`;\n  result += capitalize( !userIsPro() ? \"Lite\" : Configuration.LICENSE_TYPE);\n  result += `</span>`;\n  return result;\n}\n\n\n\n// UI-Changes handlers\n// ===============================================================================\nfunction onMainTabChanged(index){\n  if( index == 4 ){\n    setTimeout( ()=>{\n      updateCodeEditorContent();\n    }, 200 );\n  }\n}\n\n\nfunction onAiCodeChanged(status){\n  canvasPanel.value.showAiCodePreview(status);\n}\n\n\nfunction applyCodeChanges(){\n  let fullContent = codeEditorValue.value;\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(fullContent, 'text/html');\n  const firstDiv = doc.body;\n  HtmlTemplateParser.encodeAttributesInDOM(firstDiv );\n  \n  // Get the styles before swapping the component or they will get lost\n  const firstDivContent = firstDiv.innerHTML;\n  let previousStyle = editor.getCss();\n  editor.getSelected().replaceWith( firstDivContent )\n  editor.setStyle(previousStyle);\n\n  /* window.logUserEvent( \"code-editor::appliedChanges\", { \n      component: window.selectedComponent.attributes.tagName, \n  }); */\n}\n\n\nfunction onBlockCustomTriggered(props){\n  bindingsPanel.value.setHandleBlocks(props); \n}\n\n\nfunction onBindingOvered(event){\n  // Inform connectors-manager about mouse-overed binding\n  bindingConnectorsManager.value.onBindingOvered( event );\n  // Ask grapes iframe for list of elements using overed binding\n  let iframeElement = document.querySelector('.gjs-frame') ;\n  if( event.binding ){\n    let message = { \n      target:\"main-controller\", \n      payload: { \n        command:\"reportElementsUsingBinding\", \n        bindingName:event.binding.name \n      }\n    };\n    iframeElement.contentWindow.postMessage(message, \"*\");\n  }else{\n    bindingConnectorsManager.value.updateElementsPositions( [] );\n  }\n}\n\n\nfunction onBindingDroppedOnComponent( data ){\n  // Get column names\n  let dsName = data.bindingInfo.bindingname;\n  let columns = sharedData.modelFieldsByName[dsName]?.columns;\n  if( columns && columns.length > 0 ){\n    let columnA, columnB;\n    columnA = columnB = `$_{${dsName}.${columns[0]}}`;\n    if( columns.length > 1 )\n      columnB = `$_{${dsName}.${columns[1]}}`;\n    \n      // tag the temp element to remove it when done\n    let tempElement = data.newComponentModel; //editor.getSelected();\n    \n    // select the parent node (the chart element)\n    editor.select( data.targetModel);\n\n    setTimeout( ()=>{\n      // Update the chart properties panel\n      let chartPropertiesPanel = propertiesPanel.value?.chartPropertiesPanel\n      if( chartPropertiesPanel){\n        chartPropertiesPanel.addNewTraceFromBinding(columnA, columnB);\n      }\n      // remove the temp element\n      editor.select( tempElement );\n      let collection = tempElement.collection;\n      collection.remove(tempElement);\n\n      // Select the chart again\n      editor.select( data.targetModel );\n      \n    }, 100);\n  }\n}\n\n\nfunction onComponentSelected(com){\n  window.selectedComponent = selectedComponent.value = com;\n  if( propertiesPanel.value){\n    propertiesPanel.value.setSelectedComponent(com);      \n  }\n  if( aiCodePanel.value){\n    aiCodePanel.value.setSelectedComponent(com);      \n  }\n  updateCodeEditorContent();\n}\n\n\nfunction updateCodeEditorContent(){\n  let com = selectedComponent.value;\n  if( !com )\n    return;\n\n    // Update the code editor value\n    let selectedComponentCode = com.toHTML();\n\n  const entireHtml = selectedComponentCode; //editor.getHtml({ cleanId: true });\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(entireHtml, 'text/html');\n  const firstDiv = doc; //.body.querySelector('#gbTemplateContainer') || null;  \n  HtmlTemplateParser.decodeAttributesInDOM(firstDiv );\n  selectedComponentCode = firstDiv.querySelector(\"body\").innerHTML;\n\n  let beautifiedHtml = html_beautify ( selectedComponentCode, beautifyOptions );\n  // Restore special tags\n  //beautifiedHtml = HtmlTemplateParser.restoreSpecialElements( beautifiedHtml );\n  codeEditorValue.value = beautifiedHtml;\n  codeEditor.value.refresh();\n}\n\n\nfunction showUpgradeLicenseDialog(showDialog=true){\n  window.showUpgradeLicenseDialog(showDialog);\n}\n\n\nfunction openThemeEditor(){\n  if( Configuration.IS_PRO ){\n    window.parent.postMessage( {command:\"openThemeEditor\", appid:Configuration.appid }, \"*\" );\n  }else{\n    window.showUpgradeLicenseDialog();\n  }\n  //window.logUserEvent( \"toolbar::click\", { element:\"themeEditor\", available: Configuration.IS_PRO } );\n}\n\n\nfunction reloadPage(){\n  window.location.reload();\n  //window.logUserEvent( \"toolbar::click\", { element:\"reloadNocodeEditor\" } );\n}\n\n\nfunction updateData(newData){\n  appData.value = (newData);\n}\n\nwindow.switchCodeEditorTheme = ()=>{\n  if( window.currentThemeType == 'light' ){\n    cmOptions.value.theme = \"neat\";\n  }else{\n    cmOptions.value.theme = \"dracula\";\n  }\n  themeType = window.currentThemeType;\n  if( codeEditor.value )\n    codeEditor.value.refresh();\n}\n\n\nfunction translateBindingTypes(pages){\n  const typesMap = {\n              \"{Function}\": \"Function\", \n              \"{Bool}\": \"Boolean\", \n              \"{String}\": \"String\", \n              \"{Char}\": \"String\", \n              \"{Date}\": \"Date\", \n              \"{Number}\": \"Number\", \n                  \"{Int64}\": \"Number\", \n                  \"{Int32}\": \"Number\", \n                  \"{Int16}\": \"Number\", \n                  \"{Int8}\": \"Number\",\n                  \"{Float64}\": \"Number\",\n                  \"{Float32}\": \"Number\",\n                  \"{Float16}\": \"Number\",\n                  \"{Float8}\": \"Number\",\n              \"{Vector}\": \"Array\",\n                  \"{Vector{Any}}\": \"Array\",\n                  \"{Vector{Bool}}\": \"Array\",\n                  \"{Vector{String}}\": \"Array\",\n                  \"{Vector{Char}}\": \"Array\",\n                  \"{Vector{Number}}\": \"Array\",\n                  \"{Vector{Float64}}\": \"Array\",\n                  \"{Vector{Int64}}\": \"Array\",\n                  \"{Vector{Int32}}\": \"Array\",\n                  \"{Vector{Int16}}\": \"Array\",\n                  \"{Vector{Int8}}\": \"Array\", \n                  \"Vector{Dict}\": \"Array\", \n              \"{Matrix}\": \"Array\",\n                  \"{Matrix{Any}}\": \"Array\",\n                  \"{Matrix{Bool}}\": \"Array\",\n                  \"{Matrix{String}}\": \"Array\",\n                  \"{Matrix{Char}}\": \"Array\",\n                  \"{Matrix{Number}}\": \"Array\",\n                  \"{Matrix{Float64}}\": \"Array\",\n                  \"{Matrix{Int64}}\": \"Array\",\n                  \"{Matrix{Int32}}\": \"Array\",\n                  \"{Matrix{Int16}}\": \"Array\",\n                  \"{Matrix{Int8}}\": \"Array\", \n                  \"Matrix{Dict}\": \"Array\", \n              \"{Object}\": \"Object\", \n              \"{NamedTuple{(:min, :max), Tuple{Int64, Int64}}}\": \"Object\", \n              \"{Dict}\": \"Object\", \n              \"{Dict{String, Any}}\": \"Object\", \n              \"{Dict{String, Bool}}\": \"Object\", \n              \"{Dict{String, String}}\": \"Object\", \n              \"{RangeData{Int64}}\": \"Object\", \n              \"{Vector{PlotlyBase.GenericTrace{Dict{Symbol, Any}}}}\": \"PlotlyBase.GenericTrace\", \n              \"{PlotlyBase.Layout{Dict{Symbol, Any}}}\": \"PlotlyBase.Layout\", \n              \"{DataTable{DataFrames.DataFrame}}\": \"DataTable.DataFrames.DataFrame\", \n              \"{DataFrames.DataFrame}\": \"DataFrames.DataFrame\", \n              \"{DataFrame}\": \"DataFrames.DataFrame\", \n              \"{PlotlyData}\": \"PlotlyData\", \n              \"{DataTablePagination}\": \"DataTablePagination\", \n          };\n  pages.forEach( (page)=>{\n    // remove non-reactive vars\n    page.model.fields = page.model.fields.filter( (field)=>{ return field.isreactive} );\n    // translate types\n    page.model.fields.forEach( (field)=>{\n      let fieldType = field.type;\n      let cleanType = fieldType.replace(\"Reactive\", \"\");\n      let mappedType = typesMap[cleanType];\n      // Special case for ANY kind of Vector with Dicts inside (array of objects) suitable for Q-Table,\n      // And vector of vectors (i.e. array of arrays) suitable for HeatMap Chart's Z axis\n      if( mappedType == undefined && (cleanType.indexOf( '{Vector{Dict{') == 0 || cleanType.indexOf( '{Vector{Vector{') == 0 ) ){\n        mappedType = \"Array\";\n      }\n      if( mappedType ){\n        field.type = mappedType;\n      }else{\n        field.type = \"UnknownType\";\n      }\n    } );\n    \n    // sort alphabetically\n    page.model.fields = _.sortBy( page.model.fields, (field)=>{ return field.name.toLowerCase() } );\n  } );\n}\n\n\n\n\n// GB app's HTML Template parsing (load/save/parse...)\n// ===============================================================================\nfunction getCurrentHtmlAndCss(){\n  let editedHtmlCss = editor.getCss();\n  const entireHtml = editor.getHtml({ cleanId: true });\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(entireHtml, 'text/html');\n  const firstDiv = doc.body.querySelector('#gbTemplateContainer') || null;  \n\n  // cleanup css, as grapes sometimes adds unwanted rules for global and body\n  // Regular expression to match '* {...}' and 'body {...}' patterns\n  let pattern = /\\*\\s*{[^}]*}|body\\s*{[^}]*}/g;\n  // Replace the matched patterns with an empty string\n  editedHtmlCss = editedHtmlCss.replace(pattern, '');\n  \n  \n  HtmlTemplateParser.decodeAttributesInDOM(firstDiv );\n  \n  // On element attributes with value = \"true\" Grapes will return them empty (as it's the HTML standar)\n  // This is breaking when it's a dynamic Vue attribute, since Vue requires a value to be passed\n  // So we need to \"fix\" the HTML before saving it, by enforcing the \"true\" value to be present\n  \n  \n  const firstDivContent = firstDiv.innerHTML;\n\n\n\n    let beautifiedHtml = html_beautify ( firstDivContent, beautifyOptions );\n\n    // Restore special tags\n    beautifiedHtml = HtmlTemplateParser.restoreSpecialElements( beautifiedHtml );\n\n    return { beautifiedHtml, editedHtmlCss };\n}\n\n\nfunction mergeCss(fullCss, partialCss) {\n    function parseCss(css) {\n        const regex = /([^{]+)\\{([^}]+)\\}/g;\n        let matches;\n        const parsed = {};\n        \n        while ((matches = regex.exec(css)) !== null) {\n            const selector = matches[1].trim();\n            const properties = matches[2].trim();\n            parsed[selector] = properties;\n        }\n        return parsed;\n    }\n\n    function stringifyCss(cssObj) {\n        return Object.entries(cssObj).map(([selector, properties]) => {\n            return `${selector} { ${properties} }`;\n        }).join(' ');\n    }\n\n    const fullCssObj = parseCss(fullCss);\n    const partialCssObj = parseCss(partialCss);\n    for (const [selector, properties] of Object.entries(partialCssObj)) {\n        fullCssObj[selector] = properties;\n    }\n    return stringifyCss(fullCssObj);\n}\n\n\nfunction getCleanHtmlCode(htmlString){\n  let parser = new DOMParser();\n  let doc = parser.parseFromString(htmlString, 'text/html');\n  const firstDiv = doc.body || null;  \n  const firstDivContent = firstDiv.innerHTML;\n  let beautifiedHtml = html_beautify ( firstDivContent, beautifyOptions )\n  beautifiedHtml = HtmlTemplateParser.restoreSpecialElements( beautifiedHtml );\n  return beautifiedHtml; \n}\n\n\nfunction onAutoSaveTriggered(){\n  saveTemplate(); \n}\n\n\nfunction saveTemplate(force){\n  if( force ){\n    //window.logUserEvent( \"toolbar::click\", { element:\"save\" } );\n  }\n  // Get the current HTML and CSS\n  let { beautifiedHtml, editedHtmlCss } = getCurrentHtmlAndCss();\n  \n  // Skip saving if the document contains a temp placeholder\n  let containsTempPlaceHolder = beautifiedHtml.indexOf('<tempplaceholder') > -1;\n  if( containsTempPlaceHolder ){\n    return;\n  }\n\n  // Process both new and old (initially loaded) HTML code to properly compare for changes\n  let cleanBeautifiedCode = getCleanHtmlCode( beautifiedHtml );\n  let cleanLastSavedCode = getCleanHtmlCode( lastSavedHTMLCode );  \n  let contentHasChanged = cleanLastSavedCode != cleanBeautifiedCode;\n  \n  // If the content has not changed, do not save (unless forced to do so, which happens when user manually clicks save)\n  if( contentHasChanged || force ){\n      lastSavedHTMLCode = beautifiedHtml;\n  }else{\n    return;\n  }\n\n   // ====== Special case when editing inner element ======\n   if( Configuration.elementid ){\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(fullDocumentHTML, 'text/html');\n      let element = doc.querySelector( \"#\"+Configuration.elementid);\n      element.innerHTML = beautifiedHtml;\n\n      // process the full document\n      const firstDiv = doc.body;\n      const firstDivContent = firstDiv.innerHTML;\n      beautifiedHtml = html_beautify ( firstDivContent, beautifyOptions );\n      beautifiedHtml = HtmlTemplateParser.restoreSpecialElements( beautifiedHtml );\n    }\n   \n   // Prepare path for saving\n  let pageViewPath = currentPage.view;\n  let encodedViewPath = encodeURIComponent(pageViewPath);\n  let saveUrl = `${apibase}apps/${Configuration.appid}/save?path=${encodedViewPath}`;\n\n  // Set flag to prevent reload on file change\n   savedFromNoCodeEditor = true;\n    axios.post( saveUrl, { payload: beautifiedHtml } )\n        .then(  (response) => {\n          // Catch server errors\n          if( response.status != 200 ){\n            showApiErrorAlert( `There was an issue saving your changes (code ${response.status}). If the problem persists please try reloading this window.` );\n            return;\n          }\n          // If editing specific element, do not save css file\n          // To-do: rad full css and merge with edited one\n          if( Configuration.elementid ){\n            let mergedCss = mergeCss( fullDocumentCSS, editedHtmlCss );\n            editedHtmlCss = mergedCss;\n          }\n\n          // The GB back-end doesn't seem to notify (via ws) all changes when multiple files are saved at once\n          // Specifically, tchanges on the html file are not notified if we save the css immediately after.\n          // So we need to wait a bit before saving the css file\n          // To-do: this is a temporary fix, we need to find a better way to handle this. \n          // GB server should notify changes to all files, not just the last one\n          setTimeout( ()=>{\n            let saveCssUrl = `${apibase}apps/${Configuration.appid}/save?path=public/css/autogenerated.css`;\n            axios.post( saveCssUrl, { payload: editedHtmlCss } )\n              .then(  (response) => {\n                savedFromNoCodeEditor = false;\n              } )\n              .catch( (error) => {\n              });\n          }, 1000 );\n          \n        } )\n        .catch( (error) => {\n          // Catch server errors\n          showApiErrorAlert( `There was an issue saving your changes (Network error). If the problem persists please try reloading this window.` );\n        });\n}\n\n\n\n\n// Unsaved changes management\n// ===============================================================================\nfunction clearStoredUnsavedChanges(){\n  let currentPath = currentPage.config.app_path + '/' + currentPage.view;\n  localStorage.removeItem('unsavedChanges__' + currentPath);\n}\n\nfunction getStoredUnsavedChanges(){\n  let currentPath = currentPage.config.app_path + '/' + currentPage.view;\n  let unsavedChanges = localStorage.getItem('unsavedChanges__' + currentPath);\n  if( unsavedChanges ){\n    unsavedChanges = JSON.parse(unsavedChanges);\n  }\n  return unsavedChanges;\n}\n\nfunction setStoredUnsavedChanges (){\n  let currentPath = currentPage.config.app_path + '/' + currentPage.view;\n  let currentContents = getCurrentHtmlAndCss();\n  currentContents = JSON.stringify(currentContents);\n  localStorage.setItem('unsavedChanges__' + currentPath, currentContents);\n}\n\nfunction toggleComponentsFrame(){\n  if(editor.Commands.isActive(\"sw-visibility\")){\n      editor.Commands.stop(\"sw-visibility\");\n  }else{\n    editor.runCommand(\"sw-visibility\");\n  }\n}\n\n\n// Messaging with vscode's GB extension\n// ===============================================================================\nfunction openFeedbackPage(){\n    window.parent.postMessage( {command:\"openFeedbackForm\" }, \"*\" );\n    //window.logUserEvent( \"toolbar::click\", { element:\"feedbackForm\" } );\n}\n\nfunction openHelpPage(){\n    window.parent.postMessage( {command:\"openHelpPage\" }, \"*\" );\n    //window.logUserEvent( \"toolbar::click\", { element:\"getSupport\" } );\n}\n\nfunction informNoCodeVersion(){\n    window.parent.postMessage( {command:\"informNoCodeVersion\", metadata:{nocodeVersion:version} }, \"*\" );\n}\n\nfunction showApiErrorAlert(error){\n  window.parent.postMessage( {command:\"showApiErrorAlert\", message:error }, \"*\" );\n}\n\n\n\n// GB API Websocket\n// ===============================================================================\nfunction onSocketOpen(data){\n}\n\nfunction onSocketMessage(data){\n  let messageData = JSON.parse(data.data);\n  // decode message if it's base64-encoded\n  if( messageData.message && messageData.message.indexOf('base64:') == 0 ){\n    messageData.message = atob( messageData.message.replace('base64:', '') );\n  }\n  // Check if the message is a file change notification and reload the page if it's not the current page\n  if( messageData.message && messageData.message.indexOf('filechanged:') == 0 ){\n    let filePath = messageData.message.replace('filechanged:', '');\n    let currentPageFullPath = currentPage.config.app_path + '/' + currentPage.view;\n    // To-do: probably need to change appId too, if it is received within the socket message\n    let isSameFile = ( filePath == currentPageFullPath );\n    let isAutogeneratedCss = ( filePath.indexOf('autogenerated.css' ) > -1 );\n    let isThemeCss = ( filePath.indexOf('theme.css' ) > -1 );\n    \n    if( isThemeCss || (!isAutogeneratedCss && !savedFromNoCodeEditor) ){\n      if( !isSameFile ){\n        setStoredUnsavedChanges();\n      }\n      window.location.reload();\n    }\n  }else if( logsPanel&& logsPanel.value){\n    logsPanel.value.addLog( { appid: messageData.appid, timestamp: messageData.timestamp, source: 'server', level: messageData.type, message: messageData.message + ': ' + messageData.status } );\n  }\n}\n\nfunction onSocketClose(data){\n  statusMonitor.restart(5); // Attempt to restart with some delay\n}\n\n\n\n// External methods (called from other components or contexts)\n// ===============================================================================\nfunction startEditingComponentContent(){\n  const selectedElement = editor.getSelected();\n  //window.logUserEvent(\"component::editNested\", { component: selectedElement.attributes.tagName });\n  window.parent.postMessage( { \n    command:\"editNestedComponent\", \n    appid:searchParams.appid, \n    filepath:searchParams.filepath, \n    ccid: selectedElement.getId()\n  }, \"*\" );\n}\n\ndefineExpose({\n  startEditingComponentContent\n})\n\n\n\n\n\n// Main function (Entry point)\n// ===============================================================================\nfunction init(){\n  informNoCodeVersion();\n\n  window.showUpgradeLicenseDialog = ( showDialog=true )=>{\n    window.parent.postMessage( {command:\"showUpgradeLicenseDialog\", metadata:{ showDialog } }, \"*\" );\n  }\n\n  window.canvasPanel = canvasPanel;\n  // listen for scrolling to update iframe position\n  document.addEventListener('scroll', e => {\n    let bindConnMgr = bindingConnectorsManager.value;\n    if( bindConnMgr == null )\n      return;\n    bindConnMgr.updateIframePosition();\n  });\n\n  // Listen to common shortcuts (undo/redo/copy/paste...)\n\n  document.addEventListener('keydown', e => {\n    if( e.ctrlKey || e.metaKey ){\n      switch( e.key ){\n        case \"s\":\n          e.preventDefault();\n          saveTemplate();\n          break;\n        case \"z\":\n          e.preventDefault();\n          if( e.shiftKey)\n            document.execCommand(\"redo\");\n          else\n            document.execCommand(\"undo\");\n          break;\n        case \"c\":\n          e.preventDefault();\n          document.execCommand(\"copy\");\n          break;\n        case \"v\":\n          e.preventDefault();\n          document.execCommand(\"paste\");\n          break;\n        case \"x\":\n          e.preventDefault();\n          document.execCommand(\"cut\");\n        case \"a\":\n          e.preventDefault();\n          document.execCommand(\"selectAll\");\n      }\n    }\n  });\n    \n  // Listen fot postMessge events from grapes iframe\n  window.addEventListener(\n    \"message\",\n    (event) => {\n      if (event.data.target !== \"nocode-builder\") return;\n\n      let bindConnMgr = bindingConnectorsManager.value;\n      if( bindConnMgr == null )\n        return;\n\n      bindConnMgr.updateElementsPositions(event.data.payload);\n    },\n    false,\n  );\n\n  if(!apibase || !Configuration.appid ){\n    return;\n  }\n\n  // Load the list of apps\n  axios.get( apibase + 'apps' )\n  .then( (result) => {\n\n    // Fidn the requested app\n    let myApp = result.data.applications.find( (app)=>{ \n      return app.id.value.toString() == Configuration.appid \n    } );\n    // Store the general data about the app (as returned by /apps endpoint)\n    let fullAppData = myApp;\n\n    if( myApp != null ){\n      // Load the app data from API\n      axios.get( apibase + 'apps/' + Configuration.appid + '/pages'  )\n      .then( (result) => {\n        translateBindingTypes(result.data.pages);\n        fullAppData.pages = result.data.pages;\n        updateData(fullAppData);\n        setTimeout( ()=>{\n          // Set the current page based on the supplied view\n          currentPage = result.data.pages[Configuration.currentPageIndex];\n          let unsavedChanges = getStoredUnsavedChanges();\n          let contentToLoad;\n          if( unsavedChanges ){\n            clearStoredUnsavedChanges();\n            contentToLoad = unsavedChanges.beautifiedHtml;\n            lastSavedHTMLCode = contentToLoad;\n            canvasPanel.value.updateTemplateFile( contentToLoad );\n          }else{\n            let readTemplateFilePath = apibase + 'apps/' + Configuration.appid + '/edit?path=' + encodeURIComponent( currentPage.view );\n            axios.get( readTemplateFilePath ).then( (result) => {\n              // ====== Special case when editing inner element ======\n              if( Configuration.elementid ){\n                fullDocumentHTML = result.data.content;\n                const parser = new DOMParser();\n                const doc = parser.parseFromString(result.data.content, 'text/html');\n                contentToLoad = doc.querySelector( \"#\"+Configuration.elementid).innerHTML;\n\n                // Load css to merge when saving component\n                let saveCssUrl = `${apibase}apps/${Configuration.appid}/edit?path=public/css/autogenerated.css`;\n                axios.get( saveCssUrl ).then( (result) => {\n                  fullDocumentCSS = result.data.content;\n                }).catch( (error) => {\n                  console.error('error loading full css file: ', saveCssUrl, error);\n                });\n              }else{\n                contentToLoad = result.data.content;\n              }\n              // ====== End of Special case when editing inner element ======\n\n              lastSavedHTMLCode = contentToLoad;\n              canvasPanel.value.updateTemplateFile( contentToLoad );\n            }).catch( (error) => {\n              console.error('error loading template file: ', readTemplateFilePath, error);\n            });\n          }\n        }, 300 );\n      }).catch( (error) => {\n        //console.log('error', error);\n      });\n    }\n    \n  }).catch( (error) => {\n    //console.log('error', error);\n  });\n\n  statusMonitor.connect();\n}\n\n\n\n// Vue hooks\n// ===============================================================================\nonMounted( ()=>{\n  init();\n} );\n\n</script>\n\n<style scoped lang=\"scss\">\n.topBar{\n  padding: 5px;\n  height: 40px;\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n}\n\n.topToolBar{\n  width: 400px;\n  justify-content: right;\n  padding: 2px 5px 0px 0px;\n  display: flex;\n  align-items: revert;\n  text-align: right;\n  flex-direction: column;\n}\n\n.leftBar{\n  flex-grow: 1;\n  max-width:300px;\n}\n\n.centralBar{\n  flex-grow: 3;\n  display: flex;\n  flex-direction: column;\n  border-right: solid 1px #00000050;\n  width: calc(100% - 300px);\n}\n\n.rightBar{\n  flex-grow: 1;\n  width: 300px;\n  max-height: calc(100% - 0px);\n  overflow-y: auto;\n}\n\n.panel{\n  margin: 0px;\n  border-top: solid 1px #00000050;\n}\n\n.mainContainer{\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: var(--background);\n}\n.columnStack{\n  display: flex;\n  flex-direction: column;\n}\n.rowStack{\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  height: calc(100% - 40px);\n}\n\n.canvasPanel{\n  height: 100%;\n}\n\n#customCodeEditor{\n  height: 100%;\n}\n\n\n.fullHeight{\n  height: 100%;\n}\n\n\n:deep(.CodeMirror){\n  height: 100% !important;\n  /* font-family: Arial, monospace !important; */\n  font-size: 12px !important;\n}\n\n:deep(.codemirror-container) {\n    width: 100% !important;\n    height: calc(100% - 60px) !important;\n}\n\n:deep(.codemirror-container:not(.original-style) .CodeMirror, .codemirror-container:not(.original-style) .CodeMirror-merge-pane){\n  font-family: Arial, monospace !important;\n\n}\n\n.codemirror-container.bordered {\n    border-radius: 4px;\n    border: 1px solid #dddddd50;\n    padding: 5px 0px 5px 0px;\n}\n\n.topbarButton{\n  padding: 4px 2px 2px;\n  background-color: #cccccc00;\n  border-radius: 4px;\n  margin-left: 4px;\n  cursor: pointer;\n  opacity: 0.5;\n  position: relative;\n}\n\n.topbarButton:hover{\n  opacity: 1;\n}\n\n\n.topbarButton > i{\n  font-size: 20px; padding: 3pxpx;\n  pointer-events: none;\n}\n\n</style>\n","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=b98cdb90&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/daniel/Documents/work/stipple_app/project42/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b98cdb90\"]])\n\nexport default __exports__\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QIcon});\n","<template>\n  <Main ref=\"mainController\" msg=\"Genie Builder No-Code Editor\"/>\n</template>\n\n<script setup>\nimport { computed, ref, onMounted } from 'vue'\nimport * as uikit from \"@vscode/webview-ui-toolkit\";\nimport { provideVSCodeDesignSystem, vsCodeTextField, vsCodeDropdown, vsCodeOption, vsCodeButton, vsCodeCheckbox } from \"@vscode/webview-ui-toolkit\";\nimport Main from './components/Main.vue'\n\nwindow.uikit = uikit;\nwindow.provideVSCodeDesignSystem = provideVSCodeDesignSystem;\n\nconst mainController = ref(null);\nprovideVSCodeDesignSystem().register(\n  vsCodeTextField(), \n  vsCodeDropdown(), \n  vsCodeOption(), \n  vsCodeButton(), \n  vsCodeCheckbox()\n);\n\nonMounted( ()=>{\n    init();\n  } );\n\n  function init(){\n    window.mainController = mainController;\n  }\n\n/* export default {\n  name: 'App',\n  components: {\n    Main\n  }\n} */\n</script>\n\n<style lang=\"scss\">\n/* light */\n[data-theme='light']{\n    --foreground: #616161;\n    --disabledForeground: rgba(97, 97, 97, 0.5);\n    --errorForeground: #a1260d;\n    --descriptionForeground: #717171;\n    --icon-foreground: #424242;\n    --focusBorder: #0090f1;\n    --textSeparator-foreground: rgba(0, 0, 0, 0.18);\n    --textLink-foreground: #006ab1;\n    --textLink-activeForeground: #006ab1;\n    --textPreformat-foreground: #a31515;\n    --textBlockQuote-background: rgba(127, 127, 127, 0.1);\n    --textBlockQuote-border: rgba(0, 122, 204, 0.5);\n    --textCodeBlock-background: rgba(220, 220, 220, 0.4);\n    --widget-shadow: rgba(0, 0, 0, 0.16);\n    --widget-border: #d4d4d4;\n    --input-background: #ffffff;\n    --input-foreground: #616161;\n    --inputOption-activeBorder: #007acc;\n    --inputOption-hoverBackground: rgba(184, 184, 184, 0.31);\n    --inputOption-activeBackground: rgba(0, 144, 241, 0.2);\n    --inputOption-activeForeground: #000000;\n    --input-placeholderForeground: #767676;\n    --inputValidation-infoBackground: #d6ecf2;\n    --inputValidation-infoBorder: #007acc;\n    --inputValidation-warningBackground: #f6f5d2;\n    --inputValidation-warningBorder: #b89500;\n    --inputValidation-errorBackground: #f2dede;\n    --inputValidation-errorBorder: #be1100;\n    --dropdown-background: #ffffff;\n    --dropdown-foreground: #616161;\n    --dropdown-border: #cecece;\n    --button-foreground: #ffffff;\n    --button-separator: rgba(255, 255, 255, 0.4);\n    --button-background: #007acc;\n    --button-hoverBackground: #0062a3;\n    --button-secondaryForeground: #ffffff;\n    --button-secondaryBackground: #5f6a79;\n    --button-secondaryHoverBackground: #4c5561;\n    --badge-background: #c4c4c4;\n    --badge-foreground: #333333;\n    --scrollbar-shadow: #dddddd;\n    --scrollbarSlider-background: rgba(100, 100, 100, 0.4);\n    --scrollbarSlider-hoverBackground: rgba(100, 100, 100, 0.7);\n    --scrollbarSlider-activeBackground: rgba(0, 0, 0, 0.6);\n    --progressBar-background: #0e70c0;\n    --editorError-foreground: #e51400;\n    --editorWarning-foreground: #bf8803;\n    --editorInfo-foreground: #1a85ff;\n    --editorHint-foreground: #6c6c6c;\n    --sash-hoverBorder: #0090f1;\n    --editor-background: #ffffff;\n    --editor-foreground: #000000;\n    --editorStickyScroll-background: #ffffff;\n    --editorStickyScrollHover-background: #f0f0f0;\n    --editorWidget-background: #f3f3f3;\n    --editorWidget-foreground: #616161;\n    --editorWidget-border: #c8c8c8;\n    --quickInput-background: #f3f3f3;\n    --quickInput-foreground: #616161;\n    --quickInputTitle-background: rgba(0, 0, 0, 0.06);\n    --pickerGroup-foreground: #0066bf;\n    --pickerGroup-border: #cccedb;\n    --keybindingLabel-background: rgba(221, 221, 221, 0.4);\n    --keybindingLabel-foreground: #555555;\n    --keybindingLabel-border: rgba(204, 204, 204, 0.4);\n    --keybindingLabel-bottomBorder: rgba(187, 187, 187, 0.4);\n    --editor-selectionBackground: #add6ff;\n    --editor-inactiveSelectionBackground: #e5ebf1;\n    --editor-selectionHighlightBackground: rgba(173, 214, 255, 0.5);\n    --editor-findMatchBackground: #a8ac94;\n    --editor-findMatchHighlightBackground: rgba(234, 92, 0, 0.33);\n    --editor-findRangeHighlightBackground: rgba(180, 180, 180, 0.3);\n    --searchEditor-findMatchBackground: rgba(234, 92, 0, 0.22);\n    --search-resultsInfoForeground: #616161;\n    --editor-hoverHighlightBackground: rgba(173, 214, 255, 0.15);\n    --editorHoverWidget-background: #f3f3f3;\n    --editorHoverWidget-foreground: #616161;\n    --editorHoverWidget-border: #c8c8c8;\n    --editorHoverWidget-statusBarBackground: #e7e7e7;\n    --editorLink-activeForeground: #0000ff;\n    --editorInlayHint-foreground: #969696;\n    --editorInlayHint-background: rgba(196, 196, 196, 0.1);\n    --editorInlayHint-typeForeground: #969696;\n    --editorInlayHint-typeBackground: rgba(196, 196, 196, 0.1);\n    --editorInlayHint-parameterForeground: #969696;\n    --editorInlayHint-parameterBackground: rgba(196, 196, 196, 0.1);\n    --editorLightBulb-foreground: #ddb100;\n    --editorLightBulbAutoFix-foreground: #007acc;\n    --diffEditor-insertedTextBackground: rgba(156, 204, 44, 0.25);\n    --diffEditor-removedTextBackground: rgba(255, 0, 0, 0.2);\n    --diffEditor-insertedLineBackground: rgba(155, 185, 85, 0.2);\n    --diffEditor-removedLineBackground: rgba(255, 0, 0, 0.2);\n    --diffEditor-diagonalFill: rgba(34, 34, 34, 0.2);\n    --diffEditor-unchangedRegionBackground: #e4e4e4;\n    --diffEditor-unchangedRegionForeground: #4d4c4c;\n    --diffEditor-unchangedCodeBackground: rgba(184, 184, 184, 0.16);\n    --list-focusOutline: #0090f1;\n    --list-focusAndSelectionOutline: #90c2f9;\n    --list-activeSelectionBackground: #0060c0;\n    --list-activeSelectionForeground: #ffffff;\n    --list-activeSelectionIconForeground: #ffffff;\n    --list-inactiveSelectionBackground: #e4e6f1;\n    --list-hoverBackground: #e8e8e8;\n    --list-dropBackground: #d6ebff;\n    --list-highlightForeground: #0066bf;\n    --list-focusHighlightForeground: #bbe7ff;\n    --list-invalidItemForeground: #b89500;\n    --list-errorForeground: #b01011;\n    --list-warningForeground: #855f00;\n    --listFilterWidget-background: #f3f3f3;\n    --listFilterWidget-outline: rgba(0, 0, 0, 0);\n    --listFilterWidget-noMatchesOutline: #be1100;\n    --listFilterWidget-shadow: rgba(0, 0, 0, 0.16);\n    --list-filterMatchBackground: rgba(234, 92, 0, 0.33);\n    --tree-indentGuidesStroke: #a9a9a9;\n    --tree-inactiveIndentGuidesStroke: rgba(169, 169, 169, 0.4);\n    --tree-tableColumnsBorder: rgba(97, 97, 97, 0.13);\n    --tree-tableOddRowsBackground: rgba(97, 97, 97, 0.04);\n    --list-deemphasizedForeground: #8e8e90;\n    --checkbox-background: #ffffff;\n    --checkbox-selectBackground: #f3f3f3;\n    --checkbox-foreground: #616161;\n    --checkbox-border: #919191;\n    --checkbox-selectBorder: #424242;\n    --quickInputList-focusForeground: #ffffff;\n    --quickInputList-focusIconForeground: #ffffff;\n    --quickInputList-focusBackground: #0060c0;\n    --menu-border: #d4d4d4;\n    --menu-foreground: #616161;\n    --menu-background: #ffffff;\n    --menu-selectionForeground: #ffffff;\n    --menu-selectionBackground: #0060c0;\n    --menu-separatorBackground: #d4d4d4;\n    --toolbar-hoverBackground: rgba(184, 184, 184, 0.31);\n    --toolbar-activeBackground: rgba(166, 166, 166, 0.31);\n    --editor-snippetTabstopHighlightBackground: rgba(10, 50, 100, 0.2);\n    --editor-snippetFinalTabstopHighlightBorder: rgba(10, 50, 100, 0.5);\n    --breadcrumb-foreground: rgba(97, 97, 97, 0.8);\n    --breadcrumb-background: #ffffff;\n    --breadcrumb-focusForeground: #4e4e4e;\n    --breadcrumb-activeSelectionForeground: #4e4e4e;\n    --breadcrumbPicker-background: #f3f3f3;\n    --merge-currentHeaderBackground: rgba(64, 200, 174, 0.5);\n    --merge-currentContentBackground: rgba(64, 200, 174, 0.2);\n    --merge-incomingHeaderBackground: rgba(64, 166, 255, 0.5);\n    --merge-incomingContentBackground: rgba(64, 166, 255, 0.2);\n    --merge-commonHeaderBackground: rgba(96, 96, 96, 0.4);\n    --merge-commonContentBackground: rgba(96, 96, 96, 0.16);\n    --editorOverviewRuler-currentContentForeground: rgba(64, 200, 174, 0.5);\n    --editorOverviewRuler-incomingContentForeground: rgba(64, 166, 255, 0.5);\n    --editorOverviewRuler-commonContentForeground: rgba(96, 96, 96, 0.4);\n    --editorOverviewRuler-findMatchForeground: rgba(209, 134, 22, 0.49);\n    --editorOverviewRuler-selectionHighlightForeground: rgba(160, 160, 160, 0.8);\n    --minimap-findMatchHighlight: #d18616;\n    --minimap-selectionOccurrenceHighlight: #c9c9c9;\n    --minimap-selectionHighlight: #add6ff;\n    --minimap-infoHighlight: #1a85ff;\n    --minimap-warningHighlight: #bf8803;\n    --minimap-errorHighlight: rgba(255, 18, 18, 0.7);\n    --minimap-foregroundOpacity: #000000;\n    --minimapSlider-background: rgba(100, 100, 100, 0.2);\n    --minimapSlider-hoverBackground: rgba(100, 100, 100, 0.35);\n    --minimapSlider-activeBackground: rgba(0, 0, 0, 0.3);\n    --problemsErrorIcon-foreground: #e51400;\n    --problemsWarningIcon-foreground: #bf8803;\n    --problemsInfoIcon-foreground: #1a85ff;\n    --charts-foreground: #616161;\n    --charts-lines: rgba(97, 97, 97, 0.5);\n    --charts-red: #e51400;\n    --charts-blue: #1a85ff;\n    --charts-yellow: #bf8803;\n    --charts-orange: #d18616;\n    --charts-green: #388a34;\n    --charts-purple: #652d90;\n    --diffEditor-move-border: rgba(139, 139, 139, 0.61);\n    --diffEditor-moveActive-border: #ffa500;\n    --symbolIcon-arrayForeground: #616161;\n    --symbolIcon-booleanForeground: #616161;\n    --symbolIcon-classForeground: #d67e00;\n    --symbolIcon-colorForeground: #616161;\n    --symbolIcon-constantForeground: #616161;\n    --symbolIcon-constructorForeground: #652d90;\n    --symbolIcon-enumeratorForeground: #d67e00;\n    --symbolIcon-enumeratorMemberForeground: #007acc;\n    --symbolIcon-eventForeground: #d67e00;\n    --symbolIcon-fieldForeground: #007acc;\n    --symbolIcon-fileForeground: #616161;\n    --symbolIcon-folderForeground: #616161;\n    --symbolIcon-functionForeground: #652d90;\n    --symbolIcon-interfaceForeground: #007acc;\n    --symbolIcon-keyForeground: #616161;\n    --symbolIcon-keywordForeground: #616161;\n    --symbolIcon-methodForeground: #652d90;\n    --symbolIcon-moduleForeground: #616161;\n    --symbolIcon-namespaceForeground: #616161;\n    --symbolIcon-nullForeground: #616161;\n    --symbolIcon-numberForeground: #616161;\n    --symbolIcon-objectForeground: #616161;\n    --symbolIcon-operatorForeground: #616161;\n    --symbolIcon-packageForeground: #616161;\n    --symbolIcon-propertyForeground: #616161;\n    --symbolIcon-referenceForeground: #616161;\n    --symbolIcon-snippetForeground: #616161;\n    --symbolIcon-stringForeground: #616161;\n    --symbolIcon-structForeground: #616161;\n    --symbolIcon-textForeground: #616161;\n    --symbolIcon-typeParameterForeground: #616161;\n    --symbolIcon-unitForeground: #616161;\n    --symbolIcon-variableForeground: #007acc;\n    --actionBar-toggledBackground: #dddddd;\n    --editorHoverWidget-highlightForeground: #0066bf;\n    --editor-lineHighlightBorder: #eeeeee;\n    --editor-rangeHighlightBackground: rgba(253, 255, 0, 0.2);\n    --editor-symbolHighlightBackground: rgba(234, 92, 0, 0.33);\n    --editorCursor-foreground: #000000;\n    --editorWhitespace-foreground: rgba(51, 51, 51, 0.2);\n    --editorLineNumber-foreground: #237893;\n    --editorIndentGuide-background: #d3d3d3;\n    --editorIndentGuide-activeBackground: #939393;\n    --editorIndentGuide-background1: #d3d3d3;\n    --editorIndentGuide-background2: rgba(0, 0, 0, 0);\n    --editorIndentGuide-background3: rgba(0, 0, 0, 0);\n    --editorIndentGuide-background4: rgba(0, 0, 0, 0);\n    --editorIndentGuide-background5: rgba(0, 0, 0, 0);\n    --editorIndentGuide-background6: rgba(0, 0, 0, 0);\n    --editorIndentGuide-activeBackground1: #939393;\n    --editorIndentGuide-activeBackground2: rgba(0, 0, 0, 0);\n    --editorIndentGuide-activeBackground3: rgba(0, 0, 0, 0);\n    --editorIndentGuide-activeBackground4: rgba(0, 0, 0, 0);\n    --editorIndentGuide-activeBackground5: rgba(0, 0, 0, 0);\n    --editorIndentGuide-activeBackground6: rgba(0, 0, 0, 0);\n    --editorActiveLineNumber-foreground: #0b216f;\n    --editorLineNumber-activeForeground: #0b216f;\n    --editorRuler-foreground: #d3d3d3;\n    --editorCodeLens-foreground: #919191;\n    --editorBracketMatch-background: rgba(0, 100, 0, 0.1);\n    --editorBracketMatch-border: #b9b9b9;\n    --editorOverviewRuler-border: rgba(127, 127, 127, 0.3);\n    --editorGutter-background: #ffffff;\n    --editorUnnecessaryCode-opacity: rgba(0, 0, 0, 0.47);\n    --editorGhostText-foreground: rgba(0, 0, 0, 0.47);\n    --editorOverviewRuler-rangeHighlightForeground: rgba(0, 122, 204, 0.6);\n    --editorOverviewRuler-errorForeground: rgba(255, 18, 18, 0.7);\n    --editorOverviewRuler-warningForeground: #bf8803;\n    --editorOverviewRuler-infoForeground: #1a85ff;\n    --editorBracketHighlight-foreground1: #0431fa;\n    --editorBracketHighlight-foreground2: #319331;\n    --editorBracketHighlight-foreground3: #7b3814;\n    --editorBracketHighlight-foreground4: rgba(0, 0, 0, 0);\n    --editorBracketHighlight-foreground5: rgba(0, 0, 0, 0);\n    --editorBracketHighlight-foreground6: rgba(0, 0, 0, 0);\n    --editorBracketHighlight-unexpectedBracket-foreground: rgba(255, 18, 18, 0.8);\n    --editorBracketPairGuide-background1: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-background2: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-background3: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-background4: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-background5: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-background6: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-activeBackground1: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-activeBackground2: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-activeBackground3: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-activeBackground4: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-activeBackground5: rgba(0, 0, 0, 0);\n    --editorBracketPairGuide-activeBackground6: rgba(0, 0, 0, 0);\n    --editorUnicodeHighlight-border: #cea33d;\n    --editorUnicodeHighlight-background: rgba(206, 163, 61, 0.08);\n    --editorOverviewRuler-bracketMatchForeground: #a0a0a0;\n    --editor-foldBackground: rgba(173, 214, 255, 0.3);\n    --editorGutter-foldingControlForeground: #424242;\n    --editor-linkedEditingBackground: rgba(255, 0, 0, 0.3);\n    --editor-wordHighlightBackground: rgba(87, 87, 87, 0.25);\n    --editor-wordHighlightStrongBackground: rgba(14, 99, 156, 0.25);\n    --editor-wordHighlightTextBackground: rgba(87, 87, 87, 0.25);\n    --editorOverviewRuler-wordHighlightForeground: rgba(160, 160, 160, 0.8);\n    --editorOverviewRuler-wordHighlightStrongForeground: rgba(192, 160, 192, 0.8);\n    --editorOverviewRuler-wordHighlightTextForeground: rgba(160, 160, 160, 0.8);\n    --peekViewTitle-background: #f3f3f3;\n    --peekViewTitleLabel-foreground: #000000;\n    --peekViewTitleDescription-foreground: #616161;\n    --peekView-border: #1a85ff;\n    --peekViewResult-background: #f3f3f3;\n    --peekViewResult-lineForeground: #646465;\n    --peekViewResult-fileForeground: #1e1e1e;\n    --peekViewResult-selectionBackground: rgba(51, 153, 255, 0.2);\n    --peekViewResult-selectionForeground: #6c6c6c;\n    --peekViewEditor-background: #f2f8fc;\n    --peekViewEditorGutter-background: #f2f8fc;\n    --peekViewEditorStickyScroll-background: #f2f8fc;\n    --peekViewResult-matchHighlightBackground: rgba(234, 92, 0, 0.3);\n    --peekViewEditor-matchHighlightBackground: rgba(245, 216, 2, 0.87);\n    --editorMarkerNavigationError-background: #e51400;\n    --editorMarkerNavigationError-headerBackground: rgba(229, 20, 0, 0.1);\n    --editorMarkerNavigationWarning-background: #bf8803;\n    --editorMarkerNavigationWarning-headerBackground: rgba(191, 136, 3, 0.1);\n    --editorMarkerNavigationInfo-background: #1a85ff;\n    --editorMarkerNavigationInfo-headerBackground: rgba(26, 133, 255, 0.1);\n    --editorMarkerNavigation-background: #ffffff;\n    --editorSuggestWidget-background: #f3f3f3;\n    --editorSuggestWidget-border: #c8c8c8;\n    --editorSuggestWidget-foreground: #000000;\n    --editorSuggestWidget-selectedForeground: #ffffff;\n    --editorSuggestWidget-selectedIconForeground: #ffffff;\n    --editorSuggestWidget-selectedBackground: #0060c0;\n    --editorSuggestWidget-highlightForeground: #0066bf;\n    --editorSuggestWidget-focusHighlightForeground: #bbe7ff;\n    --editorSuggestWidgetStatus-foreground: rgba(0, 0, 0, 0.5);\n    --tab-activeBackground: #ffffff;\n    --tab-unfocusedActiveBackground: #ffffff;\n    --tab-inactiveBackground: #ececec;\n    --tab-unfocusedInactiveBackground: #ececec;\n    --tab-activeForeground: #333333;\n    --tab-inactiveForeground: rgba(51, 51, 51, 0.7);\n    --tab-unfocusedActiveForeground: rgba(51, 51, 51, 0.7);\n    --tab-unfocusedInactiveForeground: rgba(51, 51, 51, 0.35);\n    --tab-border: #f3f3f3;\n    --tab-lastPinnedBorder: rgba(97, 97, 97, 0.19);\n    --tab-activeModifiedBorder: #33aaee;\n    --tab-inactiveModifiedBorder: rgba(51, 170, 238, 0.5);\n    --tab-unfocusedActiveModifiedBorder: rgba(51, 170, 238, 0.7);\n    --tab-unfocusedInactiveModifiedBorder: rgba(51, 170, 238, 0.25);\n    --editorPane-background: #ffffff;\n    --editorGroupHeader-tabsBackground: #f3f3f3;\n    --editorGroupHeader-noTabsBackground: #ffffff;\n    --editorGroup-border: #e7e7e7;\n    --editorGroup-dropBackground: rgba(38, 119, 203, 0.18);\n    --editorGroup-dropIntoPromptForeground: #616161;\n    --editorGroup-dropIntoPromptBackground: #f3f3f3;\n    --sideBySideEditor-horizontalBorder: #e7e7e7;\n    --sideBySideEditor-verticalBorder: #e7e7e7;\n    --panel-background: #ffffff;\n    --panel-border: rgba(128, 128, 128, 0.35);\n    --panelTitle-activeForeground: #424242;\n    --panelTitle-inactiveForeground: rgba(66, 66, 66, 0.75);\n    --panelTitle-activeBorder: #424242;\n    --panelInput-border: #dddddd;\n    --panel-dropBorder: #424242;\n    --panelSection-dropBackground: rgba(38, 119, 203, 0.18);\n    --panelSectionHeader-background: rgba(128, 128, 128, 0.2);\n    --panelSection-border: rgba(128, 128, 128, 0.35);\n    --banner-background: #004386;\n    --banner-foreground: #ffffff;\n    --banner-iconForeground: #1a85ff;\n    --statusBar-foreground: #ffffff;\n    --statusBar-noFolderForeground: #ffffff;\n    --statusBar-background: #007acc;\n    --statusBar-noFolderBackground: #68217a;\n    --statusBar-focusBorder: #ffffff;\n    --statusBarItem-activeBackground: rgba(255, 255, 255, 0.18);\n    --statusBarItem-focusBorder: #ffffff;\n    --statusBarItem-hoverBackground: rgba(255, 255, 255, 0.12);\n    --statusBarItem-hoverForeground: #ffffff;\n    --statusBarItem-compactHoverBackground: rgba(255, 255, 255, 0.2);\n    --statusBarItem-prominentForeground: #ffffff;\n    --statusBarItem-prominentBackground: rgba(0, 0, 0, 0.5);\n    --statusBarItem-prominentHoverForeground: #ffffff;\n    --statusBarItem-prominentHoverBackground: rgba(0, 0, 0, 0.3);\n    --statusBarItem-errorBackground: #c72e0f;\n    --statusBarItem-errorForeground: #ffffff;\n    --statusBarItem-errorHoverForeground: #ffffff;\n    --statusBarItem-errorHoverBackground: rgba(255, 255, 255, 0.12);\n    --statusBarItem-warningBackground: #725102;\n    --statusBarItem-warningForeground: #ffffff;\n    --statusBarItem-warningHoverForeground: #ffffff;\n    --statusBarItem-warningHoverBackground: rgba(255, 255, 255, 0.12);\n    --activityBar-background: #2c2c2c;\n    --activityBar-foreground: #ffffff;\n    --activityBar-inactiveForeground: rgba(255, 255, 255, 0.4);\n    --activityBar-activeBorder: #ffffff;\n    --activityBar-dropBorder: #ffffff;\n    --activityBarBadge-background: #007acc;\n    --activityBarBadge-foreground: #ffffff;\n    --profileBadge-background: #c4c4c4;\n    --profileBadge-foreground: #333333;\n    --statusBarItem-remoteBackground: #16825d;\n    --statusBarItem-remoteForeground: #ffffff;\n    --statusBarItem-remoteHoverForeground: #ffffff;\n    --statusBarItem-remoteHoverBackground: rgba(255, 255, 255, 0.12);\n    --statusBarItem-offlineBackground: #6c1717;\n    --statusBarItem-offlineForeground: #ffffff;\n    --statusBarItem-offlineHoverForeground: #ffffff;\n    --statusBarItem-offlineHoverBackground: rgba(255, 255, 255, 0.12);\n    --extensionBadge-remoteBackground: #007acc;\n    --extensionBadge-remoteForeground: #ffffff;\n    --sideBar-background: #f3f3f3;\n    --sideBarTitle-foreground: #6f6f6f;\n    --sideBar-dropBackground: rgba(38, 119, 203, 0.18);\n    --sideBarSectionHeader-background: rgba(0, 0, 0, 0);\n    --sideBarSectionHeader-border: rgba(97, 97, 97, 0.19);\n    --titleBar-activeForeground: #333333;\n    --titleBar-inactiveForeground: rgba(51, 51, 51, 0.6);\n    --titleBar-activeBackground: #dddddd;\n    --titleBar-inactiveBackground: rgba(221, 221, 221, 0.6);\n    --menubar-selectionForeground: #333333;\n    --menubar-selectionBackground: rgba(184, 184, 184, 0.31);\n    --commandCenter-foreground: #333333;\n    --commandCenter-activeForeground: #333333;\n    --commandCenter-inactiveForeground: rgba(51, 51, 51, 0.6);\n    --commandCenter-background: rgba(0, 0, 0, 0.05);\n    --commandCenter-activeBackground: rgba(0, 0, 0, 0.08);\n    --commandCenter-border: rgba(51, 51, 51, 0.2);\n    --commandCenter-activeBorder: rgba(51, 51, 51, 0.3);\n    --commandCenter-inactiveBorder: rgba(51, 51, 51, 0.15);\n    --notificationCenter-border: #d4d4d4;\n    --notificationToast-border: #d4d4d4;\n    --notifications-foreground: #616161;\n    --notifications-background: #f3f3f3;\n    --notificationLink-foreground: #006ab1;\n    --notificationCenterHeader-background: #e7e7e7;\n    --notifications-border: #e7e7e7;\n    --notificationsErrorIcon-foreground: #e51400;\n    --notificationsWarningIcon-foreground: #bf8803;\n    --notificationsInfoIcon-foreground: #1a85ff;\n    --chat-requestBorder: rgba(0, 0, 0, 0.1);\n    --chat-slashCommandBackground: #c4c4c4;\n    --chat-slashCommandForeground: #333333;\n    --simpleFindWidget-sashBorder: #c8c8c8;\n    --commentsView-resolvedIcon: rgba(97, 97, 97, 0.5);\n    --commentsView-unresolvedIcon: #0090f1;\n    --editorCommentsWidget-resolvedBorder: rgba(97, 97, 97, 0.5);\n    --editorCommentsWidget-unresolvedBorder: #0090f1;\n    --editorCommentsWidget-rangeBackground: rgba(0, 144, 241, 0.1);\n    --editorCommentsWidget-rangeActiveBackground: rgba(0, 144, 241, 0.1);\n    --editorGutter-commentRangeForeground: #d5d8e9;\n    --editorOverviewRuler-commentForeground: #d5d8e9;\n    --editorOverviewRuler-commentUnresolvedForeground: #d5d8e9;\n    --editorGutter-commentGlyphForeground: #000000;\n    --editorGutter-commentUnresolvedGlyphForeground: #000000;\n    --debugToolBar-background: #f3f3f3;\n    --debugIcon-startForeground: #388a34;\n    --editor-stackFrameHighlightBackground: rgba(255, 255, 102, 0.45);\n    --editor-focusedStackFrameHighlightBackground: rgba(206, 231, 206, 0.45);\n    --mergeEditor-change-background: rgba(155, 185, 85, 0.2);\n    --mergeEditor-change-word-background: rgba(156, 204, 44, 0.4);\n    --mergeEditor-changeBase-background: #ffcccc;\n    --mergeEditor-changeBase-word-background: #ffa3a3;\n    --mergeEditor-conflict-unhandledUnfocused-border: #ffa600;\n    --mergeEditor-conflict-unhandledFocused-border: #ffa600;\n    --mergeEditor-conflict-handledUnfocused-border: rgba(134, 134, 134, 0.29);\n    --mergeEditor-conflict-handledFocused-border: rgba(193, 193, 193, 0.8);\n    --mergeEditor-conflict-handled-minimapOverViewRuler: rgba(173, 172, 168, 0.93);\n    --mergeEditor-conflict-unhandled-minimapOverViewRuler: #fcba03;\n    --mergeEditor-conflictingLines-background: rgba(255, 234, 0, 0.28);\n    --mergeEditor-conflict-input1-background: rgba(64, 200, 174, 0.2);\n    --mergeEditor-conflict-input2-background: rgba(64, 166, 255, 0.2);\n    --settings-headerForeground: #444444;\n    --settings-settingsHeaderHoverForeground: rgba(68, 68, 68, 0.7);\n    --settings-modifiedItemIndicator: #66afe0;\n    --settings-headerBorder: rgba(128, 128, 128, 0.35);\n    --settings-sashBorder: rgba(128, 128, 128, 0.35);\n    --settings-dropdownBackground: #ffffff;\n    --settings-dropdownForeground: #616161;\n    --settings-dropdownBorder: #cecece;\n    --settings-dropdownListBorder: #c8c8c8;\n    --settings-checkboxBackground: #ffffff;\n    --settings-checkboxForeground: #616161;\n    --settings-checkboxBorder: #919191;\n    --settings-textInputBackground: #ffffff;\n    --settings-textInputForeground: #616161;\n    --settings-textInputBorder: #cecece;\n    --settings-numberInputBackground: #ffffff;\n    --settings-numberInputForeground: #616161;\n    --settings-numberInputBorder: #cecece;\n    --settings-focusedRowBackground: rgba(232, 232, 232, 0.6);\n    --settings-rowHoverBackground: rgba(232, 232, 232, 0.3);\n    --settings-focusedRowBorder: #0090f1;\n    --terminal-foreground: #333333;\n    --terminal-selectionBackground: #add6ff;\n    --terminal-inactiveSelectionBackground: #e5ebf1;\n    --terminalCommandDecoration-defaultBackground: rgba(0, 0, 0, 0.25);\n    --terminalCommandDecoration-successBackground: #2090d3;\n    --terminalCommandDecoration-errorBackground: #e51400;\n    --terminalOverviewRuler-cursorForeground: rgba(160, 160, 160, 0.8);\n    --terminal-border: rgba(128, 128, 128, 0.35);\n    --terminal-findMatchBackground: #a8ac94;\n    --terminal-hoverHighlightBackground: rgba(173, 214, 255, 0.07);\n    --terminal-findMatchHighlightBackground: rgba(234, 92, 0, 0.33);\n    --terminalOverviewRuler-findMatchForeground: rgba(209, 134, 22, 0.49);\n    --terminal-dropBackground: rgba(38, 119, 203, 0.18);\n    --testing-iconFailed: #f14c4c;\n    --testing-iconErrored: #f14c4c;\n    --testing-iconPassed: #73c991;\n    --testing-runAction: #73c991;\n    --testing-iconQueued: #cca700;\n    --testing-iconUnset: #848484;\n    --testing-iconSkipped: #848484;\n    --testing-peekBorder: #e51400;\n    --testing-peekHeaderBackground: rgba(229, 20, 0, 0.1);\n    --testing-message-error-decorationForeground: #e51400;\n    --testing-message-error-lineBackground: rgba(255, 0, 0, 0.2);\n    --testing-message-info-decorationForeground: rgba(0, 0, 0, 0.5);\n    --welcomePage-tileBackground: #f3f3f3;\n    --welcomePage-tileHoverBackground: #dbdbdb;\n    --welcomePage-tileBorder: rgba(0, 0, 0, 0.1);\n    --welcomePage-progress-background: #ffffff;\n    --welcomePage-progress-foreground: #006ab1;\n    --walkthrough-stepTitle-foreground: #000000;\n    --walkThrough-embeddedEditorBackground: #f4f4f4;\n    --inlineChat-background: #f3f3f3;\n    --inlineChat-border: #c8c8c8;\n    --inlineChat-shadow: rgba(0, 0, 0, 0.16);\n    --inlineChat-regionHighlight: rgba(173, 214, 255, 0.15);\n    --inlineChatInput-border: #c8c8c8;\n    --inlineChatInput-focusBorder: #0090f1;\n    --inlineChatInput-placeholderForeground: #767676;\n    --inlineChatInput-background: #ffffff;\n    --inlineChatDiff-inserted: rgba(156, 204, 44, 0.13);\n    --inlineChatDiff-removed: rgba(255, 0, 0, 0.1);\n    --debugExceptionWidget-border: #a31515;\n    --debugExceptionWidget-background: #f1dfde;\n    --ports-iconRunningProcessForeground: #369432;\n    --statusBar-debuggingBackground: #cc6633;\n    --statusBar-debuggingForeground: #ffffff;\n    --commandCenter-debuggingBackground: rgba(204, 102, 51, 0.26);\n    --editor-inlineValuesForeground: rgba(0, 0, 0, 0.5);\n    --editor-inlineValuesBackground: rgba(255, 200, 0, 0.2);\n    --editorGutter-modifiedBackground: #2090d3;\n    --editorGutter-addedBackground: #48985d;\n    --editorGutter-deletedBackground: #e51400;\n    --minimapGutter-modifiedBackground: #2090d3;\n    --minimapGutter-addedBackground: #48985d;\n    --minimapGutter-deletedBackground: #e51400;\n    --editorOverviewRuler-modifiedForeground: rgba(32, 144, 211, 0.6);\n    --editorOverviewRuler-addedForeground: rgba(72, 152, 93, 0.6);\n    --editorOverviewRuler-deletedForeground: rgba(229, 20, 0, 0.6);\n    --debugIcon-breakpointForeground: #e51400;\n    --debugIcon-breakpointDisabledForeground: #848484;\n    --debugIcon-breakpointUnverifiedForeground: #848484;\n    --debugIcon-breakpointCurrentStackframeForeground: #be8700;\n    --debugIcon-breakpointStackframeForeground: #89d185;\n    --notebook-cellBorderColor: #e8e8e8;\n    --notebook-focusedEditorBorder: #0090f1;\n    --notebookStatusSuccessIcon-foreground: #388a34;\n    --notebookEditorOverviewRuler-runningCellForeground: #388a34;\n    --notebookStatusErrorIcon-foreground: #a1260d;\n    --notebookStatusRunningIcon-foreground: #616161;\n    --notebook-cellToolbarSeparator: rgba(128, 128, 128, 0.35);\n    --notebook-selectedCellBackground: rgba(200, 221, 241, 0.31);\n    --notebook-selectedCellBorder: #e8e8e8;\n    --notebook-focusedCellBorder: #0090f1;\n    --notebook-inactiveFocusedCellBorder: #e8e8e8;\n    --notebook-cellStatusBarItemHoverBackground: rgba(0, 0, 0, 0.08);\n    --notebook-cellInsertionIndicator: #0090f1;\n    --notebookScrollbarSlider-background: rgba(100, 100, 100, 0.4);\n    --notebookScrollbarSlider-hoverBackground: rgba(100, 100, 100, 0.7);\n    --notebookScrollbarSlider-activeBackground: rgba(0, 0, 0, 0.6);\n    --notebook-symbolHighlightBackground: rgba(253, 255, 0, 0.2);\n    --notebook-cellEditorBackground: #f3f3f3;\n    --notebook-editorBackground: #ffffff;\n    --keybindingTable-headerBackground: rgba(97, 97, 97, 0.04);\n    --keybindingTable-rowsBackground: rgba(97, 97, 97, 0.04);\n    --searchEditor-textInputBorder: #cecece;\n    --debugTokenExpression-name: #9b46b0;\n    --debugTokenExpression-value: rgba(108, 108, 108, 0.8);\n    --debugTokenExpression-string: #a31515;\n    --debugTokenExpression-boolean: #0000ff;\n    --debugTokenExpression-number: #098658;\n    --debugTokenExpression-error: #e51400;\n    --debugView-exceptionLabelForeground: #ffffff;\n    --debugView-exceptionLabelBackground: #a31515;\n    --debugView-stateLabelForeground: #616161;\n    --debugView-stateLabelBackground: rgba(136, 136, 136, 0.27);\n    --debugView-valueChangedHighlight: #569cd6;\n    --debugConsole-infoForeground: #1a85ff;\n    --debugConsole-warningForeground: #bf8803;\n    --debugConsole-errorForeground: #a1260d;\n    --debugConsole-sourceForeground: #616161;\n    --debugConsoleInputIcon-foreground: #616161;\n    --debugIcon-pauseForeground: #007acc;\n    --debugIcon-stopForeground: #a1260d;\n    --debugIcon-disconnectForeground: #a1260d;\n    --debugIcon-restartForeground: #388a34;\n    --debugIcon-stepOverForeground: #007acc;\n    --debugIcon-stepIntoForeground: #007acc;\n    --debugIcon-stepOutForeground: #007acc;\n    --debugIcon-continueForeground: #007acc;\n    --debugIcon-stepBackForeground: #007acc;\n    --scm-providerBorder: #c8c8c8;\n    --extensionButton-background: #007acc;\n    --extensionButton-foreground: #ffffff;\n    --extensionButton-hoverBackground: #0062a3;\n    --extensionButton-separator: rgba(255, 255, 255, 0.4);\n    --extensionButton-prominentBackground: #007acc;\n    --extensionButton-prominentForeground: #ffffff;\n    --extensionButton-prominentHoverBackground: #0062a3;\n    --extensionIcon-starForeground: #df6100;\n    --extensionIcon-verifiedForeground: #006ab1;\n    --extensionIcon-preReleaseForeground: #1d9271;\n    --extensionIcon-sponsorForeground: #b51e78;\n    --terminal-ansiBlack: #000000;\n    --terminal-ansiRed: #cd3131;\n    --terminal-ansiGreen: #00bc00;\n    --terminal-ansiYellow: #949800;\n    --terminal-ansiBlue: #0451a5;\n    --terminal-ansiMagenta: #bc05bc;\n    --terminal-ansiCyan: #0598bc;\n    --terminal-ansiWhite: #555555;\n    --terminal-ansiBrightBlack: #666666;\n    --terminal-ansiBrightRed: #cd3131;\n    --terminal-ansiBrightGreen: #14ce14;\n    --terminal-ansiBrightYellow: #b5ba00;\n    --terminal-ansiBrightBlue: #0451a5;\n    --terminal-ansiBrightMagenta: #bc05bc;\n    --terminal-ansiBrightCyan: #0598bc;\n    --terminal-ansiBrightWhite: #a5a5a5;\n    --interactive-activeCodeBorder: #1a85ff;\n    --interactive-inactiveCodeBorder: #e4e6f1;\n    --gitDecoration-addedResourceForeground: #587c0c;\n    --gitDecoration-modifiedResourceForeground: #895503;\n    --gitDecoration-deletedResourceForeground: #ad0707;\n    --gitDecoration-renamedResourceForeground: #007100;\n    --gitDecoration-untrackedResourceForeground: #007100;\n    --gitDecoration-ignoredResourceForeground: #8e8e90;\n    --gitDecoration-stageModifiedResourceForeground: #895503;\n    --gitDecoration-stageDeletedResourceForeground: #ad0707;\n    --gitDecoration-conflictingResourceForeground: #ad0707;\n    --gitDecoration-submoduleResourceForeground: #1258a7;\n    --gitlens-gutterBackgroundColor: rgba(0, 0, 0, 0.05);\n    --gitlens-gutterForegroundColor: #747474;\n    --gitlens-gutterUncommittedForegroundColor: rgba(0, 188, 242, 0.6);\n    --gitlens-trailingLineBackgroundColor: rgba(0, 0, 0, 0);\n    --gitlens-trailingLineForegroundColor: rgba(153, 153, 153, 0.35);\n    --gitlens-lineHighlightBackgroundColor: rgba(0, 188, 242, 0.2);\n    --gitlens-lineHighlightOverviewRulerColor: rgba(0, 188, 242, 0.6);\n    --gitlens-openAutolinkedIssueIconColor: #1a7f37;\n    --gitlens-closedAutolinkedIssueIconColor: #8250df;\n    --gitlens-closedPullRequestIconColor: #cf222e;\n    --gitlens-openPullRequestIconColor: #1a7f37;\n    --gitlens-mergedPullRequestIconColor: #8250df;\n    --gitlens-unpublishedChangesIconColor: #35b15e;\n    --gitlens-unpublishedCommitIconColor: #35b15e;\n    --gitlens-unpulledChangesIconColor: #b15e35;\n    --gitlens-decorations-addedForegroundColor: #587c0c;\n    --gitlens-decorations-copiedForegroundColor: #007100;\n    --gitlens-decorations-deletedForegroundColor: #ad0707;\n    --gitlens-decorations-ignoredForegroundColor: #8e8e90;\n    --gitlens-decorations-modifiedForegroundColor: #895503;\n    --gitlens-decorations-untrackedForegroundColor: #007100;\n    --gitlens-decorations-renamedForegroundColor: #007100;\n    --gitlens-decorations-branchAheadForegroundColor: #35b15e;\n    --gitlens-decorations-branchBehindForegroundColor: #b15e35;\n    --gitlens-decorations-branchDivergedForegroundColor: #d8af1b;\n    --gitlens-decorations-branchUnpublishedForegroundColor: #35b15e;\n    --gitlens-decorations-branchMissingUpstreamForegroundColor: #ad0707;\n    --gitlens-decorations-workspaceRepoMissingForegroundColor: #949494;\n    --gitlens-decorations-workspaceCurrentForegroundColor: #35b15e;\n    --gitlens-decorations-workspaceRepoOpenForegroundColor: #35b15e;\n    --gitlens-decorations-worktreeHasUncommittedChangesForegroundColor: #895503;\n    --gitlens-decorations-worktreeMissingForegroundColor: #ad0707;\n    --gitlens-graphLane1Color: #15a0bf;\n    --gitlens-graphLane2Color: #0669f7;\n    --gitlens-graphLane3Color: #8e00c2;\n    --gitlens-graphLane4Color: #c517b6;\n    --gitlens-graphLane5Color: #d90171;\n    --gitlens-graphLane6Color: #cd0101;\n    --gitlens-graphLane7Color: #f25d2e;\n    --gitlens-graphLane8Color: #f2ca33;\n    --gitlens-graphLane9Color: #7bd938;\n    --gitlens-graphLane10Color: #2ece9d;\n    --gitlens-graphChangesColumnAddedColor: #2da44e;\n    --gitlens-graphChangesColumnDeletedColor: #cf222e;\n    --gitlens-graphMinimapMarkerHeadColor: #04c814;\n    --gitlens-graphScrollMarkerHeadColor: #04c814;\n    --gitlens-graphMinimapMarkerUpstreamColor: #8cd993;\n    --gitlens-graphScrollMarkerUpstreamColor: #8cd993;\n    --gitlens-graphMinimapMarkerHighlightsColor: #f5cc00;\n    --gitlens-graphScrollMarkerHighlightsColor: #f5cc00;\n    --gitlens-graphMinimapMarkerLocalBranchesColor: #3095e8;\n    --gitlens-graphScrollMarkerLocalBranchesColor: #3095e8;\n    --gitlens-graphMinimapMarkerRemoteBranchesColor: #67ace4;\n    --gitlens-graphScrollMarkerRemoteBranchesColor: #67ace4;\n    --gitlens-graphMinimapMarkerStashesColor: #e467e4;\n    --gitlens-graphScrollMarkerStashesColor: #e467e4;\n    --gitlens-graphMinimapMarkerTagsColor: #d2a379;\n    --gitlens-graphScrollMarkerTagsColor: #d2a379;\n}\n\n\n\n/* dark */\n[data-theme='dark']  {\n    --vscode-foreground: #cccccc;\n    --vscode-disabledForeground: rgba(204, 204, 204, 0.5);\n    --vscode-errorForeground: #f48771;\n    --vscode-descriptionForeground: rgba(204, 204, 204, 0.7);\n    --vscode-icon-foreground: #c5c5c5;\n    --vscode-focusBorder: #007fd4;\n    --vscode-textSeparator-foreground: rgba(255, 255, 255, 0.18);\n    --vscode-textLink-foreground: #3794ff;\n    --vscode-textLink-activeForeground: #3794ff;\n    --vscode-textPreformat-foreground: #d7ba7d;\n    --vscode-textBlockQuote-background: rgba(127, 127, 127, 0.1);\n    --vscode-textBlockQuote-border: rgba(0, 122, 204, 0.5);\n    --vscode-textCodeBlock-background: rgba(10, 10, 10, 0.4);\n    --vscode-widget-shadow: rgba(0, 0, 0, 0.36);\n    --vscode-widget-border: #303031;\n    --vscode-input-background: #3c3c3c;\n    --vscode-input-foreground: #cccccc;\n    --vscode-inputOption-activeBorder: #007acc;\n    --vscode-inputOption-hoverBackground: rgba(90, 93, 94, 0.5);\n    --vscode-inputOption-activeBackground: rgba(0, 127, 212, 0.4);\n    --vscode-inputOption-activeForeground: #ffffff;\n    --vscode-input-placeholderForeground: #a6a6a6;\n    --vscode-inputValidation-infoBackground: #063b49;\n    --vscode-inputValidation-infoBorder: #007acc;\n    --vscode-inputValidation-warningBackground: #352a05;\n    --vscode-inputValidation-warningBorder: #b89500;\n    --vscode-inputValidation-errorBackground: #5a1d1d;\n    --vscode-inputValidation-errorBorder: #be1100;\n    --vscode-dropdown-background: #3c3c3c;\n    --vscode-dropdown-foreground: #f0f0f0;\n    --vscode-dropdown-border: #3c3c3c;\n    --vscode-button-foreground: #ffffff;\n    --vscode-button-separator: rgba(255, 255, 255, 0.4);\n    --vscode-button-background: #0e639c;\n    --vscode-button-hoverBackground: #1177bb;\n    --vscode-button-secondaryForeground: #ffffff;\n    --vscode-button-secondaryBackground: #3a3d41;\n    --vscode-button-secondaryHoverBackground: #45494e;\n    --vscode-badge-background: #4d4d4d;\n    --vscode-badge-foreground: #ffffff;\n    --vscode-scrollbar-shadow: #000000;\n    --vscode-scrollbarSlider-background: rgba(121, 121, 121, 0.4);\n    --vscode-scrollbarSlider-hoverBackground: rgba(100, 100, 100, 0.7);\n    --vscode-scrollbarSlider-activeBackground: rgba(191, 191, 191, 0.4);\n    --vscode-progressBar-background: #0e70c0;\n    --vscode-editorError-foreground: #f14c4c;\n    --vscode-editorWarning-foreground: #cca700;\n    --vscode-editorInfo-foreground: #3794ff;\n    --vscode-editorHint-foreground: rgba(238, 238, 238, 0.7);\n    --vscode-sash-hoverBorder: #007fd4;\n    --vscode-editor-background: #1e1e1e;\n    --vscode-editor-foreground: #d4d4d4;\n    --vscode-editorStickyScroll-background: #1e1e1e;\n    --vscode-editorStickyScrollHover-background: #2a2d2e;\n    --vscode-editorWidget-background: #252526;\n    --vscode-editorWidget-foreground: #cccccc;\n    --vscode-editorWidget-border: #454545;\n    --vscode-quickInput-background: #252526;\n    --vscode-quickInput-foreground: #cccccc;\n    --vscode-quickInputTitle-background: rgba(255, 255, 255, 0.1);\n    --vscode-pickerGroup-foreground: #3794ff;\n    --vscode-pickerGroup-border: #3f3f46;\n    --vscode-keybindingLabel-background: rgba(128, 128, 128, 0.17);\n    --vscode-keybindingLabel-foreground: #cccccc;\n    --vscode-keybindingLabel-border: rgba(51, 51, 51, 0.6);\n    --vscode-keybindingLabel-bottomBorder: rgba(68, 68, 68, 0.6);\n    --vscode-editor-selectionBackground: #264f78;\n    --vscode-editor-inactiveSelectionBackground: #3a3d41;\n    --vscode-editor-selectionHighlightBackground: rgba(173, 214, 255, 0.15);\n    --vscode-editor-findMatchBackground: #515c6a;\n    --vscode-editor-findMatchHighlightBackground: rgba(234, 92, 0, 0.33);\n    --vscode-editor-findRangeHighlightBackground: rgba(58, 61, 65, 0.4);\n    --vscode-searchEditor-findMatchBackground: rgba(234, 92, 0, 0.22);\n    --vscode-search-resultsInfoForeground: rgba(204, 204, 204, 0.65);\n    --vscode-editor-hoverHighlightBackground: rgba(38, 79, 120, 0.25);\n    --vscode-editorHoverWidget-background: #252526;\n    --vscode-editorHoverWidget-foreground: #cccccc;\n    --vscode-editorHoverWidget-border: #454545;\n    --vscode-editorHoverWidget-statusBarBackground: #2c2c2d;\n    --vscode-editorLink-activeForeground: #4e94ce;\n    --vscode-editorInlayHint-foreground: #969696;\n    --vscode-editorInlayHint-background: rgba(77, 77, 77, 0.1);\n    --vscode-editorInlayHint-typeForeground: #969696;\n    --vscode-editorInlayHint-typeBackground: rgba(77, 77, 77, 0.1);\n    --vscode-editorInlayHint-parameterForeground: #969696;\n    --vscode-editorInlayHint-parameterBackground: rgba(77, 77, 77, 0.1);\n    --vscode-editorLightBulb-foreground: #ffcc00;\n    --vscode-editorLightBulbAutoFix-foreground: #75beff;\n    --vscode-diffEditor-insertedTextBackground: rgba(156, 204, 44, 0.2);\n    --vscode-diffEditor-removedTextBackground: rgba(255, 0, 0, 0.2);\n    --vscode-diffEditor-insertedLineBackground: rgba(155, 185, 85, 0.2);\n    --vscode-diffEditor-removedLineBackground: rgba(255, 0, 0, 0.2);\n    --vscode-diffEditor-diagonalFill: rgba(204, 204, 204, 0.2);\n    --vscode-diffEditor-unchangedRegionBackground: #3e3e3e;\n    --vscode-diffEditor-unchangedRegionForeground: #a3a2a2;\n    --vscode-diffEditor-unchangedCodeBackground: rgba(116, 116, 116, 0.16);\n    --vscode-list-focusOutline: #007fd4;\n    --vscode-list-activeSelectionBackground: #04395e;\n    --vscode-list-activeSelectionForeground: #ffffff;\n    --vscode-list-activeSelectionIconForeground: #ffffff;\n    --vscode-list-inactiveSelectionBackground: #37373d;\n    --vscode-list-hoverBackground: #2a2d2e;\n    --vscode-list-dropBackground: #383b3d;\n    --vscode-list-highlightForeground: #2aaaff;\n    --vscode-list-focusHighlightForeground: #2aaaff;\n    --vscode-list-invalidItemForeground: #b89500;\n    --vscode-list-errorForeground: #f88070;\n    --vscode-list-warningForeground: #cca700;\n    --vscode-listFilterWidget-background: #252526;\n    --vscode-listFilterWidget-outline: rgba(0, 0, 0, 0);\n    --vscode-listFilterWidget-noMatchesOutline: #be1100;\n    --vscode-listFilterWidget-shadow: rgba(0, 0, 0, 0.36);\n    --vscode-list-filterMatchBackground: rgba(234, 92, 0, 0.33);\n    --vscode-tree-indentGuidesStroke: #585858;\n    --vscode-tree-inactiveIndentGuidesStroke: rgba(88, 88, 88, 0.4);\n    --vscode-tree-tableColumnsBorder: rgba(204, 204, 204, 0.13);\n    --vscode-tree-tableOddRowsBackground: rgba(204, 204, 204, 0.04);\n    --vscode-list-deemphasizedForeground: #8c8c8c;\n    --vscode-checkbox-background: #3c3c3c;\n    --vscode-checkbox-selectBackground: #252526;\n    --vscode-checkbox-foreground: #f0f0f0;\n    --vscode-checkbox-border: #6b6b6b;\n    --vscode-checkbox-selectBorder: #c5c5c5;\n    --vscode-quickInputList-focusForeground: #ffffff;\n    --vscode-quickInputList-focusIconForeground: #ffffff;\n    --vscode-quickInputList-focusBackground: #04395e;\n    --vscode-menu-border: #454545;\n    --vscode-menu-foreground: #cccccc;\n    --vscode-menu-background: #252526;\n    --vscode-menu-selectionForeground: #ffffff;\n    --vscode-menu-selectionBackground: #04395e;\n    --vscode-menu-separatorBackground: #454545;\n    --vscode-toolbar-hoverBackground: rgba(90, 93, 94, 0.31);\n    --vscode-toolbar-activeBackground: rgba(99, 102, 103, 0.31);\n    --vscode-editor-snippetTabstopHighlightBackground: rgba(124, 124, 124, 0.3);\n    --vscode-editor-snippetFinalTabstopHighlightBorder: #525252;\n    --vscode-breadcrumb-foreground: rgba(204, 204, 204, 0.8);\n    --vscode-breadcrumb-background: #1e1e1e;\n    --vscode-breadcrumb-focusForeground: #e0e0e0;\n    --vscode-breadcrumb-activeSelectionForeground: #e0e0e0;\n    --vscode-breadcrumbPicker-background: #252526;\n    --vscode-merge-currentHeaderBackground: rgba(64, 200, 174, 0.5);\n    --vscode-merge-currentContentBackground: rgba(64, 200, 174, 0.2);\n    --vscode-merge-incomingHeaderBackground: rgba(64, 166, 255, 0.5);\n    --vscode-merge-incomingContentBackground: rgba(64, 166, 255, 0.2);\n    --vscode-merge-commonHeaderBackground: rgba(96, 96, 96, 0.4);\n    --vscode-merge-commonContentBackground: rgba(96, 96, 96, 0.16);\n    --vscode-editorOverviewRuler-currentContentForeground: rgba(64, 200, 174, 0.5);\n    --vscode-editorOverviewRuler-incomingContentForeground: rgba(64, 166, 255, 0.5);\n    --vscode-editorOverviewRuler-commonContentForeground: rgba(96, 96, 96, 0.4);\n    --vscode-editorOverviewRuler-findMatchForeground: rgba(209, 134, 22, 0.49);\n    --vscode-editorOverviewRuler-selectionHighlightForeground: rgba(160, 160, 160, 0.8);\n    --vscode-minimap-findMatchHighlight: #d18616;\n    --vscode-minimap-selectionOccurrenceHighlight: #676767;\n    --vscode-minimap-selectionHighlight: #264f78;\n    --vscode-minimap-infoHighlight: #3794ff;\n    --vscode-minimap-warningHighlight: #cca700;\n    --vscode-minimap-errorHighlight: rgba(255, 18, 18, 0.7);\n    --vscode-minimap-foregroundOpacity: #000000;\n    --vscode-minimapSlider-background: rgba(121, 121, 121, 0.2);\n    --vscode-minimapSlider-hoverBackground: rgba(100, 100, 100, 0.35);\n    --vscode-minimapSlider-activeBackground: rgba(191, 191, 191, 0.2);\n    --vscode-problemsErrorIcon-foreground: #f14c4c;\n    --vscode-problemsWarningIcon-foreground: #cca700;\n    --vscode-problemsInfoIcon-foreground: #3794ff;\n    --vscode-charts-foreground: #cccccc;\n    --vscode-charts-lines: rgba(204, 204, 204, 0.5);\n    --vscode-charts-red: #f14c4c;\n    --vscode-charts-blue: #3794ff;\n    --vscode-charts-yellow: #cca700;\n    --vscode-charts-orange: #d18616;\n    --vscode-charts-green: #89d185;\n    --vscode-charts-purple: #b180d7;\n    --vscode-diffEditor-move-border: rgba(139, 139, 139, 0.61);\n    --vscode-diffEditor-moveActive-border: #ffa500;\n    --vscode-symbolIcon-arrayForeground: #cccccc;\n    --vscode-symbolIcon-booleanForeground: #cccccc;\n    --vscode-symbolIcon-classForeground: #ee9d28;\n    --vscode-symbolIcon-colorForeground: #cccccc;\n    --vscode-symbolIcon-constantForeground: #cccccc;\n    --vscode-symbolIcon-constructorForeground: #b180d7;\n    --vscode-symbolIcon-enumeratorForeground: #ee9d28;\n    --vscode-symbolIcon-enumeratorMemberForeground: #75beff;\n    --vscode-symbolIcon-eventForeground: #ee9d28;\n    --vscode-symbolIcon-fieldForeground: #75beff;\n    --vscode-symbolIcon-fileForeground: #cccccc;\n    --vscode-symbolIcon-folderForeground: #cccccc;\n    --vscode-symbolIcon-functionForeground: #b180d7;\n    --vscode-symbolIcon-interfaceForeground: #75beff;\n    --vscode-symbolIcon-keyForeground: #cccccc;\n    --vscode-symbolIcon-keywordForeground: #cccccc;\n    --vscode-symbolIcon-methodForeground: #b180d7;\n    --vscode-symbolIcon-moduleForeground: #cccccc;\n    --vscode-symbolIcon-namespaceForeground: #cccccc;\n    --vscode-symbolIcon-nullForeground: #cccccc;\n    --vscode-symbolIcon-numberForeground: #cccccc;\n    --vscode-symbolIcon-objectForeground: #cccccc;\n    --vscode-symbolIcon-operatorForeground: #cccccc;\n    --vscode-symbolIcon-packageForeground: #cccccc;\n    --vscode-symbolIcon-propertyForeground: #cccccc;\n    --vscode-symbolIcon-referenceForeground: #cccccc;\n    --vscode-symbolIcon-snippetForeground: #cccccc;\n    --vscode-symbolIcon-stringForeground: #cccccc;\n    --vscode-symbolIcon-structForeground: #cccccc;\n    --vscode-symbolIcon-textForeground: #cccccc;\n    --vscode-symbolIcon-typeParameterForeground: #cccccc;\n    --vscode-symbolIcon-unitForeground: #cccccc;\n    --vscode-symbolIcon-variableForeground: #75beff;\n    --vscode-actionBar-toggledBackground: #383a49;\n    --vscode-editorHoverWidget-highlightForeground: #2aaaff;\n    --vscode-editor-lineHighlightBorder: #282828;\n    --vscode-editor-rangeHighlightBackground: rgba(255, 255, 255, 0.04);\n    --vscode-editor-symbolHighlightBackground: rgba(234, 92, 0, 0.33);\n    --vscode-editorCursor-foreground: #aeafad;\n    --vscode-editorWhitespace-foreground: rgba(227, 228, 226, 0.16);\n    --vscode-editorLineNumber-foreground: #858585;\n    --vscode-editorIndentGuide-background: #404040;\n    --vscode-editorIndentGuide-activeBackground: #707070;\n    --vscode-editorIndentGuide-background1: #404040;\n    --vscode-editorIndentGuide-background2: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-background3: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-background4: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-background5: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-background6: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-activeBackground1: #707070;\n    --vscode-editorIndentGuide-activeBackground2: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-activeBackground3: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-activeBackground4: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-activeBackground5: rgba(0, 0, 0, 0);\n    --vscode-editorIndentGuide-activeBackground6: rgba(0, 0, 0, 0);\n    --vscode-editorActiveLineNumber-foreground: #c6c6c6;\n    --vscode-editorLineNumber-activeForeground: #c6c6c6;\n    --vscode-editorRuler-foreground: #5a5a5a;\n    --vscode-editorCodeLens-foreground: #999999;\n    --vscode-editorBracketMatch-background: rgba(0, 100, 0, 0.1);\n    --vscode-editorBracketMatch-border: #888888;\n    --vscode-editorOverviewRuler-border: rgba(127, 127, 127, 0.3);\n    --vscode-editorGutter-background: #1e1e1e;\n    --vscode-editorUnnecessaryCode-opacity: rgba(0, 0, 0, 0.67);\n    --vscode-editorGhostText-foreground: rgba(255, 255, 255, 0.34);\n    --vscode-editorOverviewRuler-rangeHighlightForeground: rgba(0, 122, 204, 0.6);\n    --vscode-editorOverviewRuler-errorForeground: rgba(255, 18, 18, 0.7);\n    --vscode-editorOverviewRuler-warningForeground: #cca700;\n    --vscode-editorOverviewRuler-infoForeground: #3794ff;\n    --vscode-editorBracketHighlight-foreground1: #ffd700;\n    --vscode-editorBracketHighlight-foreground2: #da70d6;\n    --vscode-editorBracketHighlight-foreground3: #179fff;\n    --vscode-editorBracketHighlight-foreground4: rgba(0, 0, 0, 0);\n    --vscode-editorBracketHighlight-foreground5: rgba(0, 0, 0, 0);\n    --vscode-editorBracketHighlight-foreground6: rgba(0, 0, 0, 0);\n    --vscode-editorBracketHighlight-unexpectedBracket-foreground: rgba(255, 18, 18, 0.8);\n    --vscode-editorBracketPairGuide-background1: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-background2: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-background3: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-background4: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-background5: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-background6: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-activeBackground1: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-activeBackground2: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-activeBackground3: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-activeBackground4: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-activeBackground5: rgba(0, 0, 0, 0);\n    --vscode-editorBracketPairGuide-activeBackground6: rgba(0, 0, 0, 0);\n    --vscode-editorUnicodeHighlight-border: #bd9b03;\n    --vscode-editorUnicodeHighlight-background: rgba(189, 155, 3, 0.15);\n    --vscode-editorOverviewRuler-bracketMatchForeground: #a0a0a0;\n    --vscode-editor-foldBackground: rgba(38, 79, 120, 0.3);\n    --vscode-editorGutter-foldingControlForeground: #c5c5c5;\n    --vscode-editor-linkedEditingBackground: rgba(255, 0, 0, 0.3);\n    --vscode-editor-wordHighlightBackground: rgba(87, 87, 87, 0.72);\n    --vscode-editor-wordHighlightStrongBackground: rgba(0, 73, 114, 0.72);\n    --vscode-editor-wordHighlightTextBackground: rgba(87, 87, 87, 0.72);\n    --vscode-editorOverviewRuler-wordHighlightForeground: rgba(160, 160, 160, 0.8);\n    --vscode-editorOverviewRuler-wordHighlightStrongForeground: rgba(192, 160, 192, 0.8);\n    --vscode-editorOverviewRuler-wordHighlightTextForeground: rgba(160, 160, 160, 0.8);\n    --vscode-peekViewTitle-background: #252526;\n    --vscode-peekViewTitleLabel-foreground: #ffffff;\n    --vscode-peekViewTitleDescription-foreground: rgba(204, 204, 204, 0.7);\n    --vscode-peekView-border: #3794ff;\n    --vscode-peekViewResult-background: #252526;\n    --vscode-peekViewResult-lineForeground: #bbbbbb;\n    --vscode-peekViewResult-fileForeground: #ffffff;\n    --vscode-peekViewResult-selectionBackground: rgba(51, 153, 255, 0.2);\n    --vscode-peekViewResult-selectionForeground: #ffffff;\n    --vscode-peekViewEditor-background: #001f33;\n    --vscode-peekViewEditorGutter-background: #001f33;\n    --vscode-peekViewEditorStickyScroll-background: #001f33;\n    --vscode-peekViewResult-matchHighlightBackground: rgba(234, 92, 0, 0.3);\n    --vscode-peekViewEditor-matchHighlightBackground: rgba(255, 143, 0, 0.6);\n    --vscode-editorMarkerNavigationError-background: #f14c4c;\n    --vscode-editorMarkerNavigationError-headerBackground: rgba(241, 76, 76, 0.1);\n    --vscode-editorMarkerNavigationWarning-background: #cca700;\n    --vscode-editorMarkerNavigationWarning-headerBackground: rgba(204, 167, 0, 0.1);\n    --vscode-editorMarkerNavigationInfo-background: #3794ff;\n    --vscode-editorMarkerNavigationInfo-headerBackground: rgba(55, 148, 255, 0.1);\n    --vscode-editorMarkerNavigation-background: #1e1e1e;\n    --vscode-editorSuggestWidget-background: #252526;\n    --vscode-editorSuggestWidget-border: #454545;\n    --vscode-editorSuggestWidget-foreground: #d4d4d4;\n    --vscode-editorSuggestWidget-selectedForeground: #ffffff;\n    --vscode-editorSuggestWidget-selectedIconForeground: #ffffff;\n    --vscode-editorSuggestWidget-selectedBackground: #04395e;\n    --vscode-editorSuggestWidget-highlightForeground: #2aaaff;\n    --vscode-editorSuggestWidget-focusHighlightForeground: #2aaaff;\n    --vscode-editorSuggestWidgetStatus-foreground: rgba(212, 212, 212, 0.5);\n    --vscode-tab-activeBackground: #1e1e1e;\n    --vscode-tab-unfocusedActiveBackground: #1e1e1e;\n    --vscode-tab-inactiveBackground: #2d2d2d;\n    --vscode-tab-unfocusedInactiveBackground: #2d2d2d;\n    --vscode-tab-activeForeground: #ffffff;\n    --vscode-tab-inactiveForeground: rgba(255, 255, 255, 0.5);\n    --vscode-tab-unfocusedActiveForeground: rgba(255, 255, 255, 0.5);\n    --vscode-tab-unfocusedInactiveForeground: rgba(255, 255, 255, 0.25);\n    --vscode-tab-border: #252526;\n    --vscode-tab-lastPinnedBorder: rgba(204, 204, 204, 0.2);\n    --vscode-tab-activeModifiedBorder: #3399cc;\n    --vscode-tab-inactiveModifiedBorder: rgba(51, 153, 204, 0.5);\n    --vscode-tab-unfocusedActiveModifiedBorder: rgba(51, 153, 204, 0.5);\n    --vscode-tab-unfocusedInactiveModifiedBorder: rgba(51, 153, 204, 0.25);\n    --vscode-editorPane-background: #1e1e1e;\n    --vscode-editorGroupHeader-tabsBackground: #252526;\n    --vscode-editorGroupHeader-noTabsBackground: #1e1e1e;\n    --vscode-editorGroup-border: #444444;\n    --vscode-editorGroup-dropBackground: rgba(83, 89, 93, 0.5);\n    --vscode-editorGroup-dropIntoPromptForeground: #cccccc;\n    --vscode-editorGroup-dropIntoPromptBackground: #252526;\n    --vscode-sideBySideEditor-horizontalBorder: #444444;\n    --vscode-sideBySideEditor-verticalBorder: #444444;\n    --vscode-panel-background: #1e1e1e;\n    --vscode-panel-border: rgba(128, 128, 128, 0.35);\n    --vscode-panelTitle-activeForeground: #e7e7e7;\n    --vscode-panelTitle-inactiveForeground: rgba(231, 231, 231, 0.6);\n    --vscode-panelTitle-activeBorder: #e7e7e7;\n    --vscode-panel-dropBorder: #e7e7e7;\n    --vscode-panelSection-dropBackground: rgba(83, 89, 93, 0.5);\n    --vscode-panelSectionHeader-background: rgba(128, 128, 128, 0.2);\n    --vscode-panelSection-border: rgba(128, 128, 128, 0.35);\n    --vscode-banner-background: #04395e;\n    --vscode-banner-foreground: #ffffff;\n    --vscode-banner-iconForeground: #3794ff;\n    --vscode-statusBar-foreground: #ffffff;\n    --vscode-statusBar-noFolderForeground: #ffffff;\n    --vscode-statusBar-background: #007acc;\n    --vscode-statusBar-noFolderBackground: #68217a;\n    --vscode-statusBar-focusBorder: #ffffff;\n    --vscode-statusBarItem-activeBackground: rgba(255, 255, 255, 0.18);\n    --vscode-statusBarItem-focusBorder: #ffffff;\n    --vscode-statusBarItem-hoverBackground: rgba(255, 255, 255, 0.12);\n    --vscode-statusBarItem-hoverForeground: #ffffff;\n    --vscode-statusBarItem-compactHoverBackground: rgba(255, 255, 255, 0.2);\n    --vscode-statusBarItem-prominentForeground: #ffffff;\n    --vscode-statusBarItem-prominentBackground: rgba(0, 0, 0, 0.5);\n    --vscode-statusBarItem-prominentHoverForeground: #ffffff;\n    --vscode-statusBarItem-prominentHoverBackground: rgba(0, 0, 0, 0.3);\n    --vscode-statusBarItem-errorBackground: #c72e0f;\n    --vscode-statusBarItem-errorForeground: #ffffff;\n    --vscode-statusBarItem-errorHoverForeground: #ffffff;\n    --vscode-statusBarItem-errorHoverBackground: rgba(255, 255, 255, 0.12);\n    --vscode-statusBarItem-warningBackground: #7a6400;\n    --vscode-statusBarItem-warningForeground: #ffffff;\n    --vscode-statusBarItem-warningHoverForeground: #ffffff;\n    --vscode-statusBarItem-warningHoverBackground: rgba(255, 255, 255, 0.12);\n    --vscode-activityBar-background: #333333;\n    --vscode-activityBar-foreground: #ffffff;\n    --vscode-activityBar-inactiveForeground: rgba(255, 255, 255, 0.4);\n    --vscode-activityBar-activeBorder: #ffffff;\n    --vscode-activityBar-dropBorder: #ffffff;\n    --vscode-activityBarBadge-background: #007acc;\n    --vscode-activityBarBadge-foreground: #ffffff;\n    --vscode-profileBadge-background: #4d4d4d;\n    --vscode-profileBadge-foreground: #ffffff;\n    --vscode-statusBarItem-remoteBackground: #16825d;\n    --vscode-statusBarItem-remoteForeground: #ffffff;\n    --vscode-statusBarItem-remoteHoverForeground: #ffffff;\n    --vscode-statusBarItem-remoteHoverBackground: rgba(255, 255, 255, 0.12);\n    --vscode-statusBarItem-offlineBackground: #6c1717;\n    --vscode-statusBarItem-offlineForeground: #ffffff;\n    --vscode-statusBarItem-offlineHoverForeground: #ffffff;\n    --vscode-statusBarItem-offlineHoverBackground: rgba(255, 255, 255, 0.12);\n    --vscode-extensionBadge-remoteBackground: #007acc;\n    --vscode-extensionBadge-remoteForeground: #ffffff;\n    --vscode-sideBar-background: #252526;\n    --vscode-sideBarTitle-foreground: #bbbbbb;\n    --vscode-sideBar-dropBackground: rgba(83, 89, 93, 0.5);\n    --vscode-sideBarSectionHeader-background: rgba(0, 0, 0, 0);\n    --vscode-sideBarSectionHeader-border: rgba(204, 204, 204, 0.2);\n    --vscode-titleBar-activeForeground: #cccccc;\n    --vscode-titleBar-inactiveForeground: rgba(204, 204, 204, 0.6);\n    --vscode-titleBar-activeBackground: #3c3c3c;\n    --vscode-titleBar-inactiveBackground: rgba(60, 60, 60, 0.6);\n    --vscode-menubar-selectionForeground: #cccccc;\n    --vscode-menubar-selectionBackground: rgba(90, 93, 94, 0.31);\n    --vscode-commandCenter-foreground: #cccccc;\n    --vscode-commandCenter-activeForeground: #cccccc;\n    --vscode-commandCenter-inactiveForeground: rgba(204, 204, 204, 0.6);\n    --vscode-commandCenter-background: rgba(255, 255, 255, 0.05);\n    --vscode-commandCenter-activeBackground: rgba(255, 255, 255, 0.08);\n    --vscode-commandCenter-border: rgba(204, 204, 204, 0.2);\n    --vscode-commandCenter-activeBorder: rgba(204, 204, 204, 0.3);\n    --vscode-commandCenter-inactiveBorder: rgba(204, 204, 204, 0.15);\n    --vscode-notificationCenter-border: #303031;\n    --vscode-notificationToast-border: #303031;\n    --vscode-notifications-foreground: #cccccc;\n    --vscode-notifications-background: #252526;\n    --vscode-notificationLink-foreground: #3794ff;\n    --vscode-notificationCenterHeader-background: #303031;\n    --vscode-notifications-border: #303031;\n    --vscode-notificationsErrorIcon-foreground: #f14c4c;\n    --vscode-notificationsWarningIcon-foreground: #cca700;\n    --vscode-notificationsInfoIcon-foreground: #3794ff;\n    --vscode-chat-requestBorder: rgba(255, 255, 255, 0.1);\n    --vscode-chat-slashCommandBackground: #4d4d4d;\n    --vscode-chat-slashCommandForeground: #ffffff;\n    --vscode-simpleFindWidget-sashBorder: #454545;\n    --vscode-commentsView-resolvedIcon: rgba(204, 204, 204, 0.5);\n    --vscode-commentsView-unresolvedIcon: #007fd4;\n    --vscode-editorCommentsWidget-resolvedBorder: rgba(204, 204, 204, 0.5);\n    --vscode-editorCommentsWidget-unresolvedBorder: #007fd4;\n    --vscode-editorCommentsWidget-rangeBackground: rgba(0, 127, 212, 0.1);\n    --vscode-editorCommentsWidget-rangeActiveBackground: rgba(0, 127, 212, 0.1);\n    --vscode-editorGutter-commentRangeForeground: #37373d;\n    --vscode-editorOverviewRuler-commentForeground: #37373d;\n    --vscode-editorOverviewRuler-commentUnresolvedForeground: #37373d;\n    --vscode-editorGutter-commentGlyphForeground: #d4d4d4;\n    --vscode-editorGutter-commentUnresolvedGlyphForeground: #d4d4d4;\n    --vscode-debugToolBar-background: #333333;\n    --vscode-debugIcon-startForeground: #89d185;\n    --vscode-editor-stackFrameHighlightBackground: rgba(255, 255, 0, 0.2);\n    --vscode-editor-focusedStackFrameHighlightBackground: rgba(122, 189, 122, 0.3);\n    --vscode-mergeEditor-change-background: rgba(155, 185, 85, 0.2);\n    --vscode-mergeEditor-change-word-background: rgba(156, 204, 44, 0.2);\n    --vscode-mergeEditor-changeBase-background: #4b1818;\n    --vscode-mergeEditor-changeBase-word-background: #6f1313;\n    --vscode-mergeEditor-conflict-unhandledUnfocused-border: rgba(255, 166, 0, 0.48);\n    --vscode-mergeEditor-conflict-unhandledFocused-border: #ffa600;\n    --vscode-mergeEditor-conflict-handledUnfocused-border: rgba(134, 134, 134, 0.29);\n    --vscode-mergeEditor-conflict-handledFocused-border: rgba(193, 193, 193, 0.8);\n    --vscode-mergeEditor-conflict-handled-minimapOverViewRuler: rgba(173, 172, 168, 0.93);\n    --vscode-mergeEditor-conflict-unhandled-minimapOverViewRuler: #fcba03;\n    --vscode-mergeEditor-conflictingLines-background: rgba(255, 234, 0, 0.28);\n    --vscode-mergeEditor-conflict-input1-background: rgba(64, 200, 174, 0.2);\n    --vscode-mergeEditor-conflict-input2-background: rgba(64, 166, 255, 0.2);\n    --vscode-settings-headerForeground: #e7e7e7;\n    --vscode-settings-settingsHeaderHoverForeground: rgba(231, 231, 231, 0.7);\n    --vscode-settings-modifiedItemIndicator: #0c7d9d;\n    --vscode-settings-headerBorder: rgba(128, 128, 128, 0.35);\n    --vscode-settings-sashBorder: rgba(128, 128, 128, 0.35);\n    --vscode-settings-dropdownBackground: #3c3c3c;\n    --vscode-settings-dropdownForeground: #f0f0f0;\n    --vscode-settings-dropdownBorder: #3c3c3c;\n    --vscode-settings-dropdownListBorder: #454545;\n    --vscode-settings-checkboxBackground: #3c3c3c;\n    --vscode-settings-checkboxForeground: #f0f0f0;\n    --vscode-settings-checkboxBorder: #6b6b6b;\n    --vscode-settings-textInputBackground: #3c3c3c;\n    --vscode-settings-textInputForeground: #cccccc;\n    --vscode-settings-numberInputBackground: #3c3c3c;\n    --vscode-settings-numberInputForeground: #cccccc;\n    --vscode-settings-focusedRowBackground: rgba(42, 45, 46, 0.6);\n    --vscode-settings-rowHoverBackground: rgba(42, 45, 46, 0.3);\n    --vscode-settings-focusedRowBorder: #007fd4;\n    --vscode-terminal-foreground: #cccccc;\n    --vscode-terminal-selectionBackground: #264f78;\n    --vscode-terminal-inactiveSelectionBackground: #3a3d41;\n    --vscode-terminalCommandDecoration-defaultBackground: rgba(255, 255, 255, 0.25);\n    --vscode-terminalCommandDecoration-successBackground: #1b81a8;\n    --vscode-terminalCommandDecoration-errorBackground: #f14c4c;\n    --vscode-terminalOverviewRuler-cursorForeground: rgba(160, 160, 160, 0.8);\n    --vscode-terminal-border: rgba(128, 128, 128, 0.35);\n    --vscode-terminal-findMatchBackground: #515c6a;\n    --vscode-terminal-hoverHighlightBackground: rgba(38, 79, 120, 0.13);\n    --vscode-terminal-findMatchHighlightBackground: rgba(234, 92, 0, 0.33);\n    --vscode-terminalOverviewRuler-findMatchForeground: rgba(209, 134, 22, 0.49);\n    --vscode-terminal-dropBackground: rgba(83, 89, 93, 0.5);\n    --vscode-testing-iconFailed: #f14c4c;\n    --vscode-testing-iconErrored: #f14c4c;\n    --vscode-testing-iconPassed: #73c991;\n    --vscode-testing-runAction: #73c991;\n    --vscode-testing-iconQueued: #cca700;\n    --vscode-testing-iconUnset: #848484;\n    --vscode-testing-iconSkipped: #848484;\n    --vscode-testing-peekBorder: #f14c4c;\n    --vscode-testing-peekHeaderBackground: rgba(241, 76, 76, 0.1);\n    --vscode-testing-message-error-decorationForeground: #f14c4c;\n    --vscode-testing-message-error-lineBackground: rgba(255, 0, 0, 0.2);\n    --vscode-testing-message-info-decorationForeground: rgba(212, 212, 212, 0.5);\n    --vscode-welcomePage-tileBackground: #252526;\n    --vscode-welcomePage-tileHoverBackground: #2c2c2d;\n    --vscode-welcomePage-tileBorder: rgba(255, 255, 255, 0.1);\n    --vscode-welcomePage-progress-background: #3c3c3c;\n    --vscode-welcomePage-progress-foreground: #3794ff;\n    --vscode-walkthrough-stepTitle-foreground: #ffffff;\n    --vscode-walkThrough-embeddedEditorBackground: rgba(0, 0, 0, 0.4);\n    --vscode-inlineChat-background: #252526;\n    --vscode-inlineChat-border: #454545;\n    --vscode-inlineChat-shadow: rgba(0, 0, 0, 0.36);\n    --vscode-inlineChat-regionHighlight: rgba(38, 79, 120, 0.25);\n    --vscode-inlineChatInput-border: #454545;\n    --vscode-inlineChatInput-focusBorder: #007fd4;\n    --vscode-inlineChatInput-placeholderForeground: #a6a6a6;\n    --vscode-inlineChatInput-background: #3c3c3c;\n    --vscode-inlineChatDiff-inserted: rgba(156, 204, 44, 0.1);\n    --vscode-inlineChatDiff-removed: rgba(255, 0, 0, 0.1);\n    --vscode-debugExceptionWidget-border: #a31515;\n    --vscode-debugExceptionWidget-background: #420b0d;\n    --vscode-ports-iconRunningProcessForeground: #369432;\n    --vscode-statusBar-debuggingBackground: #cc6633;\n    --vscode-statusBar-debuggingForeground: #ffffff;\n    --vscode-commandCenter-debuggingBackground: rgba(204, 102, 51, 0.26);\n    --vscode-editor-inlineValuesForeground: rgba(255, 255, 255, 0.5);\n    --vscode-editor-inlineValuesBackground: rgba(255, 200, 0, 0.2);\n    --vscode-editorGutter-modifiedBackground: #1b81a8;\n    --vscode-editorGutter-addedBackground: #487e02;\n    --vscode-editorGutter-deletedBackground: #f14c4c;\n    --vscode-minimapGutter-modifiedBackground: #1b81a8;\n    --vscode-minimapGutter-addedBackground: #487e02;\n    --vscode-minimapGutter-deletedBackground: #f14c4c;\n    --vscode-editorOverviewRuler-modifiedForeground: rgba(27, 129, 168, 0.6);\n    --vscode-editorOverviewRuler-addedForeground: rgba(72, 126, 2, 0.6);\n    --vscode-editorOverviewRuler-deletedForeground: rgba(241, 76, 76, 0.6);\n    --vscode-debugIcon-breakpointForeground: #e51400;\n    --vscode-debugIcon-breakpointDisabledForeground: #848484;\n    --vscode-debugIcon-breakpointUnverifiedForeground: #848484;\n    --vscode-debugIcon-breakpointCurrentStackframeForeground: #ffcc00;\n    --vscode-debugIcon-breakpointStackframeForeground: #89d185;\n    --vscode-notebook-cellBorderColor: #37373d;\n    --vscode-notebook-focusedEditorBorder: #007fd4;\n    --vscode-notebookStatusSuccessIcon-foreground: #89d185;\n    --vscode-notebookEditorOverviewRuler-runningCellForeground: #89d185;\n    --vscode-notebookStatusErrorIcon-foreground: #f48771;\n    --vscode-notebookStatusRunningIcon-foreground: #cccccc;\n    --vscode-notebook-cellToolbarSeparator: rgba(128, 128, 128, 0.35);\n    --vscode-notebook-selectedCellBackground: #37373d;\n    --vscode-notebook-selectedCellBorder: #37373d;\n    --vscode-notebook-focusedCellBorder: #007fd4;\n    --vscode-notebook-inactiveFocusedCellBorder: #37373d;\n    --vscode-notebook-cellStatusBarItemHoverBackground: rgba(255, 255, 255, 0.15);\n    --vscode-notebook-cellInsertionIndicator: #007fd4;\n    --vscode-notebookScrollbarSlider-background: rgba(121, 121, 121, 0.4);\n    --vscode-notebookScrollbarSlider-hoverBackground: rgba(100, 100, 100, 0.7);\n    --vscode-notebookScrollbarSlider-activeBackground: rgba(191, 191, 191, 0.4);\n    --vscode-notebook-symbolHighlightBackground: rgba(255, 255, 255, 0.04);\n    --vscode-notebook-cellEditorBackground: #252526;\n    --vscode-notebook-editorBackground: #1e1e1e;\n    --vscode-keybindingTable-headerBackground: rgba(204, 204, 204, 0.04);\n    --vscode-keybindingTable-rowsBackground: rgba(204, 204, 204, 0.04);\n    --vscode-debugTokenExpression-name: #c586c0;\n    --vscode-debugTokenExpression-value: rgba(204, 204, 204, 0.6);\n    --vscode-debugTokenExpression-string: #ce9178;\n    --vscode-debugTokenExpression-boolean: #4e94ce;\n    --vscode-debugTokenExpression-number: #b5cea8;\n    --vscode-debugTokenExpression-error: #f48771;\n    --vscode-debugView-exceptionLabelForeground: #cccccc;\n    --vscode-debugView-exceptionLabelBackground: #6c2022;\n    --vscode-debugView-stateLabelForeground: #cccccc;\n    --vscode-debugView-stateLabelBackground: rgba(136, 136, 136, 0.27);\n    --vscode-debugView-valueChangedHighlight: #569cd6;\n    --vscode-debugConsole-infoForeground: #3794ff;\n    --vscode-debugConsole-warningForeground: #cca700;\n    --vscode-debugConsole-errorForeground: #f48771;\n    --vscode-debugConsole-sourceForeground: #cccccc;\n    --vscode-debugConsoleInputIcon-foreground: #cccccc;\n    --vscode-debugIcon-pauseForeground: #75beff;\n    --vscode-debugIcon-stopForeground: #f48771;\n    --vscode-debugIcon-disconnectForeground: #f48771;\n    --vscode-debugIcon-restartForeground: #89d185;\n    --vscode-debugIcon-stepOverForeground: #75beff;\n    --vscode-debugIcon-stepIntoForeground: #75beff;\n    --vscode-debugIcon-stepOutForeground: #75beff;\n    --vscode-debugIcon-continueForeground: #75beff;\n    --vscode-debugIcon-stepBackForeground: #75beff;\n    --vscode-scm-providerBorder: #454545;\n    --vscode-extensionButton-background: #0e639c;\n    --vscode-extensionButton-foreground: #ffffff;\n    --vscode-extensionButton-hoverBackground: #1177bb;\n    --vscode-extensionButton-separator: rgba(255, 255, 255, 0.4);\n    --vscode-extensionButton-prominentBackground: #0e639c;\n    --vscode-extensionButton-prominentForeground: #ffffff;\n    --vscode-extensionButton-prominentHoverBackground: #1177bb;\n    --vscode-extensionIcon-starForeground: #ff8e00;\n    --vscode-extensionIcon-verifiedForeground: #3794ff;\n    --vscode-extensionIcon-preReleaseForeground: #1d9271;\n    --vscode-extensionIcon-sponsorForeground: #d758b3;\n    --vscode-terminal-ansiBlack: #000000;\n    --vscode-terminal-ansiRed: #cd3131;\n    --vscode-terminal-ansiGreen: #0dbc79;\n    --vscode-terminal-ansiYellow: #e5e510;\n    --vscode-terminal-ansiBlue: #2472c8;\n    --vscode-terminal-ansiMagenta: #bc3fbc;\n    --vscode-terminal-ansiCyan: #11a8cd;\n    --vscode-terminal-ansiWhite: #e5e5e5;\n    --vscode-terminal-ansiBrightBlack: #666666;\n    --vscode-terminal-ansiBrightRed: #f14c4c;\n    --vscode-terminal-ansiBrightGreen: #23d18b;\n    --vscode-terminal-ansiBrightYellow: #f5f543;\n    --vscode-terminal-ansiBrightBlue: #3b8eea;\n    --vscode-terminal-ansiBrightMagenta: #d670d6;\n    --vscode-terminal-ansiBrightCyan: #29b8db;\n    --vscode-terminal-ansiBrightWhite: #e5e5e5;\n    --vscode-interactive-activeCodeBorder: #3794ff;\n    --vscode-interactive-inactiveCodeBorder: #37373d;\n    --vscode-gitDecoration-addedResourceForeground: #81b88b;\n    --vscode-gitDecoration-modifiedResourceForeground: #e2c08d;\n    --vscode-gitDecoration-deletedResourceForeground: #c74e39;\n    --vscode-gitDecoration-renamedResourceForeground: #73c991;\n    --vscode-gitDecoration-untrackedResourceForeground: #73c991;\n    --vscode-gitDecoration-ignoredResourceForeground: #8c8c8c;\n    --vscode-gitDecoration-stageModifiedResourceForeground: #e2c08d;\n    --vscode-gitDecoration-stageDeletedResourceForeground: #c74e39;\n    --vscode-gitDecoration-conflictingResourceForeground: #e4676b;\n    --vscode-gitDecoration-submoduleResourceForeground: #8db9e2;\n    --vscode-gitlens-gutterBackgroundColor: rgba(255, 255, 255, 0.07);\n    --vscode-gitlens-gutterForegroundColor: #bebebe;\n    --vscode-gitlens-gutterUncommittedForegroundColor: rgba(0, 188, 242, 0.6);\n    --vscode-gitlens-trailingLineBackgroundColor: rgba(0, 0, 0, 0);\n    --vscode-gitlens-trailingLineForegroundColor: rgba(153, 153, 153, 0.35);\n    --vscode-gitlens-lineHighlightBackgroundColor: rgba(0, 188, 242, 0.2);\n    --vscode-gitlens-lineHighlightOverviewRulerColor: rgba(0, 188, 242, 0.6);\n    --vscode-gitlens-openAutolinkedIssueIconColor: #3fb950;\n    --vscode-gitlens-closedAutolinkedIssueIconColor: #a371f7;\n    --vscode-gitlens-closedPullRequestIconColor: #f85149;\n    --vscode-gitlens-openPullRequestIconColor: #3fb950;\n    --vscode-gitlens-mergedPullRequestIconColor: #a371f7;\n    --vscode-gitlens-unpublishedChangesIconColor: #35b15e;\n    --vscode-gitlens-unpublishedCommitIconColor: #35b15e;\n    --vscode-gitlens-unpulledChangesIconColor: #b15e35;\n    --vscode-gitlens-decorations-addedForegroundColor: #81b88b;\n    --vscode-gitlens-decorations-copiedForegroundColor: #73c991;\n    --vscode-gitlens-decorations-deletedForegroundColor: #c74e39;\n    --vscode-gitlens-decorations-ignoredForegroundColor: #8c8c8c;\n    --vscode-gitlens-decorations-modifiedForegroundColor: #e2c08d;\n    --vscode-gitlens-decorations-untrackedForegroundColor: #73c991;\n    --vscode-gitlens-decorations-renamedForegroundColor: #73c991;\n    --vscode-gitlens-decorations-branchAheadForegroundColor: #35b15e;\n    --vscode-gitlens-decorations-branchBehindForegroundColor: #b15e35;\n    --vscode-gitlens-decorations-branchDivergedForegroundColor: #d8af1b;\n    --vscode-gitlens-decorations-branchUnpublishedForegroundColor: #35b15e;\n    --vscode-gitlens-decorations-branchMissingUpstreamForegroundColor: #c74e39;\n    --vscode-gitlens-decorations-workspaceRepoMissingForegroundColor: #909090;\n    --vscode-gitlens-decorations-workspaceCurrentForegroundColor: #35b15e;\n    --vscode-gitlens-decorations-workspaceRepoOpenForegroundColor: #35b15e;\n    --vscode-gitlens-decorations-worktreeHasUncommittedChangesForegroundColor: #e2c08d;\n    --vscode-gitlens-decorations-worktreeMissingForegroundColor: #c74e39;\n    --vscode-gitlens-graphLane1Color: #15a0bf;\n    --vscode-gitlens-graphLane2Color: #0669f7;\n    --vscode-gitlens-graphLane3Color: #8e00c2;\n    --vscode-gitlens-graphLane4Color: #c517b6;\n    --vscode-gitlens-graphLane5Color: #d90171;\n    --vscode-gitlens-graphLane6Color: #cd0101;\n    --vscode-gitlens-graphLane7Color: #f25d2e;\n    --vscode-gitlens-graphLane8Color: #f2ca33;\n    --vscode-gitlens-graphLane9Color: #7bd938;\n    --vscode-gitlens-graphLane10Color: #2ece9d;\n    --vscode-gitlens-graphChangesColumnAddedColor: #347d39;\n    --vscode-gitlens-graphChangesColumnDeletedColor: #c93c37;\n    --vscode-gitlens-graphMinimapMarkerHeadColor: #05e617;\n    --vscode-gitlens-graphScrollMarkerHeadColor: #05e617;\n    --vscode-gitlens-graphMinimapMarkerUpstreamColor: #09ae17;\n    --vscode-gitlens-graphScrollMarkerUpstreamColor: #09ae17;\n    --vscode-gitlens-graphMinimapMarkerHighlightsColor: #fbff0a;\n    --vscode-gitlens-graphScrollMarkerHighlightsColor: #fbff0a;\n    --vscode-gitlens-graphMinimapMarkerLocalBranchesColor: #3087cf;\n    --vscode-gitlens-graphScrollMarkerLocalBranchesColor: #3087cf;\n    --vscode-gitlens-graphMinimapMarkerRemoteBranchesColor: #2b5e88;\n    --vscode-gitlens-graphScrollMarkerRemoteBranchesColor: #2b5e88;\n    --vscode-gitlens-graphMinimapMarkerStashesColor: #b34db3;\n    --vscode-gitlens-graphScrollMarkerStashesColor: #b34db3;\n    --vscode-gitlens-graphMinimapMarkerTagsColor: #6b562e;\n    --vscode-gitlens-graphScrollMarkerTagsColor: #6b562e;\n\n\n}\n\n[data-theme=\"light\"]{\n  --background: #ffffff !important;\n  --foreground: #616161 !important;\n  --dropdown-background: #ffffff !important;\n  --dropdown-foreground: #616161 !important;\n  --input-background: #ffffff !important;\n  --input-foreground: #616161 !important;\n  --sideBarSectionHeader-foreground: #616161 !important;\n  --dropdown-list-max-height: 100px !important;\n  --library-icon-filter: invert(0) !important;\n  /* --focus-border: #333333 !important; */\n  #gjs-clm-tag-label{\n    color: var(--background) !important;\n  }\n}\n\n[data-theme=\"dark\"]{  \n  --background: #282a36 !important;\n  --foreground: #f8f8f2 !important;\n  --dropdown-background: #282a36 !important;\n  --dropdown-foreground: #f8f8f2 !important;\n  --input-background: #282a36 !important;\n  --input-foreground: #f8f8f2 !important;\n  --sideBarSectionHeader-foreground: #f8f8f2 !important;\n  --dropdown-list-max-height: 100px !important;\n  --library-icon-filter: invert(1) !important;\n  /* --focus-border: #ffffff !important; */\n}\n\n  :root {\n    --container-paddding: 20px;\n    --input-padding-vertical: 6px;\n    --input-padding-horizontal: 4px;\n    --input-margin-vertical: 4px;\n    --input-margin-horizontal: 0;\n  }\n\n  body {\n    color: var(--foreground);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n    font-family: var(--font-family);\n    background-color: var(--editor-background);\n    margin: 0px;\n  }\n\n  #app {\n    font-family: -apple-system, BlinkMacSystemFont, sans-serif;\n    font-size: 13px;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: var(--foreground);\n    margin-top: 0px;\n    height: 100vh;\n  }\n\n  .nothingSelected{\n    padding: 10px 20px;\n    text-align: center;\n    width: 100%;\n    opacity: 0.5;\n    user-select: none;\n  }\n\n  input, select {\n    background-color: var(--input-background) !important;\n    color: var(--input-foreground) !important;\n    border: calc(var(--border-width) * 1px) solid var(--dropdown-border) !important;\n    border-radius: calc(var(--corner-radius) * 1px) !important;\n  }\n\n  input:focus, input:focus-visible, select:focus, select:focus-visible {\n    border: solid 1px var(--focus-border) !important;\n    outline: none !important;\n  }\n\n  .codicon-chevron-down:before {\n    content: '\\eab4';\n  }\n\n  .notProUI{\n    padding: 10px;\n    text-align: center;\n}\n\n\n:root {\n  --sb-track-color: #232E3300;\n  --sb-thumb-color: #cccccc40;\n  --sb-size:8px;\n  /* overflow: hidden; */\n}\n\n:root *::-webkit-scrollbar {\n  width: var(--sb-size) !important;\n}\n\n:root *::-webkit-scrollbar-track {\n  background: var(--sb-track-color) !important;\n  border-radius: 1px !important;\n}\n\n:root *::-webkit-scrollbar-thumb {\n  background: var(--sb-thumb-color) !important;\n  border-radius: 1px !important;\n  \n}\n\n\n\n  .splitpanes__splitter {background-color: #cccccc30;position: relative;}\n  .splitpanes__splitter:hover {background-color: var(--button-primary-background);  }\n  .splitpanes__splitter:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    transition: opacity 0.4s;\n    background-color: rgba(127, 127, 127, 0);\n    opacity: 0;\n    z-index: 1;\n  }\n  .splitpanes__splitter:hover:before {opacity: 1;}\n  .splitpanes--vertical > .splitpanes__splitter:before {left: -2px;right: -2px;height: 100%;}\n  .splitpanes--horizontal > .splitpanes__splitter:before {top: -2px;bottom: -2px;width: 100%;}\n\n\n  .gjs-three-bg {\n    background-color: var(--button-primary-background) !important;\n  }\n\n  .cke_inner{\n    min-width: 530px !important;\n  }\n\n  .hljs-number {\n    color: #999999 !important;\n  }\n\n  .Vue-Toastification__toast{\n    background-color: var(--background) !important;\n    color: var(--button-primary-text) !important;\n    padding: 10px 24px !important;\n    min-height: 10px !important;\n    border: solid 1px #cccccc90 !important;\n    box-shadow: 5px 5px 20px #00000080 !important;\n    max-width: 350px !important;\n    min-width:300px !important;\n  }\n  .Vue-Toastification__toast-body{\n    font-size: 13px !important\n  }\n\n  #wsconnectionalert{\n    display: none;\n  }\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=a002bd74&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","// ===============================================================================\n// Import 3rd party modules\n// ===============================================================================\nimport { createApp } from \"vue\";\nimport Quasar from 'quasar/src/vue-plugin.js';;\nimport Toast from \"vue-toastification\";\nimport \"vue-toastification/dist/index.css\";\nimport quasarUserOptions from \"./quasar-user-options\";\nimport axios from \"axios\";\n\n// ===============================================================================\n// Import local modules\n// ===============================================================================\nimport App from \"./App.vue\";\nimport store from \"./store\";\nimport { loadBlockDefinitions } from \"./utils/blockDefinitions\";\nimport Configuration from \"./utils/Configuration\";\n\nwindow.axios = axios;\n// ===============================================================================\n// Global variables and functions\n// ===============================================================================\nwindow.currentThemeType = \"light\";\nwindow.canvasComponents = {};\n\n\nwindow.addCanvasComponent = function (id, component) {\n  window.canvasComponents[id] = component;\n};\n\n\nwindow.removeCanvasComponent = function (id) {\n  delete window.canvasComponents[id];\n};\n\n\nwindow.setTheme = function (theme) {\n  document.querySelector(\"body\").setAttribute(\"style\", \"\");\n  if (theme === \"dark\") {\n    document.documentElement.setAttribute(\"data-theme\", \"dark\");\n  } else {\n    document.documentElement.setAttribute(\"data-theme\", \"light\");\n  }\n  window.currentThemeType = theme;\n  if (window.switchCodeEditorTheme) {\n    window.switchCodeEditorTheme(theme);\n  }\n};\n\n\nwindow.getSearchParams = () => {\n  const params = new URLSearchParams(window.location.search);\n  const obj = {};\n  for (const [key, value] of params.entries()) {\n    obj[key] = value;\n  }\n  return obj;\n};\n\n\nwindow.addEventListener(\n  \"message\",\n  (event) => {\n    if (event.data.command === \"removeCanvasComponent\") {\n      window.removeCanvasComponent(event.data.uid);\n    } else if (event.data.command === \"updateTheme\") {\n      window.setTheme(event.data.themeType);\n    }\n  },\n  false\n);\n\n\n\n// Custom-components-related functions\n// --------------------------------------------------------------------------------\nwindow.customComponentsCssPaths = [];\nwindow.extractCustomComponentsFromPageAssets = function (componentsList) {\n  let appPath = Configuration.getAppBaseUrl('http', Configuration.appport);\n  let customComponents = [];\n  for( let componentName in componentsList ){\n    let componentAssets = componentsList[componentName];\n    componentAssets.forEach((asset, index) => {\n      // remove prefix slash if present\n      if (asset.startsWith(\"/\")) {\n        asset = asset.substring(1);\n      }\n      // PArse each asset according to its type\n      if ( asset.endsWith(\"definitions.json\") ){\n        customComponents.push( asset );\n      }else if ( asset.endsWith(\".css\") ){\n        let cssFullPath = appPath + asset;\n        customComponentsCssPaths.push( cssFullPath );\n      }\n    });\n  }\n  return customComponents;\n};\n\n\nfunction loadMultipleUrls(urls, successCallback, completeCallback) {\n  const requests = urls.map((url) => fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(`Failed to fetch ${url}: ${response.statusText}`);\n    }\n    return response.json();\n  }));\n\n  Promise.all(requests)\n    .then((responses) => {\n      responses.forEach((response) => {\n        // Execute the success callback for each response\n        successCallback(response);\n      });\n    })\n    .catch(error => {\n      console.error('One or more requests failed:', error);\n    })\n    .finally(() => {\n      // Execute the complete callback when all requests have been loaded\n      completeCallback();\n    });\n}\n\n// UX/UI event logging\nwindow.logUserEvent = ( name, data )=>{\n  if( name == undefined || data == undefined ){\n    return;\n  }\n  console.log(`logUserEvent: ${name}`, data);\n  window.parent.postMessage({\n    command: \"logUserEvent\",\n    name: name,\n    data: data\n  }, \n  \"*\");\n}\n\n// MAIN FUNCTION (entrypoint)\n// --------------------------------------------------------------------------------\n\nfunction startNocodeApplication() {\n  // ==============================================================\n  //                      URL PARAMS\n  // ==============================================================\n\n  // Get the URL params to configure connectivity with backend\n  // Check url params and save in Configuration if all good\n  let expectedParamsList = [\n    \"appid\",\n    \"appport\",\n    \"CHANNEL__\",\n    \"GB_SOURCE\",\n    \"GB_HOST\",\n    \"GB_PORT\",\n    \"USER_EMAIL\",\n    \"SESSIONID\",\n  ];\n  let urlParamsMissing = [];\n  window.searchParams = getSearchParams();\n  let report = \"NCD. URL Params\\n------------------------\";\n  expectedParamsList.forEach((paramName) => {\n    report += `\\n  - ${paramName}: ${searchParams[paramName]}`;\n    if (searchParams[paramName] == undefined) {\n      urlParamsMissing.push(paramName);\n    } else {\n      Configuration[paramName] = searchParams[paramName];\n    }\n  });\n  Configuration.elementid = searchParams.elementid;\n\n  // Throw error if any param is missing\n  if (urlParamsMissing.length > 0) {\n    let urlParamsMessage = \"Missing URL params: \" + urlParamsMissing.join(\", \");\n    alert(urlParamsMessage);\n    throw new Error(urlParamsMessage);\n  }\n\n  // Set session id header for all requests\n  axios.defaults.headers.common[\"gb-sessionid\"] = `${Configuration.SESSIONID}`;\n\n  // Build API base (used for ajax requests against the GB API)\n  window.apibase = Configuration.getExternalApiBaseUrl(\"http\") + \"api/v1/\";\n\n  // Set the UI Theme\n  window.themeType = \"dark\";\n  if (searchParams.theme == \"light\") {\n    themeType = \"light\";\n  }\n  setTheme(themeType);\n\n  // To-do: the \"pro\" setting should be set by the backend, we need to implement this properly\n  // here's just a quick implementation as a POC\n  Configuration.IS_PRO = searchParams.ispro == \"true\";\n  Configuration.LICENSE_TYPE = searchParams.license_type;\n  Configuration.currentPageIndex = searchParams.pageindex;\n\n  if (!apibase || !Configuration.appid) {\n    return;\n  }\n\n  // Load the list of apps\n  axios\n    .get(apibase + \"apps\")\n    .then((result) => {\n      // Find the requested app\n      let myApp = result.data.applications.find((app) => {\n        return app.id.value.toString() == Configuration.appid;\n      });\n      window.fullAppData = myApp;\n\n      if (myApp != null) {\n        // Get app's current page info\n        axios\n          .get(apibase + \"apps/\" + Configuration.appid + \"/pages\")\n          .then((result) => {\n            let currentPage = result.data.pages[0];\n            // Get custom Component definitions paths from the page assets\n            let customComponents = extractCustomComponentsFromPageAssets(\n              currentPage.gb_components\n            );\n            // Build the final URLs to load the custom components\n            let appPath = Configuration.getAppBaseUrl('http', Configuration.appport);\n            customComponents = customComponents.map((customComponent) => {\n              // remove prefix slash if present\n              if (customComponent.startsWith(\"/\")) {\n                customComponent = customComponent.substring(1);\n              }\n              let fullPath = appPath + customComponent;\n\n              return fullPath;\n            });\n\n            let customComponentsDefinitions = [];\n            loadMultipleUrls(\n              customComponents,\n              // for each loaded url\n              (customComponentDef) => {\n                let customBlockDefJsonObject = customComponentDef;\n                let CP = currentPage;\n                let gbPluginId = customBlockDefJsonObject.gbPluginId;\n                let pluginAssets = CP.gb_components[gbPluginId];\n                let iconRelativePath = pluginAssets.find( asset =>{\n                    return asset.endsWith(\"png\");\n                });\n                if( iconRelativePath ){\n                  let iconAbsolutePath = \"{appPath}\" + iconRelativePath;\n                  customBlockDefJsonObject.icon = iconAbsolutePath;\n                }\n                \n                customComponentsDefinitions.push(customBlockDefJsonObject);\n              },\n              // on all urls loaded (on-comple callbak)\n              () => {\n                loadBlockDefinitions((definitions) => {\n                  window.blockDefinitions = definitions;\n\n                  // Add custom components to the list\n                  customComponentsDefinitions.forEach((customComponentDef) => {\n                    window.blockDefinitions.push(customComponentDef);\n                  });\n\n                  // Create and mount the Vue app\n                  let app = createApp(App);\n                  const toastOptions = {\n                    position: \"top-right\",\n                    timeout: 50000,\n                    closeOnClick: true,\n                    pauseOnFocusLoss: true,\n                    pauseOnHover: true,\n                    draggable: false,\n                    //draggablePercent: 0.6,\n                    showCloseButtonOnHover: true,\n                    hideProgressBar: true,\n                    closeButton: \"button\",\n                    icon: true,\n                    rtl: false,\n                  };\n                  app.use(Toast, toastOptions);\n                  app.use(Quasar, quasarUserOptions).use(store).mount(\"#app\");\n                });\n              }\n            );\n          })\n          .catch((error) => {\n            console.log(\"error\", error);\n          });\n      }\n    })\n    .catch((error) => {\n      console.log(\"error\", error);\n    });\n}\n\n\n// Call entrypoint\nstartNocodeApplication();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./ChartPropertiesSection.vue?vue&type=style&index=0&id=6bcc04fe&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./Tab.vue?vue&type=style&index=0&id=30e21b8c&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./AiCodePanel.vue?vue&type=style&index=0&id=69ff92f5&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./AiHelpPanel.vue?vue&type=style&index=0&id=46c931ab&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./App.vue?vue&type=style&index=0&id=a002bd74&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./Main.vue?vue&type=style&index=0&id=b98cdb90&scoped=true&lang=scss\"","\n\nfunction registerPlotlyComponent(editor){\n    \n    editor.DomComponents.addType('plotly', {\n\n        isComponent: function (el) {\n        if (el.tagName === 'PLOTLY')\n            return {type: 'plotly', name:'Plotly'};\n        },\n        model: \n        {\n            defaults: {\n                removable: true,\n                draggable: true,\n                droppable: \"tempplaceholder\",\n                badgable: true,\n                stylable: true,\n                highlightable: true,\n                copyable: false,\n                resizable: false,\n                editable: false,\n                hoverable: true,\n                traits: [ ],\n                script: function(){    \n                    var serverData = window.parent.sharedData.externalData;\n                    \n                    let uniqueId = this.attributes.id.nodeValue;\n\n                    this.onExternalDataChanged = (event)=>{\n                        serverData = event.detail;\n                        mappedAttributes = getMappedAttributes(this.attributes);\n                        this.vueApp.updateServerData(serverData);\n                \n                    }\n\n                    window.parent.addCanvasComponent( uniqueId, this );\n                    //window.parent.addEventListener('sharedDataChanged', this.onExternalDataChanged);\n                    \n                    \n                    \n                    /**\n                     * This function takes in an object of attributes and maps them to a new object with modified attribute names.\n                     * If the attribute name contains a colon, it is removed. If the attribute name is 'data', its value is parsed as JSON.\n                     * The resulting object is returned.\n                     */\n                    // To-do: these functions should be moved to a utility file.\n                    // Be careful because it is duplicated in ChartProperties.vue\n                    // HAven't done so yet because the scope of the grapes component instance is isolated and can't access outside functions\n                    function getMappedAttributes(attributesIn){\n                        let mappedAttributes = {};                    \n                        let attributeNames = Object.getOwnPropertyNames(attributesIn);\n                        attributeNames.forEach( (attrName)=>{\n                            let cleanAttributeName = attrName.replace(\"gb_c__\", \"\");\n                            let attributeValue = attributesIn[attrName].nodeValue !== undefined ? attributesIn[attrName].nodeValue: attributesIn[attrName];\n                            if( ['data', 'layout', 'config'].includes(cleanAttributeName) ){\n                                if( attrName.startsWith('gb_c__') )\n                                    attributeValue = atob(attributeValue)\n                                if( serverData[attributeValue] !== undefined ){\n                                    mappedAttributes[':'+cleanAttributeName] = serverData[attributeValue];\n                                } else {\n                                    mappedAttributes[':'+cleanAttributeName] = JSON.parse(attributeValue);\n                                }\n                            }\n                        })\n                        return mappedAttributes;\n                    }\n\n                    function replaceReferencedBindingsToAttributeData(obj) {\n                        for (let key in obj) {\n                          if (typeof obj[key] === 'object' && obj[key] !== null) {\n                            // Recursively process nested objects\n                            replaceReferencedBindingsToAttributeData(obj[key]);\n                          } else if (typeof obj[key] === 'string') {\n                            // Check if string value contains \"$_{xxxxx}\"\n                            const match = obj[key].match(/\\$_{(.+?)}/);\n                            if (match && match[1]) {\n                              const propToReplace = match[1];\n                              // Replace the value with the value from myStore\n                              obj[key] = getNestedProperty(serverData, propToReplace);\n                            }\n                          }\n                        }\n                    }\n\n                    function getNestedProperty(obj, propName) {\n                        const propParts = propName.split('.');\n                        for (let i = 0; i < propParts.length; i++) {\n                            if (!obj || !obj.hasOwnProperty(propParts[i])) {\n                                return undefined;\n                            }\n                            obj = obj[propParts[i]];\n                        }\n                        return obj;\n                    }\n\n                    let mappedAttributes = getMappedAttributes(this.attributes);\n\n\n                    this.vueApp = new Vue({\n                        el: '#vueinternal_'+uniqueId,\n                        //components: { QBtn:Quasar.}, \n                        data: function(){ \n\n\n                            let parsedData = mappedAttributes[':data'];\n                            replaceReferencedBindingsToAttributeData(parsedData);\n                            let parsedLayout = mappedAttributes[':layout'] || {};\n                            replaceReferencedBindingsToAttributeData(parsedLayout);\n                            let parsedConfig = mappedAttributes[':config'] || {};\n                            replaceReferencedBindingsToAttributeData(parsedConfig);\n                            \n                            return {\n                                \n                                message:\"TESTING_ID\",\n                                attributes: mappedAttributes,  \n                                serverData: serverData,\n                                parsedData: parsedData, \n                                parsedLayout: parsedLayout, \n                                parsedConfig: parsedConfig\n                            }\n                        }, \n                        methods: {\n                            updateServerData(newServerData){\n                                this.serverData = newServerData;\n                                let parsedData = mappedAttributes[':data'];\n                                replaceReferencedBindingsToAttributeData(parsedData);\n                                this.parsedData = parsedData;\n                                let parsedLayout = mappedAttributes[':layout'] || {};\n                                replaceReferencedBindingsToAttributeData(parsedLayout);\n                                this.parsedLayout = parsedLayout;\n                                let parsedConfig = mappedAttributes[':config'] || {};\n                                replaceReferencedBindingsToAttributeData(parsedConfig);\n                                this.parsedConfig = parsedConfig;\n                            }, \n                            updateAttributes(attrs){            \n                                this.attributes = getMappedAttributes(attrs);\n                                mappedAttributes = this.attributes;\n                                this.updateServerData(this.serverData)\n                            }, \n\n                        }, \n                        mounted() {\n                        }\n                    });\n\n                }\n            },\n            handleAttrChange() {\n            },\n            render: function () {\n                this.view.onRender();\n            },\n            init() {\n                this.listenTo(this, 'change:attributes', this.onAttributeChange);\n\n            },\n            removed() {\n                window.parent.postMessage( {command:\"removeCanvasComponent\", uid:this.ccid }, \"*\" );\n                //window.parent.removeEventListener('sharedDataChanged', this.view.$el[0].onExternalDataChanged );\n\n            },\n        },\n        view: {\n            onAttributeChange() {\n            }, \n            onRender() {\n                const { el, model } = this;\n                let uniqueId = el.attributes.id.nodeValue;\n                el.grapesModel = model;\n                const renderContent = `<div id=\"vueinternal_${uniqueId}\" style=\"position: relative;\">\n                    <Plotly ref=\"childVueInstance\" :data=\"parsedData\" :layout=\"parsedLayout\" :config=\"parsedConfig\"></Plotly>\n                    <div style=\"position: absolute; background-color: #ff000000; top: 0px; left: 0px; width: 100%; height: 100%;\"></div>\n                `;\n                el.innerHTML = renderContent;\n            }\n        }\n\n    });\n}\n\nmodule.exports = { registerPlotlyComponent }","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./CanvasPanel.vue?vue&type=style&index=1&id=49cd9b2f&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./ComponentAddDialog.vue?vue&type=style&index=0&id=457e8d62&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./BindingsConnector.vue?vue&type=style&index=0&id=704c43b8&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./Tabs.vue?vue&type=style&index=0&id=2b2c15a8&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./LibraryPanel.vue?vue&type=style&index=0&id=54aa55a6&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./CanvasPanel.vue?vue&type=style&index=0&id=49cd9b2f&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-cli-plugin-quasar/lib/loader.vue.auto-import-quasar.js??ref--1-1!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-2!./PropertiesPanel.vue?vue&type=style&index=1&id=d4c6351e&lang=scss\""],"sourceRoot":""}